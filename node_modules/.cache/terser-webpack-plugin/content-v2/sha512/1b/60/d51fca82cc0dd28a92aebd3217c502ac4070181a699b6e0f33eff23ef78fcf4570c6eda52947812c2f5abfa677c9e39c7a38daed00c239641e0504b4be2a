{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4a5f66aa\"],{\"11a7\":function(t,e,a){\"use strict\";var s=a(\"1f9f\"),r=a.n(s);r.a},\"1f9f\":function(t,e,a){},\"2fdb\":function(t,e,a){\"use strict\";var s=a(\"5ca1\"),r=a(\"d2c8\"),i=\"includes\";s(s.P+s.F*a(\"5147\")(i),\"String\",{includes:function(t){return!!~r(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},\"46b4\":function(t,e,a){},\"4e42\":function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"a-row\",[a(\"a-col\",{staticClass:\"purchase-right\",attrs:{span:24}},[a(\"a-form\",{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{layout:\"horizontal\"}},[a(\"a-row\")],1),a(\"a-table\",{attrs:{columns:t.columns,dataSource:t.data,pagination:t.pagination,rowSelection:t.rowSelection,loading:t.loading},on:{change:t.onChangePage},scopedSlots:t._u([{key:\"applyCode\",fn:function(e,s){return[a(\"a\",{attrs:{href:\"javascript:;\"},on:{click:function(e){return t.showDrawer(s)}}},[t._v(t._s(e))])]}},{key:\"status\",fn:function(e){return[t._v(t._s(t._f(\"putStorageStatus\")(e)))]}}])},[a(\"template\",{slot:\"warehouse\"},[t._v(\"共享仓\")])],2)],1)],1),a(\"a-drawer\",{attrs:{destroyOnClose:!0,placement:\"right\",closable:!1,visible:t.visible,width:1040,wrapStyle:{height:\"100%\",overflow:\"auto\",paddingBottom:\"108px\"}},on:{close:t.closeDrawer}},[a(\"purchaseInfo\",{attrs:{prchaseDetial:t.prchaseDetial},on:{isDrawer:t.isDrawer}})],1)],1)},r=[],i=(a(\"c5f6\"),a(\"6762\"),a(\"2fdb\"),a(\"365c\")),o=a(\"0d5e\"),n=a(\"cd34\"),l=a(\"75cd\"),c=[{title:\"发货单号\",dataIndex:\"applyCode\",scopedSlots:{customRender:\"applyCode\"}},{title:\"客户\",dataIndex:\"toName\"},{title:\"发货仓库\",dataIndex:\"warehouse\",scopedSlots:{customRender:\"warehouse\"}},{title:\"收货人\",dataIndex:\"oaddresseeName\"},{title:\"联系方式\",dataIndex:\"ophone\"},{title:\"地址\",dataIndex:\"oaddress\"},{title:\"状态\",dataIndex:\"status\",scopedSlots:{customRender:\"status\"}}],p=[{title:\"销售单号\",dataIndex:\"relateOrderCode\"},{title:\"订单数量\",dataIndex:\"relateOrderSkuCount\"},{title:\"本次数量\",dataIndex:\"assignCount\"},{title:\"产品编号\",dataIndex:\"fromSkuInfo.code\"},{title:\"产品名称\",dataIndex:\"fromSkuInfo.name\"},{title:\"产品规格\",dataIndex:\"fromSkuInfo.spec\"}],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"purchase-info\"},[a(\"div\",{staticClass:\"prompt-title\"},[a(\"a-row\",[a(\"a-col\",{attrs:{span:16}},[a(\"h3\",{staticClass:\"prompt-h3\"},[t._v(\"出库详情\")])]),a(\"a-col\",{staticClass:\"prompt-wrapper\",attrs:{span:8}},[a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"WAREHOUSE\"===t.companyType&&\"STORED_OUT\"!==t.prchaseDetial.status,expression:\"companyType === 'WAREHOUSE' && prchaseDetial.status !=='STORED_OUT'\"}],staticClass:\"prompt-delete\",on:{click:t.orderPick}},[a(\"a-icon\",{staticStyle:{color:\"#F0BB2E\",\"margin-right\":\"4px\"},attrs:{type:\"plus-circle\"}}),a(\"span\",[t._v(\"确认发货\")])],1)])],1)],1),a(\"a-row\",[a(\"a-col\",{attrs:{span:24}},[a(\"h3\",{staticClass:\"purchase-info-title\"},[t._v(\"基本信息\")])])],1),a(\"a-row\",[a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"发货单号\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.applyCode))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"物流方式\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.oshippingMode))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"联系方式\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.ophone))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"客户\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.toName))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"地址\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.oaddress))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"收货人\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.oaddresseeName))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"备注\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.remarks))]],2)],1)],1),a(\"a-row\",[a(\"a-col\",{attrs:{span:24}},[a(\"h3\",{staticClass:\"purchase-info-title\"},[t._v(\"发货列表\")])])],1),a(\"a-row\",[a(\"a-col\",{attrs:{span:24}},[a(\"a-table\",{attrs:{columns:t.columnsDetail,dataSource:t.prchaseDetial.orderOutstorageApplyDetailAssign,pagination:!1,rowKey:function(t){return t.id}}})],1)],1),a(\"div\",{style:{position:\"absolute\",left:0,bottom:0,width:\"100%\",borderTop:\"1px solid #E9E9E9\",padding:\"10px 16px\",background:\"#FFF\",textAlign:\"right\"}},[a(\"a-button\",{style:{marginRight:\"8px\"},on:{click:t.onClose}},[t._v(\"取消\")]),a(\"a-button\",{attrs:{disabled:\"\"}},[t._v(\"保存\")])],1)],1)},u=[],h=a(\"a1ab\"),m={mixins:[n[\"a\"],n[\"c\"],l[\"e\"]],components:{\"prompt-title\":h[\"a\"]},props:[\"prchaseDetial\"],data:function(){return{columnsDetail:p,companyType:\"\",actionOrder:!1}},created:function(){this.companyType=localStorage.getItem(\"companyType\")},methods:{isDisabled:function(t){this.disabled=!t},isDelete:function(t){console.log(t)},orderPick:function(){var t=this;if(this.actionOrder)this.$message.warning(\"请不要重复操作\");else{this.actionOrder=!0;var e=this.prchaseDetial.orderOutstorageApplyDetailAssign,a=[];e.forEach(function(t){a.push(t.id)}),Object(o[\"f\"])(i[\"a\"].outStorageApplyStatus,a).then(function(e){0===e.data.code?(t.$message.success(\"操作成功\"),t.$emit(\"isDrawer\",!0)):t.$message.error(e.data.msg)}).catch(function(){t.actionOrder=!1,t.$message.error(\"系统错误\")})}}}},f=m,g=(a(\"11a7\"),a(\"2877\")),w=Object(g[\"a\"])(f,d,u,!1,null,\"dd4f9726\",null),v=w.exports,b={mixins:[n[\"a\"],n[\"b\"],l[\"c\"],l[\"e\"]],components:{purchaseInfo:v},data:function(){return{columns:c,data:[],selectedRowKeys:[],pagination:{total:0,pageSize:15,defaultCurrent:1,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:[\"10\",\"15\",\"30\",\"50\",\"100\"]},dateArr:[],prchaseDetial:{}}},created:function(){this.getListCompanySpringSpecs(this.specCurrentPage),this.getFactoryPolicyOrderList()},computed:{rowSelection:function(){var t=this.selectedRowKeys;return{selectedRowKeys:t,onChange:this.onChangeTab,hideDefaultSelections:!1}},getMenuPermission:function(){return this.$store.state.menuPermission}},methods:{searchReset:function(){},inputChange:function(t,e){var a=this;this.workshopOrdersPostBean.currentPage=1,\"date\"===e?(this.workshopOrdersPostBean.startTime=t[0],this.workshopOrdersPostBean.endTime=t[1]):this.workshopOrdersPostBean[e]=t,\"\"!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){a.getFactoryPolicyOrderList()},500)},currentPageChange:function(t){var e=this.getCurrentPageChange(t);e&&this.getListCompanySpringSpecs(this.specCurrentPage)},onChangePage:function(t,e,a){this.pagination.pageSize=t.pageSize,this.getFactoryPolicyOrderList(t.current)},showDrawer:function(t){this.getMenuPermission.includes(\"DETAIL\")?(this.visible=!0,this.getProcurementDetial(t.id)):this.$message.error(\"权限不足\")},getProcurementDetial:function(t){var e=this;Object(o[\"c\"])(i[\"a\"].outStorageApplyDetail+\"\".concat(t)).then(function(t){if(0===t.data.code){var a=t.data.data;a.orderOutstorageApplyDetailAssign.forEach(function(t){t.fromSkuInfo=JSON.parse(t.fromSkuInfo)}),e.prchaseDetial=a,e.$store.commit(\"setPromptTitle\",{title:\"出库详情\",isEdit:!1})}else e.$message.error(t.data.msg)})},isDrawer:function(t){t&&this.getFactoryPolicyOrderList(),this.visible=!1},getFactoryPolicyOrderList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0;var a={};a.currentPage=e,a.pageSize=this.pagination.pageSize,Object(o[\"c\"])(i[\"a\"].outStorageApplyList,a).then(function(e){if(0===e.data.code){var a=e.data.data.records;a.forEach(function(t,e){t[\"key\"]=e}),t.pagination.total=Number(e.data.data.total),t.data=a}t.loading=!1})}}},y=b,C=(a(\"a96a\"),Object(g[\"a\"])(y,s,r,!1,null,\"7edb650c\",null));e[\"default\"]=C.exports},5147:function(t,e,a){var s=a(\"2b4c\")(\"match\");t.exports=function(t){var e=/./;try{\"/./\"[t](e)}catch(a){try{return e[s]=!1,!\"/./\"[t](e)}catch(r){}}return!0}},6762:function(t,e,a){\"use strict\";var s=a(\"5ca1\"),r=a(\"c366\")(!0);s(s.P,\"Array\",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(\"9c6c\")(\"includes\")},\"80dd\":function(t,e,a){\"use strict\";var s=a(\"46b4\"),r=a.n(s);r.a},a1ab:function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"prompt-title\"},[a(\"a-row\",[a(\"a-col\",{attrs:{span:18}},[a(\"h3\",{staticClass:\"prompt-h3\"},[t._v(t._s(t.getPromptTitle.title))])]),t.getPromptTitle.isEdit?a(\"a-col\",{staticClass:\"prompt-wrapper\",attrs:{span:6}},[a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.getDetailPermission.includes(\"UPDATE\"),expression:\"getDetailPermission.includes('UPDATE')\"}],staticClass:\"prompt-edit\",on:{click:t.onHandlePromptEdit}},[a(\"a-icon\",{staticClass:\"eidt-icon\",attrs:{type:\"edit\"}}),a(\"span\",[t._v(t._s(t.editTitle))])],1),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.getDetailPermission.includes(\"DELETE\"),expression:\"getDetailPermission.includes('DELETE')\"}],staticClass:\"prompt-delete\",on:{click:t.onHandlePromptDelete}},[a(\"a-icon\",{staticClass:\"delete-icon\",attrs:{type:\"delete\"}}),a(\"span\",[t._v(\"删除\")])],1)]):t._e()],1)],1)},r=[],i={name:\"prompt-title\",data:function(){return{editTitle:\"编辑\"}},methods:{onHandlePromptEdit:function(){if(\"编辑\"===this.editTitle)return this.editTitle=\"取消\",void this.$emit(\"isDisabled\",!1);this.$emit(\"isDisabled\",!0),this.editTitle=\"编辑\"},onHandlePromptDelete:function(){var t=this;this.$confirm({title:\"删除\",content:\"您确认要删除？\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){t.$emit(\"isDelete\",!1)},onCancel:function(){console.log(\"Cancel\")}})}},computed:{getPromptTitle:function(){return this.$store.state.promptTitle},getDetailPermission:function(){return this.$store.state.detailPermission}}},o=i,n=(a(\"80dd\"),a(\"2877\")),l=Object(n[\"a\"])(o,s,r,!1,null,\"a552123e\",null);e[\"a\"]=l.exports},a96a:function(t,e,a){\"use strict\";var s=a(\"c964\"),r=a.n(s);r.a},c964:function(t,e,a){},d2c8:function(t,e,a){var s=a(\"aae3\"),r=a(\"be13\");t.exports=function(t,e,a){if(s(e))throw TypeError(\"String#\"+a+\" doesn't accept regex!\");return String(r(t))}}}]);","extractedComments":[]}