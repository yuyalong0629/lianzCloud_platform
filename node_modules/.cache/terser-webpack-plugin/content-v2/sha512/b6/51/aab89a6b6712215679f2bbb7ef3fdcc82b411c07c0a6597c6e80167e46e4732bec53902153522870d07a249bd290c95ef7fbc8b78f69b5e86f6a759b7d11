{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1351d6ae\"],{\"0846\":function(t,e,a){\"use strict\";var r=a(\"d2dd\"),i=a.n(r);i.a},\"08b5\":function(t,e,a){\"use strict\";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"purchase\"},[a(\"a-row\",{attrs:{gutter:20}},[a(\"a-col\",{attrs:{span:5}},[a(\"classification\",{attrs:{category:t.category},on:{purchaseListId:t.purchaseListId}})],1),a(\"a-col\",{staticClass:\"purchase-right\",attrs:{span:19}},[a(\"inputSearch\",{attrs:{typeInput:t.typeInput},on:{dataChange:t.dataChange}}),a(\"a-row\",{attrs:{span:24}},[a(\"a-table\",{attrs:{columns:t.columns,dataSource:t.data,pagination:t.pagination,rowSelection:t.rowSelection,loading:t.loading},on:{change:t.onChangePage},scopedSlots:t._u([t._l([\"odOrderNumber\",\"odSkuCode\"],function(e,r){return{key:e,fn:function(i,s){return[a(\"a\",{key:r,attrs:{href:\"javascript:;\"},on:{click:function(a){return t.showDrawer(e,s)}}},[t._v(t._s(s[e]))])]}}}),{key:\"odRequireDueDate\",fn:function(e){return[t._v(t._s(e?t.moment(e).format(\"YYYY-MM-DD\"):\"\"))]}},{key:\"status\",fn:function(t,e){return[a(\"statusStep\",{attrs:{current:e.num,status:e.status}})]}}],null,!0)})],1)],1)],1),a(\"a-drawer\",{attrs:{destroyOnClose:!0,placement:\"right\",closable:!1,visible:t.visible,width:1040,wrapStyle:{height:\"100%\",overflow:\"auto\",paddingBottom:\"108px\"}},on:{close:t.closeDrawer}},[a(\"purchaseInfo\",{attrs:{purchaseId:t.purchaseId,prchaseDetial:t.prchaseDetial},on:{isDrawer:t.isDrawer}})],1)],1)},i=[],s=a(\"cebc\"),n=(a(\"6762\"),a(\"2fdb\"),a(\"c5f6\"),a(\"0d5e\")),o=a(\"365c\"),c=[{title:\"订单编号\",dataIndex:\"odOrderNumber\",scopedSlots:{customRender:\"odOrderNumber\"}},{title:\"产品编码\",dataIndex:\"odSkuCode\"},{title:\"产品名称\",dataIndex:\"odSkuName\",scopedSlots:{customRender:\"odSkuName\"}},{title:\"规格\",dataIndex:\"odSpec\"},{title:\"材质\",dataIndex:\"cz\"},{title:\"数量\",dataIndex:\"odNumber\"},{title:\"工艺确认\",dataIndex:\"groupName\"},{title:\"交期\",dataIndex:\"odRequireDueDate\",scopedSlots:{customRender:\"odRequireDueDate\"}},{title:\"状态\",dataIndex:\"statusNum\",scopedSlots:{customRender:\"status\"},width:\"5%\"}],l=a(\"cd34\"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"purchase-info\"},[a(\"div\",{staticClass:\"prompt-title\"},[a(\"a-row\",[a(\"a-col\",{attrs:{span:18}},[a(\"h3\",{staticClass:\"prompt-h3\"},[t._v(\"采购详情\")])]),a(\"a-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"WAITING\"===t.prchaseDetial.status,expression:\"prchaseDetial.status==='WAITING'\"}],staticClass:\"prompt-wrapper\",attrs:{span:6}},[a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.getDetailPermission.includes(\"DELETE\"),expression:\"getDetailPermission.includes('DELETE')\"}],staticClass:\"prompt-delete\",on:{click:t.orderPick}},[a(\"i\",{staticClass:\"iconfont iconjujue\",staticStyle:{color:\"#D50304\",\"margin-right\":\"4px\"}}),a(\"span\",[t._v(\"取消\")])]),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.getDetailPermission.includes(\"UPDATE\"),expression:\"getDetailPermission.includes('UPDATE')\"}],staticClass:\"prompt-delete\",on:{click:t.orderEdit}},[a(\"a-icon\",{staticStyle:{color:\"green\",\"margin-right\":\"4px\"},attrs:{type:\"edit\"}}),a(\"span\",[t._v(t._s(t.edit?\"取消\":\"编辑\"))])],1)])],1)],1),a(\"a-row\",[a(\"a-col\",{attrs:{span:24}},[a(\"h3\",{staticClass:\"purchase-info-title\"},[t._v(\"基本信息\")])])],1),a(\"a-row\",[a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"订单编码\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.odOrderNumber))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"销售单号\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.odOrderNumberO))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"交期\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.edit?[t.prchaseDetial.odRequireDueDate?a(\"a-date-picker\",{staticStyle:{width:\"200px\"},attrs:{format:\"YYYY-MM-DD\",defaultValue:t.moment(t.prchaseDetial.odRequireDueDate,\"YYYY-MM-DD\")}}):a(\"a-date-picker\",{staticStyle:{width:\"200px\"},attrs:{showTime:\"\",format:\"YYYY-MM-DD\"}})]:[t._v(t._s(t.prchaseDetial.odRequireDueDate))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"生产厂家\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.companyName))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"总价\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.odTotalPrice))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"工艺确认\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[a(\"a-switch\",{attrs:{checked:t.prchaseDetial.craft,disabled:\"\"}})]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"收货方式\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(\"WAREHOUSE\"===t.prchaseDetial.receiveWay?\"共享仓\":\"\"))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"订单状态\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t._f(\"stateFilter\")(t.prchaseDetial.status)))]],2)],1)],1),a(\"a-row\",[a(\"a-col\",{attrs:{span:24}},[a(\"h3\",{staticClass:\"purchase-info-title\"},[t._v(\"产品信息\")])])],1),a(\"a-row\",[a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"客户编码\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.custCode))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"产品名称\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.ocustCode))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"数量\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.edit?[a(\"a-input\",{staticStyle:{width:\"200px\"},model:{value:t.prchaseDetial.odNumber,callback:function(e){t.$set(t.prchaseDetial,\"odNumber\",e)},expression:\"prchaseDetial.odNumber\"}})]:[t._v(t._s(t.prchaseDetial.odNumber)+t._s(t.prchaseDetial.unit))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"客户名称\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.ocustName))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"产品规格\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.odSpec))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"单价\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[t._v(t._s(t.prchaseDetial.odUnitPrice))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{attrs:{label:\"当前版本\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[[a(\"a\",{attrs:{href:\"javascript:;\"}},[t._v(t._s(t.prchaseDetial.groupName))])]],2)],1)],1),a(\"a-row\",[a(\"a-col\",{attrs:{span:24}},[a(\"h3\",{staticClass:\"purchase-info-title\"},[t._v(\"订单进度\")])])],1),a(\"a-row\",[a(\"a-col\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{span:12}},[t.prchaseDetial.orderProgress?a(\"a-steps\",{attrs:{progressDot:\"\",current:t.prchaseDetial.num}},[t._l(t.prchaseDetial.orderProgress.list,function(e,r){return[a(\"a-step\",{key:r,attrs:{title:t._f(\"stateFilter\")(e.state),status:\"REJECTED\"===e.state||\"CANCELLED\"===e.state?\"error\":\"\"}},[a(\"template\",{slot:\"description\"},[a(\"span\",{staticClass:\"stepC\"},[t._v(t._s(e.name))]),a(\"p\",{staticClass:\"stepC\"},[t._v(t._s(e.date))])])],2)]})],2):t._e()],1)],1),a(\"div\",{style:{position:\"absolute\",left:0,bottom:0,width:\"100%\",borderTop:\"1px solid #E9E9E9\",padding:\"10px 16px\",background:\"#FFF\",textAlign:\"right\"}},[a(\"a-button\",{style:{marginRight:\"8px\"},on:{click:t.onClose}},[t._v(\"取消\")]),a(\"a-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.getDetailPermission.includes(\"UPDATE\"),expression:\"getDetailPermission.includes('UPDATE')\"}],attrs:{type:\"primary\",disabled:!t.edit,loading:t.loading},on:{click:t.submit}},[t._v(\"保存\")])],1)],1)},u=[],p=a(\"c1df\"),h=a.n(p),m=a(\"75cd\"),f={mixins:[l[\"a\"],l[\"c\"],m[\"e\"]],props:[\"purchaseId\",\"prchaseDetial\"],data:function(){return{edit:!1,loading:!1,actionOrder:!1}},computed:{getDetailPermission:function(){return this.$store.state.detailPermission}},methods:{moment:h.a,isDisabled:function(t){this.disabled=!t},orderPick:function(){var t=this;this.actionOrder?this.$message.warning(\"请不要重复操作\"):(this.actionOrder=!0,Object(n[\"e\"])(o[\"a\"].delProcurementDetail,{id:this.purchaseId}).then(function(e){0===e.data.code?(t.$message.success(\"取消成功\"),t.$emit(\"isDrawer\",!0)):(t.actionOrder=!1,t.$message.error(e.data.msg))}).catch(function(){t.actionOrder=!1,t.$message.error(\"系统错误\")}))},submit:function(){var t=this,e={},a=this.prchaseDetial;e.id=this.purchaseId,e.odNumber=a.odNumber,e.odRequireDueDate=a.odRequireDueDate,this.loading=!0,Object(n[\"e\"])(o[\"a\"].updateProcurementDetail,e).then(function(e){0===e.data.code?(t.$message.success(\"修改成功\"),t.$emit(\"isDrawer\",!0)):t.$message.error(e.data.msg),t.loading=!1})},orderEdit:function(){this.edit=!this.edit}}},g=f,b=(a(\"e54a\"),a(\"2877\")),v=Object(b[\"a\"])(g,d,u,!1,null,\"6f68e277\",null),w=v.exports,D=a(\"7603\"),_=a(\"e734\"),y=a(\"62ae\"),C={mixins:[l[\"a\"],l[\"b\"]],components:{purchaseInfo:w,classification:D[\"a\"],inputSearch:_[\"a\"],statusStep:y[\"a\"]},data:function(){return{typeInput:\"distributors\",category:\"FACTORY\",columns:c,data:[],selectedRowKeys:[],pagination:{total:0,pageSize:15,defaultCurrent:1,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:[\"10\",\"15\",\"30\",\"50\",\"100\"]},factoryId:\"\",purchasePostBean:{},purchaseId:\"\",prchaseDetial:{}}},created:function(){this.getFactoryPrchase()},computed:{rowSelection:function(){var t=this.selectedRowKeys;return{selectedRowKeys:t,onChange:this.onChangeTab,hideDefaultSelections:!1}},getMenuPermission:function(){return this.$store.state.menuPermission}},methods:{moment:h.a,onChangeTab:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},onChangePage:function(t,e,a){this.pagination.pageSize=t.pageSize,this.getFactoryPrchase(t.current)},purchaseListId:function(t){this.factoryId=t,this.getFactoryPrchase()},getFactoryPrchase:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0;var a=this.purchasePostBean;a.factoryId=this.factoryId,a.currentPage=e,a.pageSize=this.pagination.pageSize,Object(n[\"e\"])(o[\"a\"].getFactoryPrchase,a).then(function(e){if(0===e.data.code){var a=e.data.data.records;a.forEach(function(t,e){t[\"key\"]=e}),t.pagination.total=Number(e.data.data.total),t.data=a}t.loading=!1})},showDrawer:function(t,e){switch(t){case\"odOrderNumber\":this.purchaseId=e.id,this.getProcurementDetial(e.id);break}},getProcurementDetial:function(t){var e=this;this.getMenuPermission.includes(\"DETAIL\")?Object(n[\"e\"])(o[\"a\"].getFactoryPrchaseDetial,{id:t}).then(function(t){0===t.data.code?(e.prchaseDetial=t.data.data,e.visible=!0,e.$store.commit(\"setPromptTitle\",{title:\"采购详情\",isEdit:!1})):e.$message.error(t.data.msg)}):this.$message.error(\"权限不足\")},isDrawer:function(t){t&&this.getFactoryPrchase(),this.visible=!1},dataChange:function(t){this.purchasePostBean=Object(s[\"a\"])({},t),this.getFactoryPrchase()}}},S=C,T=(a(\"d712\"),Object(b[\"a\"])(S,r,i,!1,null,\"cf76266e\",null));e[\"default\"]=T.exports},\"2fdb\":function(t,e,a){\"use strict\";var r=a(\"5ca1\"),i=a(\"d2c8\"),s=\"includes\";r(r.P+r.F*a(\"5147\")(s),\"String\",{includes:function(t){return!!~i(this,t,s).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},\"487a\":function(t,e,a){(function(e,a){t.exports=a()})(0,function(){\"use strict\";var t=\"@@InfiniteScroll\",e=function(t,e){var a,r,i,s,n,o=function(){t.apply(s,n),r=a};return function(){if(s=this,n=arguments,a=Date.now(),i&&(clearTimeout(i),i=null),r){var t=e-(a-r);t<0?o():i=setTimeout(function(){o()},t)}else o()}},a=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},r=document.defaultView.getComputedStyle,i=function(t){var e=t;while(e&&\"HTML\"!==e.tagName&&\"BODY\"!==e.tagName&&1===e.nodeType){var a=r(e).overflowY;if(\"scroll\"===a||\"auto\"===a)return e;e=e.parentNode}return window},s=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},n=function(t){return t===window?a(window):t.getBoundingClientRect().top+a(window)},o=function(t){var e=t.parentNode;while(e){if(\"HTML\"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},c=function(){if(!this.binded){this.binded=!0;var t=this,a=t.el,r=a.getAttribute(\"infinite-scroll-throttle-delay\"),s=200;r&&(s=Number(t.vm[r]||r),(isNaN(s)||s<0)&&(s=200)),t.throttleDelay=s,t.scrollEventTarget=i(a),t.scrollListener=e(l.bind(t),t.throttleDelay),t.scrollEventTarget.addEventListener(\"scroll\",t.scrollListener),this.vm.$on(\"hook:beforeDestroy\",function(){t.scrollEventTarget.removeEventListener(\"scroll\",t.scrollListener)});var n=a.getAttribute(\"infinite-scroll-disabled\"),o=!1;n&&(this.vm.$watch(n,function(e){t.disabled=e,!e&&t.immediateCheck&&l.call(t)}),o=Boolean(t.vm[n])),t.disabled=o;var c=a.getAttribute(\"infinite-scroll-distance\"),d=0;c&&(d=Number(t.vm[c]||c),isNaN(d)&&(d=0)),t.distance=d;var u=a.getAttribute(\"infinite-scroll-immediate-check\"),p=!0;u&&(p=Boolean(t.vm[u])),t.immediateCheck=p,p&&l.call(t);var h=a.getAttribute(\"infinite-scroll-listen-for-event\");h&&t.vm.$on(h,function(){l.call(t)})}},l=function(t){var e=this.scrollEventTarget,r=this.el,i=this.distance;if(!0===t||!this.disabled){var o=a(e),c=o+s(e),l=!1;if(e===r)l=e.scrollHeight-c<=i;else{var d=n(r)-n(e)+r.offsetHeight+o;l=c+i>=d}l&&this.expression&&this.expression()}},d={bind:function(e,a,r){e[t]={el:e,vm:r.context,expression:a.value};var i=arguments;e[t].vm.$on(\"hook:mounted\",function(){e[t].vm.$nextTick(function(){o(e)&&c.call(e[t],i),e[t].bindTryCount=0;var a=function a(){e[t].bindTryCount>10||(e[t].bindTryCount++,o(e)?c.call(e[t],i):setTimeout(a,50))};a()})})},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener(\"scroll\",e[t].scrollListener)}},u=function(t){t.directive(\"InfiniteScroll\",d)};return window.Vue&&(window.infiniteScroll=d,Vue.use(u)),d.install=u,d})},\"4b8b\":function(t,e,a){\"use strict\";var r=a(\"ac22\"),i=a.n(r);i.a},5147:function(t,e,a){var r=a(\"2b4c\")(\"match\");t.exports=function(t){var e=/./;try{\"/./\"[t](e)}catch(a){try{return e[r]=!1,!\"/./\"[t](e)}catch(i){}}return!0}},\"5c3a\":function(t,e,a){(function(t,e){e(a(\"c1df\"))})(0,function(t){\"use strict\";var e=t.defineLocale(\"zh-cn\",{months:\"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月\".split(\"_\"),monthsShort:\"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月\".split(\"_\"),weekdays:\"星期日_星期一_星期二_星期三_星期四_星期五_星期六\".split(\"_\"),weekdaysShort:\"周日_周一_周二_周三_周四_周五_周六\".split(\"_\"),weekdaysMin:\"日_一_二_三_四_五_六\".split(\"_\"),longDateFormat:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"YYYY/MM/DD\",LL:\"YYYY年M月D日\",LLL:\"YYYY年M月D日Ah点mm分\",LLLL:\"YYYY年M月D日ddddAh点mm分\",l:\"YYYY/M/D\",ll:\"YYYY年M月D日\",lll:\"YYYY年M月D日 HH:mm\",llll:\"YYYY年M月D日dddd HH:mm\"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,e){return 12===t&&(t=0),\"凌晨\"===e||\"早上\"===e||\"上午\"===e?t:\"下午\"===e||\"晚上\"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,a){var r=100*t+e;return r<600?\"凌晨\":r<900?\"早上\":r<1130?\"上午\":r<1230?\"中午\":r<1800?\"下午\":\"晚上\"},calendar:{sameDay:\"[今天]LT\",nextDay:\"[明天]LT\",nextWeek:\"[下]ddddLT\",lastDay:\"[昨天]LT\",lastWeek:\"[上]ddddLT\",sameElse:\"L\"},dayOfMonthOrdinalParse:/\\d{1,2}(日|月|周)/,ordinal:function(t,e){switch(e){case\"d\":case\"D\":case\"DDD\":return t+\"日\";case\"M\":return t+\"月\";case\"w\":case\"W\":return t+\"周\";default:return t}},relativeTime:{future:\"%s内\",past:\"%s前\",s:\"几秒\",ss:\"%d 秒\",m:\"1 分钟\",mm:\"%d 分钟\",h:\"1 小时\",hh:\"%d 小时\",d:\"1 天\",dd:\"%d 天\",M:\"1 个月\",MM:\"%d 个月\",y:\"1 年\",yy:\"%d 年\"},week:{dow:1,doy:4}});return e})},\"62ae\":function(t,e,a){\"use strict\";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"list-about\"},[a(\"a-steps\",{attrs:{progressDot:\"\",current:t.current,size:\"small\",status:t.dotStatus}},[a(\"a-step\"),a(\"a-step\"),a(\"a-step\")],1)],1)},i=[],s={props:[\"current\",\"status\"],data:function(){return{stepStatus:this.status}},computed:{dotStatus:function(){var t=\"\";return t=\"REJECTED\"===this.status||\"CANCELLED\"===this.status?\"error\":\"WAITING\"===this.status?\"wait\":\"finish\",t}}},n=s,o=(a(\"0846\"),a(\"2877\")),c=Object(o[\"a\"])(n,r,i,!1,null,null,null);e[\"a\"]=c.exports},6762:function(t,e,a){\"use strict\";var r=a(\"5ca1\"),i=a(\"c366\")(!0);r(r.P,\"Array\",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a(\"9c6c\")(\"includes\")},7603:function(t,e,a){\"use strict\";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"purchase-left\"},[a(\"div\",{staticClass:\"purchase-left-search\"},[a(\"a-input-search\",{attrs:{enterButton:\"\"},on:{search:t.onSearch}}),a(\"div\",{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:t.handleCompanyNameList,expression:\"handleCompanyNameList\"}],staticClass:\"demo-infinite-container\",attrs:{\"infinite-scroll-disabled\":t.busy,\"infinite-scroll-distance\":10}},[a(\"a-list\",{attrs:{dataSource:t.data},scopedSlots:t._u([{key:\"renderItem\",fn:function(e){return a(\"a-list-item\",{},[a(\"a-list-item-meta\",[a(\"p\",{staticClass:\"company-name\",class:{active:e.id===t.activeId},attrs:{slot:\"description\"},on:{click:function(a){return t.companyPurchase(e.id)}},slot:\"description\"},[t._v(t._s(e.companyName))])])],1)}}])},[t.loading&&!t.busy?a(\"div\",{staticClass:\"demo-loading-container\"},[a(\"a-spin\")],1):t._e()])],1)],1)])},i=[],s=(a(\"c5f6\"),a(\"7f7f\"),a(\"365c\")),n=a(\"0d5e\"),o=a(\"487a\"),c=a.n(o),l={directives:{infiniteScroll:c.a},props:{category:{type:String,defalut:\"\",required:!0}},data:function(){return{busy:!1,loading:!1,data:[],dataSize:0,currentPage:1,pageSize:20,name:\"\",activeId:\"\"}},methods:{onSearch:function(t){this.data=[],this.name=t,this.currentPage=1,this.getCompanyList(t)},companyPurchase:function(t){this.activeId=t,this.$emit(\"purchaseListId\",t)},handleCompanyNameList:function(){var t=this.data;if(this.loading=!0,t.length>=this.dataSize&&0!==this.dataSize)return this.$message.warning(\"暂时没有更多数据\"),this.busy=!0,void(this.loading=!1);this.getCompanyList(this.name)},getCompanyList:function(t){var e=this,a={};a.currentPage=this.currentPage,a.pageSize=this.pageSize,a.type=this.category,a.name=t,Object(n[\"c\"])(s[\"a\"].companyList,a).then(function(t){0===t.data.code&&(e.dataSize=Number(t.data.data.total),e.data=e.data.concat(t.data.data.records),e.currentPage+=1),e.loading=!1})}}},d=l,u=(a(\"4b8b\"),a(\"2877\")),p=Object(u[\"a\"])(d,r,i,!1,null,\"7c5ac6a3\",null);e[\"a\"]=p.exports},\"7f7f\":function(t,e,a){var r=a(\"86cc\").f,i=Function.prototype,s=/^\\s*function ([^ (]*)/,n=\"name\";n in i||a(\"9e1e\")&&r(i,n,{configurable:!0,get:function(){try{return(\"\"+this).match(s)[1]}catch(t){return\"\"}}})},\"99dc\":function(t,e,a){},a7bd:function(t,e,a){\"use strict\";var r=a(\"99dc\"),i=a.n(r);i.a},ac22:function(t,e,a){},d2c8:function(t,e,a){var r=a(\"aae3\"),i=a(\"be13\");t.exports=function(t,e,a){if(r(e))throw TypeError(\"String#\"+a+\" doesn't accept regex!\");return String(i(t))}},d2dd:function(t,e,a){},d3da:function(t,e,a){},d712:function(t,e,a){\"use strict\";var r=a(\"d3da\"),i=a.n(r);i.a},e54a:function(t,e,a){\"use strict\";var r=a(\"f2bc\"),i=a.n(r);i.a},e734:function(t,e,a){\"use strict\";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"a-form\",{attrs:{layout:\"inline\"}},[a(\"a-row\",{staticStyle:{\"margin-bottom\":\"16px\"}},[a(\"a-form-item\",{attrs:{\"label-col\":{span:8},\"wrapper-col\":{span:16},label:\"订单编号\"}},[a(\"a-input\",{staticClass:\"inputWidth\",on:{change:function(e){t.inputChange(e.target.value,\"odOrderNumber\")}},model:{value:t.data.odOrderNumber,callback:function(e){t.$set(t.data,\"odOrderNumber\",e)},expression:\"data.odOrderNumber\"}})],1),a(\"a-form-item\",{attrs:{\"label-col\":{span:8},\"wrapper-col\":{span:16},label:\"产品规格\"}},[a(\"a-select\",{staticClass:\"inputWidth\",attrs:{showSearch:\"\",allowClear:\"\",showArrow:!1,filterOption:!1,defaultActiveFirstOption:!1},on:{search:t.handleSelectChange,change:function(e){return t.inputChange(e,\"spec\")},popupScroll:function(e){return t.currentPageChange(e)}},model:{value:t.data.spec,callback:function(e){t.$set(t.data,\"spec\",e)},expression:\"data.spec\"}},t._l(t.odSpecList,function(e){return a(\"a-select-option\",{key:e},[t._v(t._s(e))])}),1)],1),a(\"a-form-item\",{attrs:{\"label-col\":{span:8},\"wrapper-col\":{span:16},label:\"交期\"}},[a(\"a-range-picker\",{staticClass:\"inputWidth\",attrs:{format:\"YYYY-MM-DD\"},on:{change:function(e,a){return t.inputChange(a,\"date\")}},model:{value:t.dateArr,callback:function(e){t.dateArr=e},expression:\"dateArr\"}})],1)],1)],1)},i=[],s=(a(\"365c\"),a(\"c1df\")),n=a.n(s),o=(a(\"5c3a\"),a(\"75cd\"));n.a.locale(\"zh-cn\");var c={props:{typeInput:{type:String,default:\"\",required:!0}},mixins:[o[\"c\"],o[\"b\"]],data:function(){return{dateArr:[],timer:\"\",data:{},companyType:localStorage.getItem(\"companyType\")}},created:function(){this.getSpec()},methods:{inputChange:function(t,e){var a=this;\"date\"===e?(this.data.startTime=t[0],this.data.endTime=t[1]):this.data[e]=t,\"\"!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){a.$emit(\"dataChange\",a.data)},500)},searchReset:function(){this.data.odOrderNumber=\"\",this.data.spec=\"\",this.dateArr=[],this.data.endTime=\"\",this.data.startTime=\"\",this.$emit(\"dataChange\",this.data)},currentPageChange:function(t){var e=this.getCurrentPageChange(t);e&&this.getSpec(this.specCurrentPage)},handleSelectChange:function(t){var e=this;\"\"!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.searchConditions(t)},500)},searchConditions:function(t){this.odSpecList=[],this.odSpecListValue=t,this.getSpec()},getSpec:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;\"distributors\"===this.typeInput?this.getListCompanySpringSpecs(t):\"factory\"===this.typeInput?this.getFactoryPolicyOrderSpec(t):\"procurement\"===this.typeInput&&this.getFactoryMaterialRequireSpec(t)}}},l=c,d=(a(\"a7bd\"),a(\"2877\")),u=Object(d[\"a\"])(l,r,i,!1,null,\"04e45e62\",null);e[\"a\"]=u.exports},f2bc:function(t,e,a){}}]);","extractedComments":[]}