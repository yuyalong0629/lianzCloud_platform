{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-6174f790\"],{\"05bd\":function(t,e,a){},\"081d\":function(t,e,a){\"use strict\";var s=a(\"8a5f\"),o=a.n(s);o.a},\"2f38\":function(t,e,a){\"use strict\";var s=a(\"05bd\"),o=a.n(s);o.a},\"2fdb\":function(t,e,a){\"use strict\";var s=a(\"5ca1\"),o=a(\"d2c8\"),n=\"includes\";s(s.P+s.F*a(\"5147\")(n),\"String\",{includes:function(t){return!!~o(this,t,n).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},\"30b4\":function(t,e,a){\"use strict\";var s=a(\"492c\"),o=a.n(s);o.a},\"34d6\":function(t,e,a){},\"46b4\":function(t,e,a){},\"492c\":function(t,e,a){},\"4e6a\":function(t,e,a){\"use strict\";var s=a(\"34d6\"),o=a.n(s);o.a},5147:function(t,e,a){var s=a(\"2b4c\")(\"match\");t.exports=function(t){var e=/./;try{\"/./\"[t](e)}catch(a){try{return e[s]=!1,!\"/./\"[t](e)}catch(o){}}return!0}},5409:function(t,e,a){\"use strict\";var s=a(\"a420\"),o=a.n(s);o.a},6762:function(t,e,a){\"use strict\";var s=a(\"5ca1\"),o=a(\"c366\")(!0);s(s.P,\"Array\",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a(\"9c6c\")(\"includes\")},\"80dd\":function(t,e,a){\"use strict\";var s=a(\"46b4\"),o=a.n(s);o.a},\"83a9\":function(t,e,a){\"use strict\";var s=a(\"c6a0\"),o=a.n(s);o.a},\"8a5f\":function(t,e,a){},a1ab:function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"prompt-title\"},[a(\"a-row\",[a(\"a-col\",{attrs:{span:18}},[a(\"h3\",{staticClass:\"prompt-h3\"},[t._v(t._s(t.getPromptTitle.title))])]),t.getPromptTitle.isEdit?a(\"a-col\",{staticClass:\"prompt-wrapper\",attrs:{span:6}},[a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.getDetailPermission.includes(\"UPDATE\"),expression:\"getDetailPermission.includes('UPDATE')\"}],staticClass:\"prompt-edit\",on:{click:t.onHandlePromptEdit}},[a(\"a-icon\",{staticClass:\"eidt-icon\",attrs:{type:\"edit\"}}),a(\"span\",[t._v(t._s(t.editTitle))])],1),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.getDetailPermission.includes(\"DELETE\"),expression:\"getDetailPermission.includes('DELETE')\"}],staticClass:\"prompt-delete\",on:{click:t.onHandlePromptDelete}},[a(\"a-icon\",{staticClass:\"delete-icon\",attrs:{type:\"delete\"}}),a(\"span\",[t._v(\"删除\")])],1)]):t._e()],1)],1)},o=[],n={name:\"prompt-title\",data:function(){return{editTitle:\"编辑\"}},methods:{onHandlePromptEdit:function(){if(\"编辑\"===this.editTitle)return this.editTitle=\"取消\",void this.$emit(\"isDisabled\",!1);this.$emit(\"isDisabled\",!0),this.editTitle=\"编辑\"},onHandlePromptDelete:function(){var t=this;this.$confirm({title:\"删除\",content:\"您确认要删除？\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){t.$emit(\"isDelete\",!1)},onCancel:function(){console.log(\"Cancel\")}})}},computed:{getPromptTitle:function(){return this.$store.state.promptTitle},getDetailPermission:function(){return this.$store.state.detailPermission}}},i=n,r=(a(\"80dd\"),a(\"2877\")),c=Object(r[\"a\"])(i,s,o,!1,null,\"a552123e\",null);e[\"a\"]=c.exports},a1ce:function(t,e,a){var s=a(\"63b6\"),o=a(\"25eb\"),n=a(\"294c\"),i=a(\"e692\"),r=\"[\"+i+\"]\",c=\"​\",l=RegExp(\"^\"+r+r+\"*\"),u=RegExp(r+r+\"*$\"),d=function(t,e,a){var o={},r=n(function(){return!!i[t]()||c[t]()!=c}),l=o[t]=r?e(h):i[t];a&&(o[a]=l),s(s.P+s.F*r,\"String\",o)},h=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,\"\")),2&e&&(t=t.replace(u,\"\")),t};t.exports=d},a420:function(t,e,a){},aa77:function(t,e,a){var s=a(\"5ca1\"),o=a(\"be13\"),n=a(\"79e5\"),i=a(\"fdef\"),r=\"[\"+i+\"]\",c=\"​\",l=RegExp(\"^\"+r+r+\"*\"),u=RegExp(r+r+\"*$\"),d=function(t,e,a){var o={},r=n(function(){return!!i[t]()||c[t]()!=c}),l=o[t]=r?e(h):i[t];a&&(o[a]=l),s(s.P+s.F*r,\"String\",o)},h=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,\"\")),2&e&&(t=t.replace(u,\"\")),t};t.exports=d},c4a7:function(t,e,a){\"use strict\";a.r(e);var s,o,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"customer\"},[a(\"div\",{staticClass:\"catattr-setup\"},[a(\"a-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"ADD\"),expression:\"this.getMenuPermission.includes('ADD')\"}],attrs:{type:\"primary\"},on:{click:t.showDrawer}},[a(\"a-icon\",{attrs:{type:\"plus\"}}),t._v(\"新建\\n    \")],1),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"DELETES\"),expression:\"this.getMenuPermission.includes('DELETES')\"}],staticClass:\"delete-btn\",on:{click:t.custDelete}},[a(\"a-icon\",{staticClass:\"delete-icon\",attrs:{type:\"delete\"}}),a(\"span\",[t._v(\"删除\")])],1),a(\"a-dropdown\",[a(\"span\",{staticClass:\"derive-btn\"},[a(\"a-icon\",{staticClass:\"derive-icon\",attrs:{type:\"check-circle\"}}),a(\"span\",[t._v(\"更多\")])],1),a(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[a(\"a-menu-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"IMPORT\"),expression:\"this.getMenuPermission.includes('IMPORT')\"}],key:\"0\"},[a(\"span\",[t._v(\"导入\")])]),a(\"a-menu-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"EXPORT\"),expression:\"this.getMenuPermission.includes('EXPORT')\"}],key:\"1\"},[a(\"span\",[t._v(\"导出\")])])],1)],1)],1),a(\"div\",{staticClass:\"cust-select\"},[a(\"a-form\",{attrs:{layout:\"inline\"}},[a(\"a-row\",[a(\"a-col\",{attrs:{span:20}},[a(\"a-row\",[a(\"a-col\",{staticStyle:{margin:\"8px 0\"},attrs:{span:24}},[a(\"a-form-item\",{attrs:{\"label-col\":{span:8},\"wrapper-col\":{span:16},label:\"客户简称\"}},[a(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",allowClear:\"\",value:t.custNameValue,placeholder:\"请输入客户简称\",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:null},on:{search:t.handleCustNameSearch,change:t.handleCustNameChange}},t._l(t.custNameData,function(e,s){return a(\"a-select-option\",{key:e},[t._v(t._s(e))])}),1)],1),a(\"a-form-item\",{attrs:{label:\"客户经理\",\"label-col\":{span:8},\"wrapper-col\":{span:14}}},[a(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",allowClear:\"\",value:t.custManagerValue,placeholder:\"请输入客户经理\",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:null},on:{search:t.handleCustManagerSearch,change:t.handleCustManagerChange}},t._l(t.custManagerData,function(e,s){return a(\"a-select-option\",{key:e.text,attrs:{value:e.value}},[t._v(t._s(e.value))])}),1)],1),a(\"a-form-item\",{attrs:{label:\"客户等级\",\"label-col\":{span:8},\"wrapper-col\":{span:14}}},[a(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{allowClear:\"\",placeholder:\"请输入客户等级\",value:t.custSearchLevel},on:{change:t.onleChangeRank}},[a(\"a-select-option\",{attrs:{value:\"1\"}},[t._v(\"V1\")]),a(\"a-select-option\",{attrs:{value:\"2\"}},[t._v(\"V2\")]),a(\"a-select-option\",{attrs:{value:\"3\"}},[t._v(\"V3\")]),a(\"a-select-option\",{attrs:{value:\"4\"}},[t._v(\"V4\")]),a(\"a-select-option\",{attrs:{value:\"5\"}},[t._v(\"V5\")])],1)],1),a(\"Animation\",{attrs:{name:\"fadeIn\"}},[t.advanced?a(\"a-row\",[a(\"a-col\",{attrs:{span:24}},[a(\"a-form-item\",{attrs:{label:\"客户编码\",\"label-col\":{span:8},\"wrapper-col\":{span:14}}},[a(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",allowClear:\"\",value:t.custCodeValue,placeholder:\"请输入客户编码\",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:null},on:{search:t.handleCustCodeSearch,change:t.handleCustCodeChange}},t._l(t.custCodeData,function(e,s){return a(\"a-select-option\",{key:e},[t._v(t._s(e))])}),1)],1),a(\"a-form-item\",{attrs:{label:\"客户行业\",\"label-col\":{span:8},\"wrapper-col\":{span:14}}},[a(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{allowClear:\"\",value:t.defaultCustIndustry,placeholder:\"请输入行业\"},on:{change:t.onleChangeindustry}},t._l(t.custIndustryArr,function(e){return a(\"a-select-option\",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.displayValue))])}),1)],1),a(\"a-form-item\",{attrs:{label:\"客户状态\",\"label-col\":{span:8},\"wrapper-col\":{span:14}}},[a(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{value:t.defaultStatus,placeholder:\"客户状态\"},on:{change:t.onleChangeStatus}},[a(\"a-select-option\",{attrs:{value:\"1\"}},[t._v(\"已购买\")]),a(\"a-select-option\",{attrs:{value:\"0\"}},[t._v(\"未购买\")])],1)],1)],1)],1):t._e()],1)],1)],1)],1),a(\"a-col\",{attrs:{span:4}},[a(\"a-form-item\",[a(\"span\",{staticClass:\"cust-select-reset\",on:{click:t.custRest}},[t._v(\"重置\")]),a(\"span\",{staticStyle:{cursor:\"pointer\"},on:{click:t.toggleAdvanced}},[t._v(\"\\n              \"+t._s(t.advanced?\"收起\":\"展开\")+\"\\n              \"),a(\"a-icon\",{attrs:{type:t.advanced?\"caret-up\":\"caret-down\"}})],1)])],1)],1)],1)],1),a(\"div\",{staticClass:\"cust-tab\"},[a(\"a-table\",{attrs:{columns:t.columnCust,dataSource:t.tabData,pagination:t.pagination,rowSelection:t.rowSelection,loading:t.loading},on:{change:t.onChangePage,showSizeChange:t.onShowSizeChange},scopedSlots:t._u([{key:\"clientCode\",fn:function(e,s){return[a(\"a\",{attrs:{href:\"javascript:;\"},on:{click:function(e){return t.onHandleInfo(s)}}},[t._v(t._s(e))])]}},{key:\"clientStatus\",fn:function(t,e){return[a(\"span\",{staticClass:\"client-status\",class:[\"\"+t===\"1\"?\"statusOk\":\"statusNo\"],attrs:{title:[\"\"+t===\"1\"?\"已购买\":\"未购买\"]}})]}}])})],1),a(\"a-drawer\",{attrs:{destroyOnClose:!0,placement:\"right\",closable:!1,visible:t.visible,width:1040,zIndex:100,wrapStyle:{height:\"100%\",overflow:\"auto\",paddingBottom:\"108px\"}},on:{close:t.closeDrawer}},[a(\"customer-info\",{attrs:{customerInfo:t.customerInfo},on:{isDrawer:t.isDrawer}})],1)],1)},i=[],r=(a(\"6762\"),a(\"2fdb\"),a(\"96cf\"),a(\"3b8d\")),c=a(\"bd86\"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"customer-info\"},[a(\"prompt-title\",{on:{isDisabled:t.isDisabled,isDelete:t.isDelete}}),a(\"a-row\",[a(\"a-col\",{attrs:{span:24}},[a(\"h3\",{staticClass:\"customer-title\"},[t._v(\"基本信息\")])]),a(\"a-col\",{attrs:{span:24}},[a(\"cust-form\",{ref:\"custForm\",attrs:{custFormInfo:t.custFormInfo,childDisabled:t.disabled}})],1),a(\"a-col\",{attrs:{span:24}},[a(\"h3\",{staticClass:\"customer-title\"},[t._v(\"联系人信息\")])]),a(\"a-col\",{attrs:{span:24}},[a(\"concat-form\",{attrs:{childDisabled:t.disabled,mallUsersInfo:t.mallUsersInfo},on:{userNatureDtos:t.userNatureDtos}})],1),a(\"a-col\",{attrs:{span:24}},[a(\"h3\",{staticClass:\"customer-title\"},[t._v(\"发票信息\")])]),a(\"a-col\",{attrs:{span:24}},[a(\"invoice-form\",{ref:\"invoiceForm\",attrs:{childDisabled:t.disabled,invoiceInfo:t.invoiceInfo}})],1),a(\"a-col\",{attrs:{span:24}},[a(\"h3\",{staticClass:\"customer-title\"},[t._v(\"收货地址\")])]),a(\"a-col\",{staticStyle:{\"margin-bottom\":\"30px\"},attrs:{span:24}},[a(\"address-form\",{attrs:{addressInfo:t.addressInfo,childDisabled:t.disabled},on:{custAddrList:t.custAddrList}})],1)],1),a(\"div\",{style:{position:\"absolute\",left:0,bottom:0,width:\"100%\",borderTop:\"1px solid #E9E9E9\",padding:\"10px 16px\",background:\"#FFF\",zIndex:10,textAlign:\"right\"}},[a(\"a-button\",{style:{marginRight:\"8px\"},on:{click:t.onClose}},[t._v(\"取消\")]),t.isEdit?a(\"a-button\",{attrs:{type:\"primary\",loading:t.loading},on:{click:t.onSubmit}},[t._v(\"提交\")]):a(\"a-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.getDetailPermission.includes(\"UPDATE\"),expression:\"getDetailPermission.includes('UPDATE')\"}],attrs:{type:\"primary\",disabled:!t.disabled,loading:t.loading},on:{click:t.onSave}},[t._v(\"保存\")])],1)],1)},u=[],d=a(\"a4bb\"),h=a.n(d),p=a(\"795b\"),f=a.n(p),m=a(\"75fc\"),v=a(\"cebc\"),g=a(\"a1ab\"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"a-form\",{attrs:{form:t.custForm,layout:\"horizontal\"}},[a(\"a-row\",{attrs:{gutter:16}},[a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"客户编码\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custCode\"],expression:\"['custCode']\"}],attrs:{disabled:\"\",placeholder:\"默认生成\"}}):[t._v(t._s(t.custFormInfo.custCode))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"客户名称\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custName\",{rules:[{required:!0,message:\"请输入客户名称\"}]}],expression:\"['custName', {\\n                rules: [{ required: true, message: '请输入客户名称' }]\\n              }]\"}],attrs:{placeholder:\"请输入客户名称\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.custFormInfo.custName}},[t._v(t._s(t.custFormInfo.custName))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"客户行业\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custIndustry\",{rules:[{required:!0,message:\"请输入客户行业\"}]}],expression:\"['custIndustry', {rules: [{ required: true, message: '请输入客户行业' }]}]\"}],attrs:{allowClear:\"\",placeholder:\"请输入客户行业\"}},t._l(this.custIndustryArr,function(e,s){return a(\"a-select-option\",{key:s,attrs:{value:e.id}},[t._v(t._s(e.displayValue))])}),1):[t._v(t._s(t.custIndustryName))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"客户简称\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custShortName\",{rules:[{required:!0,message:\"请输入客户简称\"}]}],expression:\"['custShortName', {rules: [{ required: true, message: '请输入客户简称' }]}]\"}],attrs:{placeholder:\"客户简称\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.custFormInfo.custShortName}},[t._v(t._s(t.custFormInfo.custShortName))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"客户经理\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custManagerId\",{rules:[{required:!0,message:\"请输入客户经理\"}]}],expression:\"['custManagerId', {rules: [{ required: true, message: '请输入客户经理' }]}]\"}],attrs:{showSearch:\"\",allowClear:\"\",labelInValue:\"\",placeholder:\"请输入客户经理\",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:null},on:{search:t.handleCustManagerSearch,change:t.handleCustManagerChange}},t._l(t.custManagerData,function(e){return a(\"a-select-option\",{key:e.text,attrs:{value:e.text}},[t._v(t._s(e.value))])}),1):[t._v(t._s(t.custFormInfo.custManager))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"客户级别\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custLevel\"],expression:\"['custLevel']\"}],attrs:{placeholder:\"请输入客户级别\"},on:{change:t.onSelectCustLevel}},[a(\"a-select-option\",{attrs:{value:\"1\"}},[t._v(\"V1\")]),a(\"a-select-option\",{attrs:{value:\"2\"}},[t._v(\"V2\")]),a(\"a-select-option\",{attrs:{value:\"3\"}},[t._v(\"V3\")]),a(\"a-select-option\",{attrs:{value:\"4\"}},[t._v(\"V4\")]),a(\"a-select-option\",{attrs:{value:\"5\"}},[t._v(\"V5\")])],1):[t._v(t._s(t.getCustLevel))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"地址\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-cascader\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custAddress\"],expression:\"['custAddress']\"}],attrs:{changeOnSelect:\"\",placeholder:\"请选择地址\",fieldNames:{label:\"name\",value:\"id\",children:\"childrens\"},options:t.options},on:{change:t.onSelectArea}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.getAddress?t.getAddress.join(\"/\"):\"无\"}},[t._v(t._s(t.getAddress?t.getAddress.join(\"/\"):\"无\"))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"详细地址\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custDetailAddr\"],expression:\"['custDetailAddr']\"}],attrs:{placeholder:\"请输入详细地址\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.custFormInfo.custDetailAddr}},[t._v(t._s(t.custFormInfo.custDetailAddr))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"传真\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custFax\"],expression:\"['custFax']\"}],attrs:{placeholder:\"请输入传真\"}}):[t._v(t._s(t.custFormInfo.custFax||\"无\"))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"网址\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custWebsite\"],expression:\"['custWebsite']\"}],attrs:{placeholder:\"请输入网址\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.custFormInfo.custWebsite}},[t._v(t._s(t.custFormInfo.custWebsite||\"无\"))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"来源\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"custFrom\"],expression:\"['custFrom']\"}],attrs:{allowClear:\"\",placeholder:\"请输入来源\"},on:{change:t.onSelectCustFrom}},[a(\"a-select-option\",{attrs:{value:\"0\"}},[t._v(\"线上注册\")]),a(\"a-select-option\",{attrs:{value:\"1\"}},[t._v(\"线下注册\")])],1):[t._v(t._s(0===t.custFormInfo.custFrom?\"线上注册\":\"线下注册\"))]],2)],1)],1)],1)},C=[],I=a(\"cd34\"),w=a(\"f46e\"),y=a(\"c3fb\"),D=(a(\"7f7f\"),a(\"c5f6\"),a(\"0d5e\")),_=a(\"365c\");function S(t){var e=this,a=t.custDtoCode,s=void 0===a?\"\":a,o=t.custDtoIndustry,n=void 0===o?0:o,i=t.custDtoLevel,r=void 0===i?0:i,c=t.custDtoManager,l=void 0===c?\"\":c,u=t.custDtoName,d=void 0===u?\"\":u,h=t.custDtoStatus,p=void 0===h?0:h,f=t.currentPage,m=void 0===f?1:f,v=t.pageSize,g=void 0===v?15:v;return this.loading=!0,Object(D[\"e\"])(_[\"a\"].showCustomersPage,{custDtoCode:s,custDtoIndustry:n,custDtoLevel:r,custDtoManager:l,custDtoName:d,custDtoStatus:p,currentPage:m,pageSize:g}).then(function(t){if(0===t.data.code){e.loading=!1;var a=t.data.data;e.pagination.total=null===t.data.data?0:Number(a.total),e.tabData=[];var s=[\"V1\",\"V2\",\"V3\",\"V4\",\"V5\"];return a.records.forEach(function(t){e.tabData.push({key:t.id,clientCode:t.custCode,clientShortName:t.custShortName,clientAbbreviation:t.custManager,clientName:t.name,clientPhone:t.phone,clientIndustryValue:t.custIndustryValue,clientLevel:s[t.custLevel-1],clientStatus:t.custStatus})}),console.log(e.tabData),!1}e.loading=!1,e.$message.error(t.data.msg)}).catch(function(t){console.log(t),e.loading=!1,e.$message.error(\"请求超时\")})}function x(t){var e=this;return Object(D[\"a\"])(_[\"a\"].removeCustomer+\"?customerIds=\".concat(t)).then(function(t){if(0===t.data.code)return e.loading=!1,e.$message.success(\"删除成功\"),e.$emit(\"isDrawer\",!1),!1;e.loading=!1,e.$message.success(t.data.msg)}).catch(function(t){console.log(t),e.$message.error(\"请求错误\"),e.loading=!1})}function A(t){var e=this;return this.loading=!0,Object(D[\"e\"])(_[\"a\"].addCustomerAndMallUser,t).then(function(t){if(console.log(t),0===t.data.code)return e.loading=!1,e.$message.success(\"添加成功\"),void e.$emit(\"isDrawer\",!1);e.loading=!1,e.$message.error(t.data.msg),e.$emit(\"isDrawer\",!0)}).catch(function(t){e.loading=!1,console.log(t)})}function N(t){var e=this;return Object(D[\"c\"])(_[\"a\"].getCustomerAndMallUser,{custId:t}).then(function(t){0===t.data.code&&(console.log(t.data),e.customerInfo=t.data.data)}).catch(function(t){console.log(t)})}function O(t){var e=this;return Object(D[\"c\"])(_[\"a\"].custIndustry+t).then(function(t){e.custIndustryArr=[],t.data.data.forEach(function(t){e.custIndustryArr.push({id:t.id,displayValue:t.displayValue})}),console.log(e.custIndustryArr)}).catch(function(t){console.log(t)})}function k(t){var e=this;return this.loading=!0,Object(D[\"f\"])(_[\"a\"].updateCustomerAndMallUser,t).then(function(t){if(console.log(t),0===t.data.code)return e.loading=!1,e.$message.success(\"修改成功\"),void e.$emit(\"isDrawer\",!1);e.loading=!1,e.$message.error(t.data.msg),e.$emit(\"isDrawer\",!0)}).catch(function(t){e.loading=!1,console.log(t)})}function F(t,e){function a(){Object(D[\"c\"])(_[\"a\"].listCustomerNames+\"?custName=\".concat(t)).then(function(a){if(o===t){var s=[];s.push.apply(s,Object(m[\"a\"])(a.data.data)),e(s)}})}s&&(clearTimeout(s),s=null),o=t,s=setTimeout(a,300)}function j(t,e){function a(){Object(D[\"c\"])(_[\"a\"].getListCompanyList+\"?condition=\".concat(t)).then(function(a){if(o===t){var s=[];s.push.apply(s,Object(m[\"a\"])(a.data.data.records.map(function(t){return t.custCode}))),e(s)}})}s&&(clearTimeout(s),s=null),o=t,s=setTimeout(a,300)}function L(t,e){function a(){Object(D[\"c\"])(_[\"a\"].getUsersLike+\"?username=\".concat(t)).then(function(a){if(o===t){var s=[];a.data.data.records.forEach(function(t){s.push({value:t.userName,text:t.userId})}),e(s)}})}s&&(clearTimeout(s),s=null),o=t,s=setTimeout(a,300)}var E={name:\"CustForm\",mixins:[I[\"a\"],I[\"c\"]],data:function(){return{custForm:this.$form.createForm(this),custIndustryArr:[],custIndustryName:\"\",options:w[\"areas\"],custManagerData:[]}},props:{custFormInfo:{type:Object,default:{},required:!1},childDisabled:{type:Boolean,default:!1,required:!1}},created:function(){var t=this;O.call(this,\"INDUSTRY\").then(function(){t.custFormInfo.custIndustry&&(t.custIndustryName=t.custIndustryArr.filter(function(e){return t.custFormInfo.custIndustry===e.id})[0].displayValue)}),L.call(this,\"\",function(e){return t.custManagerData=e})},methods:{handleCustManagerSearch:function(t){var e=this;console.log(t),L.call(this,t,function(t){return e.custManagerData=t})},handleCustManagerChange:function(t){console.log(t)},onSelectCustLevel:function(t){console.log(t)},onSelectCustFrom:function(t){console.log(t)},onSelectArea:function(t,e){console.log(t)}},computed:{getCustLevel:function(){var t=[\"V1\",\"V2\",\"V3\",\"V4\",\"V5\"];return t[this.custFormInfo.custLevel-1]},getAddress:function(){return Object(y[\"c\"])(this.custFormInfo.custArea,this.options,\"name\")}}},P=E,T=(a(\"2f38\"),a(\"2877\")),V=Object(T[\"a\"])(P,b,C,!1,null,\"560a648c\",null),M=V.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"concat-form\"},[a(\"a-table\",{attrs:{columns:t.columns,dataSource:t.data,pagination:!1},scopedSlots:t._u([t._l([\"name\",\"sex\",\"phone\",\"companyPosition\",\"email\",\"contact\"],function(e){return{key:e,fn:function(s,o,n){return[a(\"div\",{key:e},[o.editable&&\"sex\"!==e?a(\"a-input\",{staticStyle:{margin:\"-5px 0\"},attrs:{value:s},on:{change:function(a){return t.handleChange(a.target.value,o.key,e)}}}):t._e(),o.editable&&\"sex\"===e?a(\"a-select\",{staticStyle:{width:\"80px\"},attrs:{value:o.sex},on:{change:function(a){return t.handleChangeSelect(a,o.key,e)}}},[a(\"a-select-option\",{attrs:{value:\"0\"}},[t._v(\"男\")]),a(\"a-select-option\",{attrs:{value:\"1\"}},[t._v(\"女\")])],1):t._e(),[o.editable||\"sex\"===e?t._e():a(\"span\",[t._v(t._s(s))]),o.editable||\"sex\"!==e?t._e():a(\"span\",[t._v(t._s(\"0\"===s?\"男\":\"女\"))])]],2)]}}}),{key:\"operation\",fn:function(e,s,o){return t.childDisabled?[a(\"div\",{staticClass:\"editable-row-operations\"},[s.editable?a(\"span\",[a(\"a\",{on:{click:function(){return t.save(s.key)}}},[t._v(\"保存\")]),a(\"a\",{on:{click:function(){return t.cancel(s.key)}}},[t._v(\"取消\")])]):a(\"span\",[a(\"a\",{on:{click:function(){return t.edit(s.key)}}},[t._v(\"编辑\")]),a(\"a-popconfirm\",{attrs:{title:\"确定删除吗?\"},on:{confirm:function(){return t.onDelete(s.key)}}},[a(\"a\",[t._v(\"删除\")])])],1)])]:void 0}}],null,!0)}),t.childDisabled?a(\"a-button\",{staticStyle:{width:\"100%\",\"margin-top\":\"16px\",\"margin-bottom\":\"8px\"},attrs:{type:\"dashed\",icon:\"plus\"},on:{click:function(e){return e.stopPropagation(),t.handleAdd(e)}}},[t._v(\"添加联系人\")]):t._e()],1)},R=[],U=a(\"5176\"),z=a.n(U),G=[{title:\"成员姓名\",dataIndex:\"name\",width:\"10%\",scopedSlots:{customRender:\"name\"}},{title:\"性别\",dataIndex:\"sex\",width:\"10%\",scopedSlots:{customRender:\"sex\"}},{title:\"手机号\",dataIndex:\"phone\",width:\"15%\",scopedSlots:{customRender:\"phone\"}},{title:\"部门\",dataIndex:\"companyPosition\",width:\"15%\",scopedSlots:{customRender:\"companyPosition\"}},{title:\"邮箱\",dataIndex:\"email\",width:\"22%\",scopedSlots:{customRender:\"email\"}},{title:\"其他方式\",dataIndex:\"contact\",width:\"15%\",scopedSlots:{customRender:\"contact\"}},{title:\"操作\",dataIndex:\"operation\",width:\"10%\",scopedSlots:{customRender:\"operation\"}}],q=[{title:\"客户编码\",dataIndex:\"clientCode\",scopedSlots:{customRender:\"clientCode\"}},{title:\"客户简称\",dataIndex:\"clientShortName\"},{title:\"客户经理\",dataIndex:\"clientAbbreviation\"},{title:\"联系人\",dataIndex:\"clientName\"},{title:\"联系方式\",dataIndex:\"clientPhone\"},{title:\"所属行业\",dataIndex:\"clientIndustryValue\"},{title:\"客户等级\",dataIndex:\"clientLevel\"},{title:\"状态\",dataIndex:\"clientStatus\",scopedSlots:{customRender:\"clientStatus\"}}],B=[{title:\"收件人姓名\",dataIndex:\"receiver\",width:150,scopedSlots:{customRender:\"receiver\"}},{title:\"联系方式\",dataIndex:\"phone\",width:150,scopedSlots:{customRender:\"phone\"}},{title:\"所在地区\",dataIndex:\"address\",width:290,scopedSlots:{customRender:\"address\"}},{title:\"街道地址\",dataIndex:\"detailAddr\",width:200,scopedSlots:{customRender:\"detailAddr\"}},{title:\"是否默认收货地址\",dataIndex:\"defaultGoodsAddr\",width:200,scopedSlots:{customRender:\"defaultGoodsAddr\"}},{title:\"邮政编码\",dataIndex:\"postCode\",width:150,scopedSlots:{customRender:\"postCode\"}},{title:\"操作\",dataIndex:\"operation\",width:100,fixed:\"right\",scopedSlots:{customRender:\"operation\"}}],K={name:\"ConcatForm\",data:function(){return{data:[],columns:G,count:0,cacheData:[]}},props:{mallUsersInfo:{type:Array,default:[]},childDisabled:{type:Boolean,default:!1,required:!1}},methods:{handleAdd:function(){var t=this.count,e=this.data,a={key:t,name:\"\",sex:\"0\",phone:\"\",companyPosition:\"\",email:\"\",contact:\"\",deleted:!1,editable:!0};this.data=[].concat(Object(m[\"a\"])(e),[a]),this.count=t+1},handleChangeSelect:function(t,e,a){var s=Object(m[\"a\"])(this.data),o=s.filter(function(t){return e===t.key})[0];o&&(o[a]=t,this.data=s,this.$emit(\"userNatureDtos\",this.data)),this.data=Object(m[\"a\"])(s),console.log(this.data)},onDelete:function(t){var e=Object(m[\"a\"])(this.data);this.data=e.filter(function(e){return e.key!==t}),this.$emit(\"userNatureDtos\",this.data)},handleChange:function(t,e,a){var s=Object(m[\"a\"])(this.data),o=s.filter(function(t){return e===t.key})[0];o&&(o[a]=t,this.data=s)},edit:function(t){var e=Object(m[\"a\"])(this.data),a=e.filter(function(e){return t===e.key})[0];a&&(a.editable=!0,this.data=e)},save:function(t){var e=Object(m[\"a\"])(this.data),a=e.filter(function(e){return t===e.key})[0];a&&a.name&&a.phone?(a.editable=!1,this.data=e,this.cacheData=e.map(function(t){return Object(v[\"a\"])({},t)}),this.$emit(\"userNatureDtos\",this.data)):this.$message.error(\"请先完善信息\")},cancel:function(t){var e=Object(m[\"a\"])(this.data),a=e.filter(function(e){return t===e.key})[0],s=this.cacheData.filter(function(e){return t===e.key})[0];a&&a.name&&a.phone&&s?(z()(a,this.cacheData.filter(function(e){return t===e.key})[0]),a.editable=!1,this.data=e,console.log(this.data)):(this.data=e.filter(function(e){return e.key!==t}),console.log(this.data))}},watch:{mallUsersInfo:{handler:function(t){var e=this;if(t.length){this.count,this.data;t.forEach(function(t,a){e.data[a]={key:a,name:t.name,sex:\"MALE\"===t.sex?\"0\":\"1\",phone:t.phone,companyPosition:t.companyPosition||\"无\",email:t.email||\"无\",contact:t.contact||\"无\",custId:t.custId,id:t.id,deleted:!1,editable:!1},e.count=a+1}),this.cacheData=this.data.map(function(t){return Object(v[\"a\"])({},t)}),console.log(this.cacheData),this.$emit(\"userNatureDtos\",this.data)}},deep:!0,immediate:!0}}},H=K,W=(a(\"4e6a\"),Object(T[\"a\"])(H,$,R,!1,null,\"09f08d4e\",null)),X=W.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"a-form\",{attrs:{form:t.invoiceForm,layout:\"horizontal\",hideRequiredMark:\"\"}},[a(\"a-row\",{attrs:{gutter:16}},[a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"发票抬头\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"iiCompanyName\"],expression:\"['iiCompanyName']\"}],attrs:{placeholder:\"请输入发票抬头\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.getInvoiceInfo.iiCompanyName}},[t._v(t._s(t.getInvoiceInfo.iiCompanyName||\"无\"))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"纳税人识别号\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"iiTaxpayerId\"],expression:\"['iiTaxpayerId']\"}],attrs:{placeholder:\"请输入纳税人识别号\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.getInvoiceInfo.iiTaxpayerId}},[t._v(t._s(t.getInvoiceInfo.iiTaxpayerId||\"无\"))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"开户行\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"iiBank\"],expression:\"['iiBank']\"}],attrs:{placeholder:\"请输入开户行\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.getInvoiceInfo.iiBank}},[t._v(t._s(t.getInvoiceInfo.iiBank||\"无\"))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"开户账号\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"iiAccountName\"],expression:\"['iiAccountName']\"}],attrs:{placeholder:\"请输入开户账号\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.getInvoiceInfo.iiAccountName}},[t._v(t._s(t.getInvoiceInfo.iiAccountName||\"无\"))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"开票内容\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"iiTaxContent\"],expression:\"['iiTaxContent']\"}],attrs:{placeholder:\"请输入开票内容\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.getInvoiceInfo.iiTaxContent}},[t._v(t._s(t.getInvoiceInfo.iiTaxContent||\"无\"))])]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"联系电话\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"iiContact\"],expression:\"['iiContact']\"}],attrs:{placeholder:\"请输入联系电话\"}}):[t._v(t._s(t.getInvoiceInfo.iiContact||\"无\"))]],2)],1),a(\"a-col\",{attrs:{span:8}},[a(\"a-form-item\",{class:{labelColor:t.isLabelColor},attrs:{label:\"发票地址\",\"label-col\":t.labelCol,\"wrapper-col\":t.wrapperCol}},[t.childDisabled?a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"iiAddress\"],expression:\"['iiAddress']\"}],attrs:{placeholder:\"请输入发票地址\"}}):[a(\"span\",{staticClass:\"input-ellipsis\",attrs:{title:t.getInvoiceInfo.iiAddress}},[t._v(t._s(t.getInvoiceInfo.iiAddress||\"无\"))])]],2)],1)],1)],1)},J=[],Q={name:\"InvoiceForm\",mixins:[I[\"a\"],I[\"c\"]],data:function(){return{invoiceForm:this.$form.createForm(this)}},props:{childDisabled:{type:Boolean,default:!1},invoiceInfo:{type:Object,default:{}}},computed:{getInvoiceInfo:function(){return this.invoiceInfo}}},Z=Q,tt=(a(\"5409\"),Object(T[\"a\"])(Z,Y,J,!1,null,\"ccace634\",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"address-form\"},[a(\"a-table\",{attrs:{columns:t.columnAddress,dataSource:t.data,pagination:!1,scroll:{x:1240}},scopedSlots:t._u([t._l([\"receiver\",\"phone\",\"address\",\"detailAddr\",\"defaultGoodsAddr\",\"postCode\"],function(e){return{key:e,fn:function(s,o,n){return[a(\"div\",{key:e},[o.editable&&\"address\"!==e&&\"defaultGoodsAddr\"!==e?a(\"a-input\",{staticStyle:{margin:\"-5px 0\"},attrs:{value:s},on:{change:function(a){return t.handleChange(a.target.value,o.key,e)}}}):t._e(),o.editable&&\"address\"===e?a(\"a-cascader\",{staticStyle:{width:\"200px\"},attrs:{defaultValue:t.staging[o.key],changeOnSelect:\"\",placeholder:\"请选择地址\",fieldNames:{label:\"name\",value:\"id\",children:\"childrens\"},options:t.options},on:{change:function(a,s){return t.handleChangeArea(a,s,o,e)}}}):t._e(),o.editable&&\"defaultGoodsAddr\"===e?a(\"a-switch\",{attrs:{checkedChildren:\"是\",unCheckedChildren:\"否\",checked:o.defaultGoodsAddr},on:{change:function(a){return t.handleChangeSwitch(a,o,e)}}}):t._e(),[o.editable||\"address\"===e||\"defaultGoodsAddr\"===e?t._e():a(\"span\",[t._v(t._s(s))]),o.editable||\"address\"!==e?t._e():a(\"span\",[t._v(t._s(s?s.join(\"/\"):\"\"))]),o.editable||\"defaultGoodsAddr\"!==e?t._e():a(\"span\",[t._v(t._s(!0===s?\"是\":\"否\"))])]],2)]}}}),{key:\"operation\",fn:function(e,s,o){return t.childDisabled?[a(\"div\",{staticClass:\"editable-row-operations\"},[s.editable?a(\"span\",[a(\"a\",{on:{click:function(){return t.save(s.key)}}},[t._v(\"保存\")])]):a(\"span\",[a(\"a\",{on:{click:function(){return t.edit(s.key)}}},[t._v(\"编辑\")]),a(\"a-popconfirm\",{attrs:{title:\"确定删除吗?\"},on:{confirm:function(){return t.onDelete(s.key)}}},[a(\"a\",[t._v(\"删除\")])])],1)])]:void 0}}],null,!0)}),t.childDisabled?a(\"a-button\",{staticStyle:{width:\"100%\",\"margin-top\":\"16px\",\"margin-bottom\":\"8px\"},attrs:{type:\"dashed\",icon:\"plus\"},on:{click:function(e){return e.stopPropagation(),t.handleAdd(e)}}},[t._v(\"添加联系人\")]):t._e()],1)},st=[],ot={name:\"AddressForm\",data:function(){return{data:[],columnAddress:B,count:0,cacheData:[],options:w[\"areas\"],addressId:[],staging:[]}},props:{addressInfo:{type:Array,default:[]},childDisabled:{type:Boolean,default:!1,required:!1}},methods:{handleChangeArea:function(t,e,a,s){var o=Object(m[\"a\"])(this.data),n=e?e.map(function(t){return t.name}):[];console.log(n);var i=o.filter(function(t){return a.key===t.key})[0];i&&(i[s]=n,this.data=o,console.log(this.data),this.staging[a.key]=e?e.map(function(t){return t.id}):[],console.log(this.staging),console.log(a.key))},handleChangeSwitch:function(t,e,a){var s=Object(m[\"a\"])(this.data),o=s.map(function(a){return Object(v[\"a\"])({},a,{defaultGoodsAddr:a.key===e.key&&t})});this.data=Object(m[\"a\"])(o)},handleChange:function(t,e,a){var s=Object(m[\"a\"])(this.data),o=s.filter(function(t){return e===t.key})[0];o&&(o[a]=t,this.data=s)},handleAdd:function(){var t=this.count,e=this.data;console.log(this.staging);var a={key:t,receiver:\"\",phone:\"\",address:[],detailAddr:\"\",deleted:!1,defaultGoodsAddr:!1,postCode:\"\",editable:!0};this.data=[].concat(Object(m[\"a\"])(e),[a]),this.count=t+1,console.log(this.data)},onDelete:function(t){var e=this,a=Object(m[\"a\"])(this.data);this.data=a.filter(function(e){return e.key!==t});var s=[];this.data.slice(0).forEach(function(t,a){s[a]=Object(v[\"a\"])({},t,{province:e.staging[a][0],city:e.staging[a][1],area:e.staging[a][2]})}),console.log(s),this.$emit(\"custAddrList\",s)},edit:function(t){var e=Object(m[\"a\"])(this.data),a=e.filter(function(e){return t===e.key})[0];a&&(a.editable=!0,this.addressId=this.staging[t],this.data=e,console.log(this.data),console.log(this.staging))},save:function(t){var e=this,a=Object(m[\"a\"])(this.data),s=a.filter(function(e){return t===e.key})[0];if(s){s.editable=!1,this.data=a,this.cacheData=a.map(function(t){return Object(v[\"a\"])({},t)}),console.log(this.data);var o=[];console.log(this.staging),this.data.concat([]).forEach(function(t,a){o[a]=Object(v[\"a\"])({},t,{province:e.staging[a]?e.staging[a][0]:\"\",city:e.staging[a]?e.staging[a][1]:\"\",area:e.staging[a]?e.staging[a][2]:\"\"})}),console.log(o),this.$emit(\"custAddrList\",o)}else this.$message.error(\"请先完善信息\")},cancel:function(t){var e=Object(m[\"a\"])(this.data),a=e.filter(function(e){return t===e.key})[0],s=this.cacheData.filter(function(e){return t===e.key})[0];console.log(s),a&&a.address.length&&a.receiver&&a.phone&&s?(z()(a,this.cacheData.filter(function(e){return t===e.key})[0]),a.editable=!1,this.data=e):this.data=e.filter(function(e){return e.key!==t})}},watch:{addressInfo:{handler:function(t){var e=this;if(t.length){console.log(t),t.forEach(function(t,a){e.staging[a]=Object(y[\"c\"])(t.area?t.area:t.city?t.city:t.province,e.options,\"id\")||[],console.log(e.staging),e.data[a]={key:a,receiver:t.receiver||\"无\",phone:t.phone||\"无\",address:Object(y[\"c\"])(t.area?t.area:t.city?t.city:t.province,e.options,\"name\")||void 0,detailAddr:t.detailAddr||\"无\",defaultGoodsAddr:t.defaultGoodsAddr,postCode:t.postCode||\"无\",id:t.id,custId:t.custId,deleted:!1,editable:!1},e.count=a+1}),console.log(this.data),this.cacheData=this.data.map(function(t){return Object(v[\"a\"])({},t)}),console.log(this.cacheData);var a=[];this.data.concat([]).forEach(function(t,e){t.address&&(a[e]=Object(v[\"a\"])({},t))}),this.$emit(\"custAddrList\",a)}},deep:!0,immediate:!0}},computed:{getAddress:function(){return Object(y[\"c\"])(this.custFormInfo.custArea,this.options,\"name\")}}},nt=ot,it=(a(\"081d\"),Object(T[\"a\"])(nt,at,st,!1,null,\"7ce2c54e\",null)),rt=it.exports,ct={name:\"CustomerInfo\",mixins:[I[\"a\"],I[\"c\"]],data:function(){return{customer:{},mallUserNatureDtos:[],custInvoiceInfo:{},customerAddrList:[],custFormInfo:{},invoiceInfo:{},mallUsersInfo:[],addressInfo:[],custManager:void 0}},props:{customerInfo:{type:Object,default:{},required:!1}},created:function(){},methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.getFormData().then(function(){console.log(e.mallUserNatureDtos.map(function(t){return delete t.deleted,Object(v[\"a\"])({},t)}));var t={customer:Object(v[\"a\"])({},e.customer,{custManager:e.customer.custManagerId.label,custManagerId:e.customer.custManagerId.key}),mallUsers:e.mallUserNatureDtos.map(function(t){return delete t.deleted,Object(v[\"a\"])({},t)}),custInvoiceInfo:Object(v[\"a\"])({},e.custInvoiceInfo),customerAddrList:e.customerAddrList.map(function(t){return delete t.deleted,Object(v[\"a\"])({},t)})};delete t.custInvoiceInfo.deleted,console.log(t),A.call(e,t)})},onSave:function(t){var e=this;t.preventDefault(),this.getFormData().then(function(){var t={customer:Object(v[\"a\"])({},e.customer,{id:e.custFormInfo.id,custFrom:\"线上注册\"===e.customer.custFrom?0:1,custManager:e.customer.custManagerId.label,custManagerId:e.customer.custManagerId.key}),mallUsers:Object(m[\"a\"])(e.mallUserNatureDtos),custInvoiceInfo:Object(v[\"a\"])({},e.custInvoiceInfo,{id:e.invoiceInfo.id,custId:e.invoiceInfo.custId,deleted:!1}),customerAddrList:Object(m[\"a\"])(e.customerAddrList)};console.log(t),k.call(e,t)})},isDisabled:function(t){var e=this,a=new f.a(function(a){e.disabled=!t,e.isLabelColor=!e.isLabelColor,a()});a.then(function(){e.disabled&&e.setFormData()})},isDelete:function(t){console.log(this.customerInfo.customer.id)},userNatureDtos:function(t){var e=this;t.forEach(function(t,a){e.mallUserNatureDtos[a]=Object(v[\"a\"])({},t)}),console.log(this.mallUserNatureDtos)},custAddrList:function(t){this.customerAddrList=t,console.log(this.customerAddrList)},getFormData:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.custForm.custForm.validateFields(function(t,a){if(!t){console.log(a);var s=[\"V1\",\"V2\",\"V3\",\"V4\",\"V5\"];e.customer=Object(v[\"a\"])({},a,{custProvince:a.custAddress?a.custAddress[0]:\"\",custCity:a.custAddress?a.custAddress[1]:\"\",custArea:a.custAddress?a.custAddress[2]:\"\",custLevel:s.includes(a.custLevel)?s.indexOf(a.custLevel)+1:a.custLevel}),delete e.customer.custAddress}}),this.$refs.invoiceForm.invoiceForm.validateFields(function(t,a){t||(console.log(a),e.custInvoiceInfo=a)});case 2:case\"end\":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),setFormData:function(){var t;console.log(this.getCustLevel),this.$refs.custForm.custForm.setFieldsValue({custName:this.custFormInfo.custName,custIndustry:this.custFormInfo.custIndustry,custShortName:this.custFormInfo.custShortName,custManagerId:{key:this.custFormInfo.custManagerId||\"\",label:this.custFormInfo.custManager},custLevel:this.getCustLevel,custAddress:[this.custFormInfo.custProvince,this.custFormInfo.custCity,this.custFormInfo.custArea],custDetailAddr:this.custFormInfo.custDetailAddr,custFax:this.custFormInfo.custFax,custWebsite:this.custFormInfo.custWebsite,custFrom:0===this.custFormInfo.custFrom?\"线上注册\":\"线下注册\"}),this.$refs.invoiceForm.invoiceForm.setFieldsValue((t={iiCompanyName:this.invoiceInfo.iiCompanyName,iiTaxpayerId:this.invoiceInfo.iiTaxpayerId,iiBank:this.invoiceInfo.iiBank,iiAccountName:this.invoiceInfo.iiAccountName,iiTaxContent:this.invoiceInfo.iiTaxContent},Object(c[\"a\"])(t,\"iiTaxContent\",this.invoiceInfo.iiTaxContent),Object(c[\"a\"])(t,\"iiContact\",this.invoiceInfo.iiContact),Object(c[\"a\"])(t,\"iiAddress\",this.invoiceInfo.iiAddress),t))}},watch:{customerInfo:{handler:function(t){console.log(h()(t).length),h()(t).length&&(this.custFormInfo=t.customer,this.invoiceInfo=t.custInvoiceInfo,this.mallUsersInfo=t.mallUsers,this.addressInfo=t.customerAddrList)},deep:!0,immediate:!0}},computed:{getCustLevel:function(){var t=[\"V1\",\"V2\",\"V3\",\"V4\",\"V5\"];return t[this.custFormInfo.custLevel-1]},getDetailPermission:function(){return this.$store.state.detailPermission}},components:{\"prompt-title\":g[\"a\"],\"cust-form\":M,\"concat-form\":X,\"invoice-form\":et,\"address-form\":rt}},lt=ct,ut=(a(\"83a9\"),Object(T[\"a\"])(lt,l,u,!1,null,\"73bd0307\",null)),dt=ut.exports,ht=a(\"fd3b\"),pt=a(\"5118\"),ft={name:\"Catattr\",mixins:[I[\"a\"],I[\"b\"]],data:function(){var t;return t={advanced:!1,tabData:[],columnCust:q},Object(c[\"a\"])(t,\"advanced\",!1),Object(c[\"a\"])(t,\"pagination\",{total:0,defaultPageSize:15,defaultCurrent:1,showQuickJumper:!0,hideOnSinglePage:!0,showSizeChanger:!0,pageSizeOptions:[\"10\",\"15\",\"30\",\"50\",\"100\"]}),Object(c[\"a\"])(t,\"selectedRowKeys\",[]),Object(c[\"a\"])(t,\"custNameData\",[]),Object(c[\"a\"])(t,\"custNameValue\",void 0),Object(c[\"a\"])(t,\"custManagerData\",[]),Object(c[\"a\"])(t,\"custManagerValue\",void 0),Object(c[\"a\"])(t,\"custSearchLevel\",void 0),Object(c[\"a\"])(t,\"custCodeData\",[]),Object(c[\"a\"])(t,\"custCodeValue\",void 0),Object(c[\"a\"])(t,\"custIndustryArr\",[]),Object(c[\"a\"])(t,\"defaultCustIndustry\",void 0),Object(c[\"a\"])(t,\"defaultStatus\",void 0),Object(c[\"a\"])(t,\"customerInfo\",{}),t},created:function(){O.call(this,\"INDUSTRY\"),S.call(this,{})},methods:{custDelete:function(){var t=this;this.selectedRowKeys.length>0?this.$confirm({title:\"您确认要删除吗?\",okType:\"danger\",onOk:function(){var e=t.selectedRowKeys.join(\"&customerIds=\");console.log(\"?customerIds=\".concat(e)),x.call(t,e).then(function(){t.rest().then(function(){S.call(t,{}),t.selectedRowKeys=[]})})},onCancel:function(){console.log(\"Cancel\")},class:\"test\"}):this.$message.warn(\"请先选择删除项\")},toggleAdvanced:function(){this.advanced=!this.advanced},rest:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.custNameValue=void 0,this.custManagerValue=void 0,this.custSearchLevel=void 0,this.custCodeValue=void 0,this.defaultCustIndustry=void 0,this.defaultStatus=void 0;case 6:case\"end\":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),custRest:function(){var t=this;this.rest().then(function(){S.call(t,{})})},custSearch:function(){S.call(this,{custDtoName:this.custNameValue||\"\",custDtoManager:this.custManagerValue||\"\",custDtoLevel:this.custSearchLevel-0||0,custDtoCode:this.custCodeValue||\"\",custDtoIndustry:this.defaultCustIndustry||\"\",custDtoStatus:this.defaultStatus||\"\"})},handleCustNameSearch:function(t){var e=this;F.call(this,t,function(t){return e.custNameData=t})},handleCustNameChange:function(t){console.log(t),this.custNameValue=t,this.custSearch()},handleCustManagerSearch:function(t){var e=this;L.call(this,t,function(t){return e.custManagerData=t})},handleCustManagerChange:function(t){console.log(t),this.custManagerValue=t,this.custSearch()},onleChangeRank:function(t){console.log(t),this.custSearchLevel=t,this.custSearch()},handleCustCodeSearch:function(t){var e=this;j.call(this,t,function(t){return e.custCodeData=t})},handleCustCodeChange:function(t){this.custCodeValue=t,this.custSearch()},onleChangeindustry:function(t){console.log(t),this.defaultCustIndustry=t,this.custSearch()},onleChangeStatus:function(t){this.defaultStatus=t,console.log(this.defaultStatus),this.custSearch()},onHandleInfo:function(t){var e=this;if(this.getMenuPermission.includes(\"DETAIL\"))return N.call(this,t.key).then(function(){e.visible=!0}),void this.$store.commit(\"setPromptTitle\",{title:\"客户信息详情\",isEdit:!0});this.$message.error(\"权限不足\")},onChangePage:function(t,e,a){console.log(t.current+\"分页下标\"),console.log(t.pageSize),S.call(this,{currentPage:t.current,pageSize:t.pageSize}),this.selectedRowKeys=[]},onShowSizeChange:function(t,e){console.log(t,e)},isDrawer:function(t){var e=this;this.visible=t,this.timer=Object(pt[\"setTimeout\"])(function(){e.rest().then(function(){S.call(e,{})})},100)},showDrawer:function(){this.visible=!0,this.customerInfo={},this.$store.commit(\"setPromptTitle\",{title:\"新建客户信息\",isEdit:!1})},onChangeTab:function(t){console.log(t),this.selectedRowKeys=t}},computed:{rowSelection:function(){var t=this.selectedRowKeys;return{selectedRowKeys:t,onChange:this.onChangeTab,hideDefaultSelections:!0}},getMenuPermission:function(){return this.$store.state.menuPermission}},components:{\"customer-info\":dt,Animation:ht[\"a\"]}},mt=ft,vt=(a(\"30b4\"),Object(T[\"a\"])(mt,n,i,!1,null,\"5458ff22\",null));e[\"default\"]=vt.exports},c5f6:function(t,e,a){\"use strict\";var s=a(\"7726\"),o=a(\"69a8\"),n=a(\"2d95\"),i=a(\"5dbc\"),r=a(\"6a99\"),c=a(\"79e5\"),l=a(\"9093\").f,u=a(\"11e9\").f,d=a(\"86cc\").f,h=a(\"aa77\").trim,p=\"Number\",f=s[p],m=f,v=f.prototype,g=n(a(\"2aeb\")(v))==p,b=\"trim\"in String.prototype,C=function(t){var e=r(t,!1);if(\"string\"==typeof e&&e.length>2){e=b?e.trim():h(e,3);var a,s,o,n=e.charCodeAt(0);if(43===n||45===n){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:s=2,o=49;break;case 79:case 111:s=8,o=55;break;default:return+e}for(var i,c=e.slice(2),l=0,u=c.length;l<u;l++)if(i=c.charCodeAt(l),i<48||i>o)return NaN;return parseInt(c,s)}}return+e};if(!f(\" 0o1\")||!f(\"0b1\")||f(\"+0x1\")){f=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof f&&(g?c(function(){v.valueOf.call(a)}):n(a)!=p)?i(new m(C(e)),a,f):C(e)};for(var I,w=a(\"9e1e\")?l(m):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\".split(\",\"),y=0;w.length>y;y++)o(m,I=w[y])&&!o(f,I)&&d(f,I,u(m,I));f.prototype=v,v.constructor=f,a(\"2aba\")(s,p,f)}},c6a0:function(t,e,a){},cd34:function(t,e,a){\"use strict\";a.d(e,\"a\",function(){return s}),a.d(e,\"b\",function(){return o}),a.d(e,\"c\",function(){return n});var s={data:function(){return{loading:!1,visible:!1,labelCol:{span:6},wrapperCol:{span:14},isEdit:!0,disabled:!0,isLabelColor:!1,timer:null}},beforeDestroy:function(){clearTimeout(this.timer)},methods:{onClose:function(){this.$emit(\"isDrawer\",!1)}}},o={methods:{closeDrawer:function(){this.visible=!1}}},n={watch:{\"$store.state.promptTitle.isEdit\":{handler:function(t){this.isEdit=!t,this.disabled=!t,this.isEdit?this.isLabelColor=!1:this.isLabelColor=!0},deep:!0,immediate:!0}}};Boolean},d2c8:function(t,e,a){var s=a(\"aae3\"),o=a(\"be13\");t.exports=function(t,e,a){if(s(e))throw TypeError(\"String#\"+a+\" doesn't accept regex!\");return String(o(t))}},dd71:function(t,e,a){\"use strict\";var s=a(\"fe23\"),o=a.n(s);o.a},e692:function(t,e){t.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"},fd3b:function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"transition\",{attrs:{name:\"fadeIn\"}},[t._t(\"default\")],2)},o=[],n={name:\"Animation\",data:function(){return{}}},i=n,r=(a(\"dd71\"),a(\"2877\")),c=Object(r[\"a\"])(i,s,o,!1,null,\"05168ffc\",null);e[\"a\"]=c.exports},fdef:function(t,e){t.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"},fe23:function(t,e,a){}}]);","extractedComments":[]}