{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-8c030262\"],{\"06db\":function(e,t,r){\"use strict\";var a=r(\"23c6\"),n={};n[r(\"2b4c\")(\"toStringTag\")]=\"z\",n+\"\"!=\"[object z]\"&&r(\"2aba\")(Object.prototype,\"toString\",function(){return\"[object \"+a(this)+\"]\"},!0)},1348:function(e,t,r){\"use strict\";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"register\"},[r(\"div\",{staticClass:\"bg-color\"}),r(\"div\",{staticClass:\"register-wrapper\",staticStyle:{border:\"1px solid #F5F5F5\",\"box-shadow\":\"#666 0px 0px 10px\",background:\"#FFF\",padding:\"20px\",\"border-radius\":\"4px\"}},[r(\"a-divider\",[e._v(\"账号注册\")]),r(\"a-form\",{attrs:{form:e.registerInfo},on:{submit:e.handleRegister}},[r(\"a-form-item\",[r(\"a-row\",{attrs:{gutter:14}},[r(\"a-col\",{attrs:{span:16}},[r(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"username\",{rules:[{validator:e.validateUsername}],validateTrigger:[\"blur\"]}],expression:\"['username', {rules: [{ validator: validateUsername }], validateTrigger: ['blur']}]\"}],attrs:{placeholder:\"请输入手机号\"}},[r(\"a-icon\",{staticStyle:{color:\"rgba(0,0,0,.25)\"},attrs:{slot:\"prefix\",type:\"user\"},slot:\"prefix\"})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-button\",{staticClass:\"register-sendcode\",attrs:{type:e.btnType,disabled:e.disabled},on:{click:e.sendCode}},[e._v(e._s(e.btnText))])],1)],1)],1),r(\"a-form-item\",[r(\"a-row\",[r(\"a-col\",{attrs:{span:24}},[r(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"verificationCode\",{rules:[{required:!0,message:\"请输入验证码\"}],validateTrigger:[\"change\",\"blur\"]}],expression:\"['verificationCode', {rules: [{ required: true, message: '请输入验证码' }], validateTrigger: ['change', 'blur']}]\"}],attrs:{placeholder:\"请输入验证码\"}},[r(\"a-icon\",{staticStyle:{color:\"rgba(0,0,0,.25)\"},attrs:{slot:\"prefix\",type:\"safety-certificate\"},slot:\"prefix\"})],1)],1)],1)],1),r(\"a-form-item\",[r(\"a-row\",[r(\"a-col\",{attrs:{span:24}},[r(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"password\",{rules:[{validator:e.validatePassword}],validateTrigger:[\"blur\"]}],expression:\"[\\n            'password',\\n            {rules: [{ validator: validatePassword }], validateTrigger: ['blur']}\\n          ]\"}],attrs:{placeholder:\"请输入密码\",type:\"password\"}},[r(\"a-icon\",{staticStyle:{color:\"rgba(0,0,0,.25)\"},attrs:{slot:\"prefix\",type:\"lock\"},slot:\"prefix\"})],1)],1)],1)],1),r(\"a-form-item\",[r(\"a-row\",[r(\"a-col\",{attrs:{span:24}},[r(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"rePassword\",{rules:[{required:!0,message:\"请再次输入密码\"},{validator:e.validateRePassword}],validateTrigger:[\"blur\"]}],expression:\"[\\n            'rePassword',\\n            {rules: [{ required: true, message: '请再次输入密码' }, { validator: validateRePassword }], validateTrigger: ['blur']}\\n          ]\"}],attrs:{placeholder:\"请确认密码\",type:\"password\"}},[r(\"a-icon\",{staticStyle:{color:\"rgba(0,0,0,.25)\"},attrs:{slot:\"prefix\",type:\"lock\"},slot:\"prefix\"})],1)],1)],1)],1),r(\"a-form-item\",{attrs:{\"wrapper-col\":{span:24}}},[r(\"a-row\",{attrs:{gutter:16}},[r(\"a-col\",{staticClass:\"gutter-row\",attrs:{span:24}},[r(\"a\",{staticClass:\"register-to-haslogin\",attrs:{href:\"javascript:;\"}},[e._v(\"已有账号？\")]),r(\"router-link\",{staticClass:\"register-to-login\",attrs:{to:\"/user/login\"}},[e._v(\"去登录\")])],1),r(\"a-col\",{staticClass:\"gutter-row\",attrs:{span:24}},[r(\"a-checkbox\",{attrs:{checked:e.checkAgree},on:{change:e.changeCheck}},[e._v(\"我已阅读并同意\")]),r(\"a\",{attrs:{href:\"javascript:;\"}},[e._v(\"《我已阅读并同意阅读并同意》\")])],1)],1)],1),r(\"a-form-item\",{attrs:{\"wrapper-col\":{span:12,offset:5}}},[r(\"a-button\",{attrs:{type:\"primary\",\"html-type\":\"submit\"}},[e._v(\"注册\")]),r(\"a-button\",{style:{marginLeft:\"8px\"},on:{click:e.handleReset}},[e._v(\"重置\")])],1)],1)],1)])},n=[],i=r(\"0d5e\"),s=r(\"365c\"),o=r(\"c3fb\"),c={name:\"Register\",data:function(){return{btnType:\"primary\",btnText:\"发送验证码\",remaining:5,disabled:!1,registerInfo:this.$form.createForm(this),checkAgree:!1,inviteCode:\"\"}},beforeRouteEnter:function(e,t,r){console.log(e),r(function(t){e.query.v&&(t.inviteCode=e.query.v,console.log(t.inviteCode))})},methods:{validateUsername:function(e,t,r){var a=/^1[34578]\\d{9}$/;return t?a.test(t)?void Object(i[\"c\"])(s[\"a\"].existPhone,{phone:t}).then(function(e){if(0===e.data.code){if(!0===e.data.data.exist)return r(new Error(\"手机号已经被注册\")),!1;r()}}).catch(function(e){console.log(e)}):(r(new Error(\"请输入正确的手机号\")),!1):(r(new Error(\"手机号不能为空\")),!1)},validatePassword:function(e,t,r){var a=/[^0-9a-zA-Z_]/;return t?t.length<6||t.length>18?(r(new Error(\"密码请在6～18位数之间\")),!1):a.test(t)?(r(new Error(\"密码不能有特殊字符\")),!1):void r():(r(new Error(\"密码不能为空\")),!1)},validateRePassword:function(e,t,r){var a=this.registerInfo.getFieldValue(\"password\");void 0===t&&r(new Error(\"请输入密码\")),t&&a&&t.trim()!==a.trim()&&r(new Error(\"两次密码不一致\")),r()},sendCode:function(){var e=this;this.registerInfo.validateFields([\"username\"],function(t,r,a){t?a(new Error(\"手机号验证不正确\")):Object(i[\"d\"])(s[\"a\"].sendCode,{phone:r.username}).then(function(t){o[\"b\"].call(e,5)})})},changeCheck:function(e){this.checkAgree=e.target.checked},handleRegister:function(e){var t=this;if(e.preventDefault(),!this.checkAgree)return this.$message.error(\"请先同意声明\"),!1;this.registerInfo.validateFields(function(e,r){if(!e){var a={phone:r.username,pwd:r.password,inviteCode:t.inviteCode||\"\",yzm:r.verificationCode};return Object(i[\"d\"])(s[\"a\"].register,a).then(function(e){return 1===e.data.code?(t.$message.error(e.data.msg),!1):0===e.data.code?(t.success(),!1):void 0}).catch(function(e){console.log(e)}),!1}t.$message.error(\"注册失败\")})},handleReset:function(){this.registerInfo.resetFields()},success:function(){var e=this;this.$message.success(\"注册成功\",1).then(function(){e.$message.loading(\"跳转登录页面\",1.5)}).then(function(){e.$router.push(\"/user/login\")})}}},u=c,l=(r(\"8e26\"),r(\"2877\")),d=Object(l[\"a\"])(u,a,n,!1,null,\"2cf45846\",null);t[\"default\"]=d.exports},3846:function(e,t,r){r(\"9e1e\")&&\"g\"!=/./g.flags&&r(\"86cc\").f(RegExp.prototype,\"flags\",{configurable:!0,get:r(\"0bfb\")})},\"498a\":function(e,t,r){},\"5d6b\":function(e,t,r){var a=r(\"e53d\").parseInt,n=r(\"a1ce\").trim,i=r(\"e692\"),s=/^[-+]?0[xX]/;e.exports=8!==a(i+\"08\")||22!==a(i+\"0x16\")?function(e,t){var r=n(String(e),3);return a(r,t>>>0||(s.test(r)?16:10))}:a},\"6b54\":function(e,t,r){\"use strict\";r(\"3846\");var a=r(\"cb7c\"),n=r(\"0bfb\"),i=r(\"9e1e\"),s=\"toString\",o=/./[s],c=function(e){r(\"2aba\")(RegExp.prototype,s,e,!0)};r(\"79e5\")(function(){return\"/a/b\"!=o.call({source:\"a\",flags:\"b\"})})?c(function(){var e=a(this);return\"/\".concat(e.source,\"/\",\"flags\"in e?e.flags:!i&&e instanceof RegExp?n.call(e):void 0)}):o.name!=s&&c(function(){return o.call(this)})},7445:function(e,t,r){var a=r(\"63b6\"),n=r(\"5d6b\");a(a.G+a.F*(parseInt!=n),{parseInt:n})},\"7f7f\":function(e,t,r){var a=r(\"86cc\").f,n=Function.prototype,i=/^\\s*function ([^ (]*)/,s=\"name\";s in n||r(\"9e1e\")&&a(n,s,{configurable:!0,get:function(){try{return(\"\"+this).match(i)[1]}catch(e){return\"\"}}})},\"8e26\":function(e,t,r){\"use strict\";var a=r(\"498a\"),n=r.n(a);n.a},a1ce:function(e,t,r){var a=r(\"63b6\"),n=r(\"25eb\"),i=r(\"294c\"),s=r(\"e692\"),o=\"[\"+s+\"]\",c=\"​\",u=RegExp(\"^\"+o+o+\"*\"),l=RegExp(o+o+\"*$\"),d=function(e,t,r){var n={},o=i(function(){return!!s[e]()||c[e]()!=c}),u=n[e]=o?t(f):s[e];r&&(n[r]=u),a(a.P+a.F*o,\"String\",n)},f=d.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(u,\"\")),2&t&&(e=e.replace(l,\"\")),e};e.exports=d},b9e9:function(e,t,r){r(\"7445\"),e.exports=r(\"584a\").parseInt},c3fb:function(e,t,r){\"use strict\";r.d(t,\"c\",function(){return a}),r.d(t,\"a\",function(){return n}),r.d(t,\"b\",function(){return i});r(\"7f7f\"),r(\"e814\"),r(\"6b54\"),r(\"06db\");function a(e,t,r,n){void 0===n&&(n=[]);for(var i=0;i<t.length;i++){var s=n.concat();if(s.push(t[i][r]),e===t[i].id)return s;if(t[i].childrens){var o=a(e,t[i].childrens,r,s);if(o)return o}}}function n(e){return e.forEach(function(e){if(e.childrens||(e.status=\"NORMAL\"===e.status?\"正常\":\"STOP\"===e.status?\"停用\":\"禁用\"),e.childrens)return e.status=\"NORMAL\"===e.status?\"正常\":\"STOP\"===e.status?\"停用\":\"禁用\",n(e.childrens)})}function i(e){var t=this;if(0===this.remaining)return this.disabled=!1,this.remaining=e,this.btnText=\"重新发送\",this.btnType=\"primary\",!1;this.disabled=!0,this.btnText=\"重新发送\"+this.remaining,this.remaining--,setTimeout(function(){i.call(t,e)},1e3)}},e692:function(e,t){e.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"},e814:function(e,t,r){e.exports=r(\"b9e9\")}}]);","extractedComments":[]}