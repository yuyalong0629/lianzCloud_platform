{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-128b59f2\"],{\"2fdb\":function(e,t,n){\"use strict\";var a=n(\"5ca1\"),i=n(\"d2c8\"),s=\"includes\";a(a.P+a.F*n(\"5147\")(s),\"String\",{includes:function(e){return!!~i(this,e,s).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},\"3b95\":function(e,t,n){\"use strict\";var a=n(\"d418\"),i=n.n(a);i.a},5147:function(e,t,n){var a=n(\"2b4c\")(\"match\");e.exports=function(e){var t=/./;try{\"/./\"[e](t)}catch(n){try{return t[a]=!1,!\"/./\"[e](t)}catch(i){}}return!0}},\"5a39\":function(e,t,n){\"use strict\";var a=n(\"e9f1\"),i=n.n(a);i.a},6762:function(e,t,n){\"use strict\";var a=n(\"5ca1\"),i=n(\"c366\")(!0);a(a.P,\"Array\",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(\"9c6c\")(\"includes\")},a1ce:function(e,t,n){var a=n(\"63b6\"),i=n(\"25eb\"),s=n(\"294c\"),o=n(\"e692\"),r=\"[\"+o+\"]\",l=\"​\",c=RegExp(\"^\"+r+r+\"*\"),u=RegExp(r+r+\"*$\"),d=function(e,t,n){var i={},r=s(function(){return!!o[e]()||l[e]()!=l}),c=i[e]=r?t(h):o[e];n&&(i[n]=c),a(a.P+a.F*r,\"String\",i)},h=d.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,\"\")),2&t&&(e=e.replace(u,\"\")),e};e.exports=d},abac:function(e,t,n){\"use strict\";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"goods\"},[n(\"a-row\",[n(\"div\",{staticClass:\"process-setup\"},[n(\"a-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"ADD\"),expression:\"this.getMenuPermission.includes('ADD')\"}],attrs:{type:\"primary\"},on:{click:e.showDrawer}},[n(\"a-icon\",{attrs:{type:\"plus\"}}),e._v(\"新建\\n      \")],1),n(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"DELETES\"),expression:\"this.getMenuPermission.includes('DELETES')\"}],staticClass:\"delete-btn\",on:{click:e.processDelete}},[n(\"a-icon\",{staticClass:\"delete-icon\",attrs:{type:\"delete\"}}),n(\"span\",[e._v(\"删除\")])],1),n(\"a-dropdown\",[n(\"span\",{staticClass:\"derive-btn\"},[n(\"a-icon\",{staticClass:\"derive-icon\",attrs:{type:\"check-circle\"}}),n(\"span\",[e._v(\"更多\")])],1),n(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[n(\"a-menu-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"IMPORT\"),expression:\"this.getMenuPermission.includes('IMPORT')\"}],key:\"0\"},[n(\"span\",[e._v(\"导入\")])]),n(\"a-menu-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"EXPORT\"),expression:\"this.getMenuPermission.includes('EXPORT')\"}],key:\"1\"},[n(\"span\",[e._v(\"导出\")])])],1)],1)],1)]),n(\"a-row\",{attrs:{gutter:20}},[n(\"a-col\",{attrs:{span:5}},[n(\"scroll-list\",{on:{custId:e.custId,custVal:e.custVal}})],1),n(\"a-col\",{attrs:{span:19}},[n(\"a-row\",[n(\"a-col\",{style:{marginBottom:\"16px\"},attrs:{span:24}},[n(\"a-form\",{attrs:{layout:\"inline\"}},[n(\"a-form-item\",{attrs:{\"label-col\":{span:8},\"wrapper-col\":{span:16},label:\"产品编码\"}},[n(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",allowClear:\"\",value:e.selectCodeValue,placeholder:\"请输入产品编码\",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:null},on:{search:e.handleSearchCode,change:e.handleChangeCode}},e._l(e.selectCodeData,function(t,a){return n(\"a-select-option\",{key:t},[e._v(e._s(t))])}),1)],1),n(\"a-form-item\",{attrs:{\"label-col\":{span:8},\"wrapper-col\":{span:16},label:\"产品名称\"}},[n(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",allowClear:\"\",value:e.selectNameValue,placeholder:\"请输入产品名称\",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:null},on:{search:e.handleSearchName,change:e.handleChangeName}},e._l(e.selectNameData,function(t,a){return n(\"a-select-option\",{key:t},[e._v(e._s(t))])}),1)],1),n(\"a-form-item\",{attrs:{\"label-col\":{span:8},\"wrapper-col\":{span:16},label:\"弹簧种类\"}},[n(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{allowClear:\"\",value:e.springValue,placeholder:\"请输入弹簧种类\"},on:{change:e.handleChangeSpring}},e._l(e.springType,function(t,a){return n(\"a-select-option\",{key:t.id},[e._v(e._s(t.name))])}),1)],1)],1)],1),n(\"a-col\",{attrs:{span:24}},[n(\"a-table\",{attrs:{columns:e.columns,dataSource:e.data,loading:e.loading,pagination:e.pagination,rowSelection:e.rowSelection,scroll:{y:\"66vh\"}},on:{change:e.onChangePage},scopedSlots:e._u([{key:\"code\",fn:function(t,a){return[n(\"a\",{attrs:{href:\"javascript:;\"},on:{click:function(t){return e.onHandleInfo(a)}}},[e._v(e._s(t))])]}},{key:\"time\",fn:function(t,a){return[n(\"span\",[e._v(e._s(e._f(\"formatDate\")(t)))])]}}])})],1)],1)],1)],1),n(\"a-drawer\",{attrs:{destroyOnClose:!0,placement:\"right\",closable:!1,visible:e.visible,width:1040,zIndex:100,wrapStyle:{height:\"100%\",overflow:\"auto\",paddingBottom:\"108px\"}},on:{close:e.closeDrawer}},[n(\"goods-info\",{attrs:{goodsViewInfo:e.goodsViewInfo},on:{isDrawer:e.isDrawer}})],1)],1)},i=[],s=(n(\"96cf\"),n(\"3b8d\")),o=(n(\"6762\"),n(\"2fdb\"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"scroll-list\"},[n(\"div\",{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:e.handleInfiniteOnLoad,expression:\"handleInfiniteOnLoad\"}],staticClass:\"demo-infinite-container\",attrs:{\"infinite-scroll-disabled\":e.busy,\"infinite-scroll-distance\":10}},[n(\"div\",{staticClass:\"search-list\"},[n(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",allowClear:\"\",value:e.searchValue,placeholder:\"请输入客户名称\",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:null},on:{search:e.handleSearch,change:e.handleChange}},e._l(e.searchData,function(t,a){return n(\"a-select-option\",{key:t.id},[e._v(e._s(t.custShortName))])}),1)],1),n(\"a-list\",{attrs:{dataSource:e.data},scopedSlots:e._u([{key:\"renderItem\",fn:function(t,a){return n(\"a-list-item\",{staticStyle:{cursor:\"pointer\"}},[n(\"a-list-item-meta\",{attrs:{description:t.custShortName},on:{click:function(n){return e.onChangeSearch(t.id)}}})],1)}}])},[e.loading&&!e.busy?n(\"div\",{staticClass:\"demo-loading-container\"},[n(\"a-spin\")],1):e._e()])],1)])}),r=[],l=n(\"cebc\"),c=n(\"487a\"),u=n.n(c),d=n(\"774f\"),h={name:\"ScrollList\",directives:{infiniteScroll:u.a},data:function(){return{data:[],loading:!1,busy:!1,num:1,page:1,searchData:[],searchValue:void 0}},beforeMount:function(){var e=this;Object(d[\"b\"])(1).then(function(t){0===t.data.code&&(e.data=t.data.data.records.map(function(e,t){return Object(l[\"a\"])({},e,{index:t})}),e.page=t.data.data.pages)})},methods:{onSearch:function(e){console.log(e)},handleInfiniteOnLoad:function(){var e=this,t=this.data;if(this.loading=!0,this.num>this.page)return this.$message.warning(\"没有更多数据了\"),this.busy=!0,void(this.loading=!1);Object(d[\"b\"])(this.num).then(function(n){0===n.data.code&&(e.loading=!1,e.data=t.concat(n.data.data.records).map(function(e,t){return Object(l[\"a\"])({},e,{index:t})}),e.num++)})},onChangeSearch:function(e){console.log(e),this.$emit(\"custId\",e)},handleSearch:function(e){var t=this;d[\"a\"].call(this,e,function(e){return t.searchData=e})},handleChange:function(e){this.searchValue=e,this.$emit(\"custVal\",e)}},components:{}},f=h,p=(n(\"5a39\"),n(\"2877\")),m=Object(p[\"a\"])(f,o,r,!1,null,null,null),g=m.exports,v=n(\"350b\"),w=n(\"cd34\"),b=n(\"47b4\"),C=n(\"e0c1\"),y={name:\"Goods\",mixins:[w[\"a\"],w[\"b\"]],data:function(){return{data:[],columns:b[\"b\"],springType:b[\"c\"],selectedRowKeys:[],pagination:{total:0,defaultPageSize:15,defaultCurrent:1,showQuickJumper:!0,hideOnSinglePage:!0,showSizeChanger:!0,pageSizeOptions:[\"10\",\"15\",\"30\",\"50\",\"100\"]},selectNameData:[],selectNameValue:void 0,selectCodeData:[],selectCodeValue:void 0,springValue:void 0,goodsViewInfo:{}}},created:function(){C[\"l\"].call(this,{})},methods:{onHandleInfo:function(e){var t=this;if(this.getMenuPermission.includes(\"DETAIL\"))return C[\"f\"].call(this,e.id).then(function(){t.visible=!0}),void this.$store.commit(\"setPromptTitle\",{title:\"产品信息详情\",isEdit:!0});this.$message.error(\"权限不足\")},showDrawer:function(){this.visible=!0,this.goodsViewInfo={},this.$store.commit(\"setPromptTitle\",{title:\"新建产品信息\",isEdit:!1})},isDrawer:function(e){var t=this;this.visible=e,this.timer=setTimeout(function(){t.rest().then(function(){C[\"l\"].call(t,{})})},100)},closeDrawer:function(){var e=this;this.visible=!1,this.timer=setTimeout(function(){e.rest().then(function(){C[\"l\"].call(e,{})})},100)},rest:function(){var e=Object(s[\"a\"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.selectCodeValue=void 0,this.selectNameValue=void 0,this.springValue=void 0;case 3:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),processDelete:function(){var e=this;this.selectedRowKeys.length>0&&this.$confirm({title:\"您确认要删除吗?\",okType:\"danger\",onOk:function(){var t=e.selectedRowKeys.join(\"&skuIds=\");C[\"a\"].call(e,t).then(function(){e.rest().then(function(){C[\"l\"].call(e,{}),e.selectedRowKeys=[]})})},onCancel:function(){console.log(\"Cancel\")},class:\"test\"})},onChangePage:function(e,t,n){console.log(e.current+\"分页下标\"),console.log(e.pageSize),C[\"l\"].call(this,{currentPage:e.current,pageSize:e.pageSize,skuCode:this.selectCodeValue,keywords:this.selectNameValue,springType:this.springValue}),this.selectedRowKeys=[]},handleSearchCode:function(e){var t=this;C[\"g\"].call(this,e,function(e){return t.selectCodeData=e}),console.log(this.selectCodeData)},handleChangeCode:function(e){this.selectCodeValue=e,C[\"l\"].call(this,{skuCode:e})},handleSearchName:function(e){var t=this;C[\"h\"].call(this,e,function(e){return t.selectNameData=e})},handleChangeName:function(e){console.log(e),this.selectNameValue=e,C[\"l\"].call(this,{keywords:[e||\"\"]})},handleChangeSpring:function(e){console.log(e),this.springValue=e,C[\"l\"].call(this,{springType:e})},custId:function(e){C[\"l\"].call(this,{custId:e})},custVal:function(e){C[\"l\"].call(this,{custId:e})},onChangeTab:function(e){console.log(e),this.selectedRowKeys=e}},computed:{rowSelection:function(){var e=this.selectedRowKeys;return{selectedRowKeys:e,onChange:this.onChangeTab,hideDefaultSelections:!0}},getMenuPermission:function(){return this.$store.state.menuPermission}},components:{\"scroll-list\":g,\"goods-info\":v[\"a\"]}},S=y,D=(n(\"3b95\"),Object(p[\"a\"])(S,a,i,!1,null,\"785ad039\",null));t[\"default\"]=D.exports},cd34:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return a}),n.d(t,\"b\",function(){return i}),n.d(t,\"c\",function(){return s});var a={data:function(){return{loading:!1,visible:!1,labelCol:{span:6},wrapperCol:{span:14},isEdit:!0,disabled:!0,isLabelColor:!1,timer:null}},beforeDestroy:function(){clearTimeout(this.timer)},methods:{onClose:function(){this.$emit(\"isDrawer\",!1)}}},i={methods:{closeDrawer:function(){this.visible=!1}}},s={watch:{\"$store.state.promptTitle.isEdit\":{handler:function(e){this.isEdit=!e,this.disabled=!e,this.isEdit?this.isLabelColor=!1:this.isLabelColor=!0},deep:!0,immediate:!0}}};Boolean},d2c8:function(e,t,n){var a=n(\"aae3\"),i=n(\"be13\");e.exports=function(e,t,n){if(a(t))throw TypeError(\"String#\"+n+\" doesn't accept regex!\");return String(i(e))}},d418:function(e,t,n){},e692:function(e,t){e.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"},e9f1:function(e,t,n){}}]);","extractedComments":[]}