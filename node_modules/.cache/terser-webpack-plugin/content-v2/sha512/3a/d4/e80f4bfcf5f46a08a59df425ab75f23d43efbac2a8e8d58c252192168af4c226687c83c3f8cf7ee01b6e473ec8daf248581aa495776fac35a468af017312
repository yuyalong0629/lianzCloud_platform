{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-ae1ab00a\"],{\"102b\":function(e,a,t){\"use strict\";t.r(a);var o,r,s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"div\",{staticClass:\"goods\"},[t(\"a-row\",[t(\"div\",{staticClass:\"process-setup\"},[t(\"a-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"ADD\"),expression:\"this.getMenuPermission.includes('ADD')\"}],attrs:{type:\"primary\"},on:{click:e.showDrawer}},[t(\"a-icon\",{attrs:{type:\"plus\"}}),e._v(\"新建\\n      \")],1),t(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"DELETES\"),expression:\"this.getMenuPermission.includes('DELETES')\"}],staticClass:\"delete-btn\",on:{click:e.processDelete}},[t(\"a-icon\",{staticClass:\"delete-icon\",attrs:{type:\"delete\"}}),t(\"span\",[e._v(\"删除\")])],1),t(\"a-dropdown\",[t(\"span\",{staticClass:\"derive-btn\"},[t(\"a-icon\",{staticClass:\"derive-icon\",attrs:{type:\"check-circle\"}}),t(\"span\",[e._v(\"更多\")])],1),t(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[t(\"a-menu-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"IMPORT\"),expression:\"this.getMenuPermission.includes('IMPORT')\"}],key:\"0\"},[t(\"span\",[e._v(\"导入\")])]),t(\"a-menu-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.getMenuPermission.includes(\"EXPORT\"),expression:\"this.getMenuPermission.includes('EXPORT')\"}],key:\"1\"},[t(\"span\",[e._v(\"导出\")])])],1)],1)],1)]),t(\"a-row\",{attrs:{gutter:20}},[t(\"a-col\",{attrs:{span:24}},[t(\"a-row\",[t(\"a-col\",{style:{marginBottom:\"16px\"},attrs:{span:24}},[t(\"a-form\",{attrs:{layout:\"inline\"}},[t(\"a-form-item\",{attrs:{\"label-col\":{span:8},\"wrapper-col\":{span:16},label:\"产品编码\"}},[t(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",allowClear:\"\",value:e.selectCodeValue,placeholder:\"请输入产品编码\",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:null},on:{search:e.handleSearchCode,change:e.handleChangeCode}},e._l(e.selectCodeData,function(a,o){return t(\"a-select-option\",{key:a},[e._v(e._s(a))])}),1)],1),t(\"a-form-item\",{attrs:{\"label-col\":{span:8},\"wrapper-col\":{span:16},label:\"产品名称\"}},[t(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",allowClear:\"\",value:e.selectValue,placeholder:\"请输入产品编码\",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,notFoundContent:null},on:{search:e.handleScrollCodeName,change:e.handleChangeCodeName}},e._l(e.selectData,function(a,o){return t(\"a-select-option\",{key:a},[e._v(e._s(a))])}),1)],1)],1)],1),t(\"a-col\",{attrs:{span:24}},[t(\"a-table\",{attrs:{columns:e.columns,dataSource:e.data,loading:e.loading,pagination:e.pagination,rowSelection:e.rowSelection,scroll:{y:\"66vh\"}},on:{change:e.onChangePage},scopedSlots:e._u([{key:\"code\",fn:function(a,o){return[t(\"a\",{attrs:{href:\"javascript:;\"},on:{click:function(a){return e.onHandleInfo(o)}}},[e._v(e._s(a))])]}},{key:\"time\",fn:function(a,o){return[t(\"span\",[e._v(e._s(e._f(\"formatDate\")(a)))])]}}])})],1)],1)],1)],1),t(\"a-drawer\",{attrs:{destroyOnClose:!0,placement:\"right\",closable:!1,visible:e.visible,width:1040,zIndex:100,wrapStyle:{height:\"100%\",overflow:\"auto\",paddingBottom:\"108px\"}},on:{close:e.closeDrawer}},[t(\"goods-info\",{attrs:{goodsViewInfo:e.goodsViewInfo},on:{isDrawer:e.isDrawer}})],1)],1)},l=[],n=(t(\"96cf\"),t(\"3b8d\")),i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"div\",{staticClass:\"goods-info\"},[t(\"tab-title\",{on:{isDelete:e.isDelete},scopedSlots:e._u([{key:\"tabGoodsInfo\",fn:function(){return[t(\"a-row\",[t(\"a-col\",{attrs:{span:24}},[t(\"h3\",{staticClass:\"categoryInfo-title\"},[e._v(\"产品详情\")])]),t(\"a-col\",{attrs:{span:24}},[t(\"product-info\",{ref:\"goodsInfoForm\",attrs:{skuInfoData:e.skuInfoData,childDisabled:e.disabled},on:{classAttrInfo:e.classAttrInfo,classCatObj:e.classCatObj}})],1),e.getClassType||e.classAttrInfoData.length?t(\"a-col\",{attrs:{span:24}},[t(\"a-col\",{attrs:{span:24}},[t(\"h3\",{staticClass:\"categoryInfo-title\"},[e._v(\"分类属性\")])]),t(\"a-col\",{attrs:{span:24}},[t(\"class-attr\",{ref:\"classAttrForm\",attrs:{classAttrVal:e.classAttrVal,childDisabled:e.disabled,classAttrInfoData:e.classAttrInfoData,classCatId:e.classCatId},on:{classData:e.classData}})],1)],1):e._e(),t(\"a-col\",{attrs:{span:24}},[t(\"a-col\",{attrs:{span:24}},[t(\"h3\",{staticClass:\"categoryInfo-title\"},[e._v(\"产品图片\")])]),t(\"a-col\",{attrs:{span:24}},[t(\"product-upload\",{attrs:{picInfoData:e.picInfoData},on:{propsFileList:e.propsFileList}})],1)],1)],1)]},proxy:!0},{key:\"tabMallAttr\",fn:function(){return[t(\"tabMall-info\")]},proxy:!0}])}),t(\"div\",{style:{position:\"absolute\",left:0,bottom:0,width:\"100%\",borderTop:\"1px solid #E9E9E9\",padding:\"10px 16px\",background:\"#FFF\",textAlign:\"right\"}},[t(\"a-button\",{style:{marginRight:\"8px\"},on:{click:e.onClose}},[e._v(\"取消\")]),e.isEdit?t(\"a-button\",{attrs:{type:\"primary\",loading:e.loading},on:{click:e.onSubmit}},[e._v(\"提交\")]):t(\"a-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.getDetailPermission.includes(\"UPDATE\"),expression:\"getDetailPermission.includes('UPDATE')\"}],attrs:{type:\"primary\",disabled:!e.disabled,loading:e.loading},on:{click:e.onSave}},[e._v(\"保存\")])],1)],1)},c=[],d=t(\"a4bb\"),p=t.n(d),u=t(\"bd86\"),m=(t(\"7f7f\"),t(\"75fc\")),f=t(\"cebc\"),h=t(\"795b\"),b=t.n(h),C=t(\"cba0\"),v=t(\"cd34\"),g=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"div\",{staticClass:\"prompt-title\"},[t(\"a-row\",[t(\"a-col\",{attrs:{span:24}},[t(\"a-tabs\",{attrs:{defaultActiveKey:\"1\",tabBarGutter:10,tabBarStyle:{height:\"45px\"}},on:{change:e.callback}},[t(\"a-tab-pane\",{key:\"1\",attrs:{tab:e.getPromptTitle.title}},[e._t(\"tabGoodsInfo\")],2),t(\"a-tab-pane\",{key:\"2\",attrs:{tab:\"商城信息\",disabled:\"\"}},[e._t(\"tabMallAttr\")],2),t(\"a-tab-pane\",{key:\"3\",attrs:{tab:\"成本\",disabled:\"\"}},[e._v(\"Content of Tab Pane 3\")]),e.getPromptTitle.isEdit?t(\"a-list\",{staticClass:\"prompt-wrapper\",attrs:{slot:\"tabBarExtraContent\"},slot:\"tabBarExtraContent\"},[t(\"span\",{staticClass:\"prompt-edit\",on:{click:e.onHandlePromptEdit}},[t(\"a-icon\",{staticClass:\"eidt-icon\",attrs:{type:\"edit\"}}),t(\"span\",[e._v(e._s(e.editTitle))])],1),t(\"span\",{staticClass:\"prompt-delete\",on:{click:e.onHandlePromptDelete}},[t(\"a-icon\",{staticClass:\"delete-icon\",attrs:{type:\"delete\"}}),t(\"span\",[e._v(\"删除\")])],1)]):e._e()],1)],1)],1)],1)},w=[],D={name:\"prompt-title\",data:function(){return{editTitle:\"编辑\"}},methods:{callback:function(e){},onHandlePromptEdit:function(){if(\"编辑\"===this.editTitle)return this.editTitle=\"取消\",void C[\"a\"].$emit(\"isDisabled\",!1);C[\"a\"].$emit(\"isDisabled\",!0),this.editTitle=\"编辑\"},onHandlePromptDelete:function(){var e=this;this.$confirm({title:\"删除\",content:\"您确认要删除？\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){e.$emit(\"isDelete\",!1)},onCancel:function(){console.log(\"Cancel\")}})}},computed:{getPromptTitle:function(){return this.$store.state.promptTitle}}},I=D,y=(t(\"f7725\"),t(\"2877\")),k=Object(y[\"a\"])(I,g,w,!1,null,\"7e37fc02\",null),_=k.exports,O=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"a-form\",{attrs:{form:e.tabMallAttr,layout:\"horizontal\",hideRequiredMark:\"\"}},[t(\"a-row\",[t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"公差等级\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-select\",{attrs:{allowClear:\"\",placeholder:\"请输入弹簧种类\"}},e._l(e.springType,function(a){return t(\"a-select-option\",{key:a.id},[e._v(e._s(a.name))])}),1):[e._v(\"getProcessInfo\")]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"商品广告语\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入商品广告语\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"上架状态\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入上架状态\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"原价\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入原价\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"起售数量\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入起售数量\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"发货城市\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入发货城市\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"发货期\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入发货期\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"售后说明\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入售后说明\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"使用邮费模版\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入使用邮费模版\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"上架时间\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入上架时间\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"下架时间\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入下架时间\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"力值\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入力值\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"推荐产品\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入推荐产品\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"最大包装方式名称\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入最大包装方式名称\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"最大包装容量\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入最大包装容量\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"中等包装方式\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入中等包装方式\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"中等包装容量\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入中等包装容量\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"最小包装容量\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入最小包装容量\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"详细描述\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入详细描述\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"关键尺寸图\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入关键尺寸图\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"详情尺寸图\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入详情尺寸图\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"3D图\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入3D图\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"创建人\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入创建人\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"创建时间\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入创建时间\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"修改人\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入修改人\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"修改时间\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入修改时间\"}}):e._e()],1)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"商城价格\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.disabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"processCode\"],expression:\"['processCode']\"}],attrs:{placeholder:\"请输入商城价格\"}}):e._e()],1)],1)],1)],1)},x=[],T=[{title:\"产品编码\",dataIndex:\"code\",width:\"16%\",scopedSlots:{customRender:\"code\"}},{title:\"产品名称\",dataIndex:\"name\",width:\"16%\"},{title:\"规格\",dataIndex:\"spec\",width:\"16%\"},{title:\"创建时间\",dataIndex:\"time\",width:\"16%\",scopedSlots:{customRender:\"time\"}},{title:\"备注\",dataIndex:\"remark\",width:\"16%\"},{title:\"状态\",dataIndex:\"status\",width:\"16%\"}],L=[{id:0,name:\"压簧\"},{id:1,name:\"拉簧\"},{id:2,name:\"扭簧\"},{id:3,name:\"碟簧\"},{id:4,name:\"波簧\"},{id:5,name:\"板簧\"}],A={name:\"TabMallAttr\",mixins:[v[\"a\"],v[\"c\"]],data:function(){return{tabMallAttr:this.$form.createForm(this),springType:L}},created:function(){},methods:{}},j=A,N=Object(y[\"a\"])(j,O,x,!1,null,\"e7787c52\",null),$=N.exports,S=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"a-form\",{attrs:{form:e.goodsInfoForm,layout:\"horizontal\",hideRequiredMark:\"\"}},[t(\"a-row\",[t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"产品编码\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"code\"],expression:\"['code']\"}],attrs:{disabled:\"disabled\",placeholder:\"默认带出\"}}):[e._v(e._s(e.skuInfoData.code))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"产品分类\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-cascader\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"catId\"],expression:\"['catId']\"}],attrs:{options:e.options,fieldNames:{label:\"name\",value:\"id\",children:\"childrens\"},placeholder:\"请输入分类名称\",changeOnSelect:\"\"},on:{change:e.onChangeGoodsClass}}):[e._v(e._s(e.classCatObj.val?e.classCatObj.val.slice(-1).join(\"\"):\"\"))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"产品名称\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"name\",{rules:[{required:!0,message:\"请输入产品名称!\"}]}],expression:\"['name', {rules: [{ required: true, message: '请输入产品名称!'}] }]\"}],attrs:{placeholder:\"请输入产品名称\"}}):[e._v(e._s(e.skuInfoData.name))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"产品图号\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"drawNum\"],expression:\"['drawNum']\"}],attrs:{placeholder:\"请输入产品图号\"}}):[e._v(e._s(e.skuInfoData.drawNum))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"图号版本号\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"drawVersion\"],expression:\"['drawVersion']\"}],attrs:{placeholder:\"请输入产品图号版本号\"}}):[e._v(e._s(e.skuInfoData.drawVersion))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"规格\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"spec\"],expression:\"['spec']\"}],attrs:{placeholder:\"请输入规格\"}}):[e._v(e._s(e.skuInfoData.spec))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"基础报价\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"price\"],expression:\"['price']\"}],attrs:{placeholder:\"请输入基础报价\"}}):[e._v(e._s(e.skuInfoData.price+\"\"))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"计量单位\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"unit\"],expression:\"['unit']\"}],attrs:{allowClear:\"\",placeholder:\"请输入单位\"}},[t(\"a-select-option\",{attrs:{value:\"套\"}},[e._v(\"套\")]),t(\"a-select-option\",{attrs:{value:\"毫米\"}},[e._v(\"毫米\")]),t(\"a-select-option\",{attrs:{value:\"只\"}},[e._v(\"只\")]),t(\"a-select-option\",{attrs:{value:\"公斤\"}},[e._v(\"公斤\")])],1):[e._v(e._s(e.skuInfoData.unit))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"获取途径\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"gateway\"],expression:\"['gateway']\"}],attrs:{allowClear:\"\",placeholder:\"请输入获取途径\"}},[t(\"a-select-option\",{attrs:{value:\"SELF\"}},[e._v(\"自制\")]),t(\"a-select-option\",{attrs:{value:\"BUY\"}},[e._v(\"外购\")])],1):[e._v(e._s(\"SELF\"===e.skuInfoData.gateway?\"自制\":\"外购\"))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"执行标准\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"standard\"],expression:\"['standard']\"}],attrs:{placeholder:\"请输入执行标准\"}}):[e._v(e._s(e.skuInfoData.standard))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"单个重量\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"weight\",{rules:[{pattern:\"^-?(0|[1-9][0-9]*)(.[0-9]*)?$\",message:\"请输入数字\"}],validateTrigger:[\"change\",\"blur\"]}],expression:\"['weight', {rules: [{pattern: '^-?(0|[1-9][0-9]*)(\\\\.[0-9]*)?$', message: '请输入数字'}], validateTrigger: ['change', 'blur']}]\"}],attrs:{placeholder:\"请输入单个重量\"}}):[e._v(e._s(e.skuInfoData.weight))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"材质\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"cz\"],expression:\"['cz']\"}],attrs:{allowClear:\"\",placeholder:\"请选择材质\"}},e._l(e.czData,function(a){return t(\"a-select-option\",{key:a.id,attrs:{value:a.realValue}},[e._v(e._s(a.realValue))])}),1):[e._v(e._s(e.skuInfoData.cz))]],2)],1),t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:\"备注\",\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"remark\"],expression:\"['remark']\"}],attrs:{placeholder:\"请输入备注\"}}):[e._v(e._s(e.skuInfoData.remark))]],2)],1)],1)],1)},P=[],V=(t(\"6b54\"),t(\"06db\"),t(\"365c\")),E=t(\"0d5e\");t(\"3c43\");function F(e){var a=this,t=e.pageSize,o=void 0===t?15:t,r=e.currentPage,s=void 0===r?1:r,l=e.custId,n=void 0===l?0:l,i=e.skuType,c=void 0===i?\"MATERIAL\":i,d=e.keywords,p=e.skuCode,u=e.springType,m=e.companyId,f=void 0===m?localStorage.getItem(\"companyId\")+\"\":m;return this.loading=!0,Object(E[\"e\"])(V[\"a\"].bomearch,{pageSize:o,currentPage:s,custId:n,skuType:c,keywords:d,skuCode:p,springType:u,companyId:f}).then(function(e){if(0===e.data.code)return a.loading=!1,a.data=[],a.pagination.total=+e.data.data.total,void e.data.data.records.forEach(function(e){a.data.push({key:e.sku.id,id:e.sku.id,code:e.sku.code,name:e.sku.name,time:e.sku.createTime,remark:e.sku.remark,spec:e.sku.spec,status:\"NORMAL\"===e.sku.status?\"正常\":\"STOP\"===e.sku.status?\"停用\":\"禁用\"})});a.loading=!1}).catch(function(e){console.log(e),a.loading=!1})}function R(e){var a=this;return Object(E[\"c\"])(V[\"a\"].goodsView+\"?skuId=\".concat(e)).then(function(e){0===e.data.code&&(console.log(e.data.data),a.goodsViewInfo=e.data.data)}).catch(function(e){console.log(e)})}function M(e,a){function t(){var t=localStorage.companyId.toString();console.log(t),Object(E[\"c\"])(V[\"a\"].bomListCompanyGoodsCode+\"?code=\".concat(e,\"&currentPage=1&pageSize=50&companyId=\").concat(t)).then(function(t){if(r===e){var o=[];o.push.apply(o,Object(m[\"a\"])(t.data.data.records)),a(o)}})}o&&(clearTimeout(o),o=null),r=e,o=setTimeout(t,300)}function z(e,a){function t(){Object(E[\"c\"])(V[\"a\"].bomListCompanyGoodsName+\"?name=\".concat(e,\"&currentPage=1&pageSize=50&companyId=\").concat(localStorage.getItem(\"companyId\"))).then(function(t){if(r===e){var o=[];o.push.apply(o,Object(m[\"a\"])(t.data.data.records)),a(o)}})}o&&(clearTimeout(o),o=null),r=e,o=setTimeout(t,300)}function B(){var e=this;return Object(E[\"c\"])(V[\"a\"].bomCategoryTree).then(function(a){0===a.data.code&&(e.options=a.data.data)}).catch(function(e){console.log(e)})}function G(e){return Object(E[\"c\"])(V[\"a\"].catAllAttrAndOptions+\"?catId=\"+e).catch(function(e){console.log(e)})}function U(e,a){var t=this;return Object(E[\"e\"])(V[\"a\"].bomAdd,e).then(function(e){if(0===e.data.code)return t.loading=!1,t.$message.success(a),t.$emit(\"isDrawer\",!1),!1;t.$message.error(e.data.msg),t.$emit(\"isDrawer\",!0),t.loading=!1}).catch(function(e){console.log(e)})}function q(e,a){var t=this;return Object(E[\"f\"])(V[\"a\"].goodsUpdate,e).then(function(e){if(0===e.data.code)return t.loading=!1,t.$message.success(a),t.$emit(\"isDrawer\",!1),!1;t.$message.error(e.data.msg),t.$emit(\"isDrawer\",!0),t.loading=!1}).catch(function(e){console.log(e)})}function K(e){var a=this;return Object(E[\"a\"])(V[\"a\"].bomDelete+\"?skuIds=\".concat(e)).then(function(e){if(0===e.data.code)return a.loading=!1,a.$message.success(\"删除成功\"),a.$emit(\"isDrawer\",!1),!1;a.loading=!1,a.$message.success(e.data.msg),a.$emit(\"isDrawer\",!0)}).catch(function(e){console.log(e),a.$message.error(\"请求错误\"),a.loading=!1})}function H(){return Object(E[\"c\"])(V[\"a\"].custIndustry+\"SPRING_CZ\")}var X=t(\"c3fb\"),J={name:\"ProductInfoForm\",mixins:[v[\"a\"],v[\"c\"]],data:function(){return{goodsInfoForm:this.$form.createForm(this),options:[],czData:[],classCatObj:{val:[],id:[]}}},props:{skuInfoData:{type:Object,default:{}},springInfoType:{type:String,default:\"\"},childDisabled:{type:Boolean,default:!1}},created:function(){var e=this;B.call(this).then(function(){console.log(e.options),console.log(e.skuInfoData),e.classCatObj.val=Object(X[\"c\"])(e.skuInfoData.catId,e.options,\"name\"),e.classCatObj.id=Object(X[\"c\"])(e.skuInfoData.catId,e.options,\"id\"),e.$emit(\"classCatObj\",e.classCatObj)}),H().then(function(a){if(0===a.data.code){var t={};e.czData=a.data.data.reduce(function(e,a){return!t[a.realValue]&&(t[a.realValue]=e.push(a)),e},[])}})},methods:{onChangeGoodsClass:function(e){var a=this;console.log(e),G.apply(void 0,Object(m[\"a\"])(e)).then(function(e){0===e.data.code?(console.log(e.data.data),a.$emit(\"classAttrInfo\",e.data.data)):a.$emit(\"classAttrInfo\",[])})}},watch:{},computed:{getSpringType:function(){var e={YA:\"压簧\",LA:\"拉簧\",NIU:\"扭簧\",DIE:\"碟簧\",BO:\"波簧\",BAN:\"板簧\"};return e[this.springInfoType]}}},Y=J,Z=(t(\"341c\"),Object(y[\"a\"])(Y,S,P,!1,null,\"fd4c734c\",null)),Q=Z.exports,W=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"a-form\",{attrs:{form:e.classAttrInfoForm,layout:\"horizontal\",hideRequiredMark:\"\"}},[t(\"a-row\",e._l(e.componentData,function(a,o){return e.componentData.length?t(a.component,{key:a.id,tag:\"component\",attrs:{data:{data:a,index:o},childDisabled:e.childDisabled},on:{categoryData:e.categoryData}}):e._e()}),1)],1)},ee=[],ae=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:e.getData.data.name,\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol}},[e.childDisabled?t(\"a-select\",{attrs:{allowClear:\"\",labelInValue:\"\",defaultValue:{key:e.getData.data.val||\"\"},placeholder:\"请输入\"+e.getData.data.name},on:{change:function(a){return e.onChangeSelect(a,e.data)}}},e._l(e.getData.data.options,function(a){return t(\"a-select-option\",{key:a.id,attrs:{key:\"0\"}},[e._v(e._s(a.val))])}),1):[e._v(e._s(e.getData.data.val))]],2)],1)},te=[],oe=t(\"5176\"),re=t.n(oe),se={name:\"SelectComponent\",mixins:[v[\"a\"],v[\"c\"]],data:function(){return{selectData:{},getData:{}}},props:{data:{type:Object,default:{}},childDisabled:{type:Boolean,default:!1}},methods:{onChangeSelect:function(e,a){console.log(e),this.dataValue=e,console.log(a),re()(this.selectData,{catAttrId:a.data.id,catAttrName:a.data.name,attrValId:e.key,val:e.label}),this.$emit(\"categoryData\",this.selectData)}},watch:{data:{handler:function(e){this.getData=e},deep:!0,immediate:!0}}},le=se,ne=Object(y[\"a\"])(le,ae,te,!1,null,\"1507f0fd\",null),ie=ne.exports,ce=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"a-col\",{attrs:{span:8}},[t(\"a-form-item\",{class:{labelColor:e.isLabelColor},attrs:{label:e.getData.data.name,\"label-col\":e.labelCol,\"wrapper-col\":e.wrapperCol,title:e.getData.data.name}},[e.childDisabled?t(\"a-input\",{attrs:{defaultValue:e.getData.data.val,placeholder:\"请输入\"+e.getData.data.name},on:{change:function(a){return e.onChangeInput(a.target.value,e.data)}}}):[e._v(e._s(e.getData.data.val))]],2)],1)},de=[],pe={name:\"InputComponent\",mixins:[v[\"a\"],v[\"c\"]],data:function(){return{inputData:{}}},props:{data:{type:Object,default:{}},childDisabled:{type:Boolean,default:!1}},methods:{onChangeInput:function(e,a){console.log(e),console.log(a),re()(this.inputData,{catAttrId:a.data.id,catAttrName:a.data.name,val:e}),this.$emit(\"categoryData\",this.inputData)}},watch:{data:{handler:function(e){this.getData=e},deep:!0,immediate:!0}}},ue=pe,me=Object(y[\"a\"])(ue,ce,de,!1,null,\"ad129ea0\",null),fe=me.exports,he=t(\"e0c1\"),be=(t(\"5118\"),{name:\"ClassAttr\",mixins:[v[\"a\"],v[\"c\"]],data:function(){return{classAttrInfoForm:this.$form.createForm(this),componentData:[],clssData:[]}},methods:{categoryData:function(e){console.log(e),this.clssData.push(e);var a={},t=this.clssData.reduceRight(function(e,t){return!a[t.catAttrId]&&(a[t.catAttrId]=e.push(t)),e},[]);console.log(t),this.$emit(\"classData\",t)}},props:{classAttrVal:{type:Array,default:[]},classAttrInfoData:{type:Array,default:[]},classCatId:{type:String,default:\"\"},childDisabled:{type:Boolean,default:!1}},watch:{classAttrVal:{handler:function(e){var a=this;e.length&&(console.log(e),this.componentData=[],e.forEach(function(e){\"INPUT\"===e.inputType&&a.componentData.push({name:e.name,id:e.id,required:e.required,attrType:e.attrType,valType:e.valType,component:\"inputComponent\"}),\"RADIO\"!==e.inputType&&\"CHECKBOX\"!==e.inputType||a.componentData.push({name:e.name,id:e.id,required:e.required,attrType:e.attrType,options:e.optionList,component:\"selectComponent\"})}),console.log(this.componentData))},deep:!0,immediate:!0},classAttrInfoData:{handler:function(e){var a=this;e.length&&Object(he[\"d\"])(this.classCatId).then(function(t){0===t.data.code&&(a.componentData=[],t.data.data.forEach(function(t,o){var r=e.filter(function(e,a){return t.id===e.catAttrId});\"INPUT\"===t.inputType&&(a.componentData[o]={name:t.name,id:t.id,required:t.required,attrType:t.attrType,valType:t.valType,component:\"inputComponent\",val:r[0].val,catAttrId:r[0].catAttrId}),\"RADIO\"!==t.inputType&&\"CHECKBOX\"!==t.inputType||(a.componentData[o]={name:t.name,id:t.id,required:t.required,attrType:t.attrType,options:t.optionList,component:\"selectComponent\",val:r[0].val,catAttrId:r[0].catAttrId})}))})},deep:!0,immediate:!0}},components:{SelectComponent:ie,InputComponent:fe}}),Ce=be,ve=Object(y[\"a\"])(Ce,W,ee,!1,null,\"2636478e\",null),ge=ve.exports,we=t(\"a966\"),De={name:\"GoodsInfo\",mixins:[v[\"a\"],v[\"c\"]],data:function(){return{isLabelColor:!1,getClassType:!1,classAttrVal:[],skuData:{},pics:[],custInfo:{},springInfo:{},attrVals:[],skuInfoData:{},classCatObjId:[],picInfoData:[],classAttrInfoData:[],classCatId:\"\"}},props:{goodsViewInfo:{type:Object,default:{}}},created:function(){var e=this;C[\"a\"].$on(\"isDisabled\",function(a){console.log(a);var t=new b.a(function(t){e.disabled=!a,e.isLabelColor=!e.isLabelColor,t()});t.then(function(){e.disabled&&e.setFormData()})})},destroyed:function(){C[\"a\"].$off(\"isDisabled\")},methods:{onChangeCategoryName:function(e){},onSubmit:function(e){var a=this;e.preventDefault(),this.getFormData().then(function(){var e={sku:Object(f[\"a\"])({},a.skuData,{catId:a.skuData.catId?a.skuData.catId.slice(-1).join(\"\"):\"\"},a.price,{skuType:\"MATERIAL\"}),pics:Object(m[\"a\"])(a.pics),custInfo:Object(f[\"a\"])({},a.custInfo),attrVals:Object(m[\"a\"])(a.attrVals)};U.call(a,e,\"添加成功\")})},onSave:function(e){var a=this;e.preventDefault(),this.getFormData().then(function(){var e={sku:Object(f[\"a\"])({},a.skuInfoData,a.skuData,{catId:a.skuData.catId?a.skuData.catId.slice(-1).join(\"\"):\"\"},a.price,{skuType:\"MATERIAL\"}),pics:Object(m[\"a\"])(a.pics),custInfo:Object(f[\"a\"])({},a.custInfo),attrVals:Object(m[\"a\"])(a.attrVals)};q.call(a,e,\"更新成功\")})},isDelete:function(e){K.call(this,this.goodsViewInfo.sku.id)},classAttrInfo:function(e){if(e.length)return this.getClassType=!0,void(this.classAttrVal=e);this.getClassType=!1},classData:function(e){this.attrVals=e},propsFileList:function(e){this.pics=e},classCatObj:function(e){console.log(e),this.classCatObjId=e.id},getFormData:function(){var e=Object(n[\"a\"])(regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.goodsInfoForm.goodsInfoForm.validateFields(function(e,t){e||(a.skuData=t)}),this.$refs.classAttrForm&&this.$refs.classAttrForm.classAttrInfoForm.validateFields(function(e,a){}),this.$refs.productAttrForm&&this.$refs.productAttrForm.productAttrForm.validateFields(function(e,t){e||(a.springInfo=t)});case 3:case\"end\":return e.stop()}},e,this)}));function a(){return e.apply(this,arguments)}return a}(),setFormData:function(){var e=Object(n[\"a\"])(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.goodsInfoForm.goodsInfoForm.setFieldsValue((a={catId:this.classCatObjId,name:this.skuInfoData.name,drawNum:this.skuInfoData.drawNum,drawVersion:this.skuInfoData.drawVersion,spec:this.skuInfoData.spec,unit:this.skuInfoData.unit},Object(u[\"a\"])(a,\"unit\",this.skuInfoData.unit),Object(u[\"a\"])(a,\"gateway\",this.skuInfoData.gateway),Object(u[\"a\"])(a,\"standard\",this.skuInfoData.standard),Object(u[\"a\"])(a,\"weight\",this.skuInfoData.weight+\"\"),Object(u[\"a\"])(a,\"cz\",this.skuInfoData.cz),Object(u[\"a\"])(a,\"remark\",this.skuInfoData.remark),Object(u[\"a\"])(a,\"price\",this.skuInfoData.price),a));case 1:case\"end\":return e.stop()}},e,this)}));function a(){return e.apply(this,arguments)}return a}()},watch:{goodsViewInfo:{handler:function(e){console.log(e),p()(e).length&&(this.skuInfoData=e.sku,this.picInfoData=e.pics,this.classAttrInfoData=e.attrVals,this.classCatId=e.sku.catId)},deep:!0,immediate:!0}},computed:{getDetailPermission:function(){return this.$store.state.detailPermission}},components:{\"tab-title\":_,\"tabMall-info\":$,\"product-info\":Q,\"class-attr\":ge,\"product-upload\":we[\"a\"]}},Ie=De,ye=(t(\"3971\"),Object(y[\"a\"])(Ie,i,c,!1,null,\"465c51e1\",null)),ke=ye.exports,_e={name:\"Goods\",mixins:[v[\"a\"],v[\"b\"]],data:function(){return{data:[],columns:T,springType:L,selectedRowKeys:[],pagination:{total:0,defaultPageSize:15,defaultCurrent:1,showQuickJumper:!0,hideOnSinglePage:!0,showSizeChanger:!0,pageSizeOptions:[\"10\",\"15\",\"30\",\"50\",\"100\"]},searchData:[],searchValue:void 0,selectCodeData:[],selectCodeValue:void 0,scrollPositionCode:1,selectData:[],selectValue:void 0,scrollPositionPro:1,springValue:void 0,goodsViewInfo:{}}},created:function(){F.call(this,{})},methods:{onHandleInfo:function(e){var a=this;R.call(this,e.id).then(function(){a.visible=!0}),this.$store.commit(\"setPromptTitle\",{title:\"产品信息详情\",isEdit:!0})},showDrawer:function(){this.visible=!0,this.goodsViewInfo={},this.$store.commit(\"setPromptTitle\",{title:\"新建产品信息\",isEdit:!1})},isDrawer:function(e){var a=this;this.visible=e,this.timer=setTimeout(function(){a.rest().then(function(){F.call(a,{})})},100)},rest:function(){var e=Object(n[\"a\"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.selectValue=void 0,this.selectCodeValue=void 0;case 2:case\"end\":return e.stop()}},e,this)}));function a(){return e.apply(this,arguments)}return a}(),processDelete:function(){var e=this;this.selectedRowKeys.length>0&&this.$confirm({title:\"您确认要删除吗?\",okType:\"danger\",onOk:function(){var a=e.selectedRowKeys.join(\"&skuIds=\");K.call(e,a).then(function(){e.rest().then(function(){F.call(e,{}),e.selectedRowKeys=[]})})},onCancel:function(){console.log(\"Cancel\")},class:\"test\"})},onChangePage:function(e,a,t){console.log(e.current+\"分页下标\"),console.log(e.pageSize),F.call(this,{currentPage:e.current,pageSize:e.pageSize,skuCode:this.selectCodeValue,keywords:this.selectValue,springType:this.springValue}),this.selectedRowKeys=[]},handleChangeCode:function(e){console.log(e),this.selectCodeValue=e,F.call(this,{skuCode:e})},handleSearchCode:function(e){var a=this;M.call(this,e,function(e){return a.selectCodeData=e})},handleChangeCodeName:function(e){this.selectValue=e,F.call(this,{keywords:[e||\"\"]})},handleScrollCodeName:function(e){var a=this;z.call(this,e,function(e){return a.selectData=e})},custId:function(e){F.call(this,{custId:e})},onChangeTab:function(e){console.log(e),this.selectedRowKeys=e}},computed:{rowSelection:function(){var e=this.selectedRowKeys;return{selectedRowKeys:e,onChange:this.onChangeTab,hideDefaultSelections:!0}},getMenuPermission:function(){return this.$store.state.menuPermission}},components:{\"goods-info\":ke}},Oe=_e,xe=(t(\"55fc\"),Object(y[\"a\"])(Oe,s,l,!1,null,\"118f10c1\",null));a[\"default\"]=xe.exports},\"341c\":function(e,a,t){\"use strict\";var o=t(\"9ce9\"),r=t.n(o);r.a},3971:function(e,a,t){\"use strict\";var o=t(\"9d06\"),r=t.n(o);r.a},\"3c43\":function(e,a){a.endianness=function(){return\"LE\"},a.hostname=function(){return\"undefined\"!==typeof location?location.hostname:\"\"},a.loadavg=function(){return[]},a.uptime=function(){return 0},a.freemem=function(){return Number.MAX_VALUE},a.totalmem=function(){return Number.MAX_VALUE},a.cpus=function(){return[]},a.type=function(){return\"Browser\"},a.release=function(){return\"undefined\"!==typeof navigator?navigator.appVersion:\"\"},a.networkInterfaces=a.getNetworkInterfaces=function(){return{}},a.arch=function(){return\"javascript\"},a.platform=function(){return\"browser\"},a.tmpdir=a.tmpDir=function(){return\"/tmp\"},a.EOL=\"\\n\",a.homedir=function(){return\"/\"}},\"4c98\":function(e,a,t){},\"55fc\":function(e,a,t){\"use strict\";var o=t(\"4c98\"),r=t.n(o);r.a},\"9ce9\":function(e,a,t){},\"9d06\":function(e,a,t){},\"9f5b\":function(e,a,t){},a1ce:function(e,a,t){var o=t(\"63b6\"),r=t(\"25eb\"),s=t(\"294c\"),l=t(\"e692\"),n=\"[\"+l+\"]\",i=\"​\",c=RegExp(\"^\"+n+n+\"*\"),d=RegExp(n+n+\"*$\"),p=function(e,a,t){var r={},n=s(function(){return!!l[e]()||i[e]()!=i}),c=r[e]=n?a(u):l[e];t&&(r[t]=c),o(o.P+o.F*n,\"String\",r)},u=p.trim=function(e,a){return e=String(r(e)),1&a&&(e=e.replace(c,\"\")),2&a&&(e=e.replace(d,\"\")),e};e.exports=p},a966:function(e,a,t){\"use strict\";var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"div\",{staticClass:\"clearfix\",staticStyle:{marginLeft:\"16px\"}},[t(\"a-upload\",{attrs:{action:\"/api/ic/user/file/uploadFile\",listType:\"picture-card\",data:{bizType:\"GOODS\"},headers:e.headers,fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<10?t(\"div\",[t(\"a-icon\",{attrs:{type:\"plus\"}}),t(\"div\",{staticClass:\"ant-upload-text\"},[e._v(\"Upload\")])],1):e._e()]),t(\"a-modal\",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[t(\"img\",{staticStyle:{width:\"100%\"},attrs:{alt:\"example\",src:e.previewImage}})])],1)},r=[],s=t(\"cebc\"),l=(t(\"96cf\"),t(\"3b8d\")),n={name:\"component_name\",data:function(){return{previewVisible:!1,previewImage:\"\",fileList:[],headers:{\"AUTH-TOKEN\":localStorage.getItem(\"ACCESS_TOKEN\"),companyId:localStorage.getItem(\"companyId\")},propsFileList:[],count:0}},props:{picInfoData:{type:Array,default:[]}},methods:{handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},handleChange:function(){var e=Object(l[\"a\"])(regeneratorRuntime.mark(function e(a){var t,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.file,t=a.fileList,e.next=3,t;case 3:this.fileList=e.sent,console.log(this.fileList),this.count++,3===this.count&&(this.propsFileList=[],this.fileList.forEach(function(e){console.log(e),e.response?o.propsFileList.push({picUrl:e.response.data}):o.propsFileList.push(Object(s[\"a\"])({},e))}),this.$emit(\"propsFileList\",this.propsFileList),this.count=0);case 7:case\"end\":return e.stop()}},e,this)}));function a(a){return e.apply(this,arguments)}return a}()},watch:{picInfoData:{handler:function(e){var a=this;e.length&&(console.log(e),this.fileList=[],e.forEach(function(e){a.fileList.push(Object(s[\"a\"])({},e,{url:e.picUrl,uid:Math.floor(100*Math.random()),name:\"xxx.png\"}))}),console.log(this.fileList),this.$emit(\"propsFileList\",this.fileList.map(function(e){return Object(s[\"a\"])({},e)})))},deep:!0,immediate:!0}}},i=n,c=t(\"2877\"),d=Object(c[\"a\"])(i,o,r,!1,null,\"7f79f9da\",null);a[\"a\"]=d.exports},cd34:function(e,a,t){\"use strict\";t.d(a,\"a\",function(){return o}),t.d(a,\"b\",function(){return r}),t.d(a,\"c\",function(){return s});var o={data:function(){return{loading:!1,visible:!1,labelCol:{span:6},wrapperCol:{span:14},isEdit:!0,disabled:!0,isLabelColor:!1,timer:null}},beforeDestroy:function(){clearTimeout(this.timer)},methods:{onClose:function(){this.$emit(\"isDrawer\",!1)}}},r={methods:{closeDrawer:function(){this.visible=!1}}},s={watch:{\"$store.state.promptTitle.isEdit\":{handler:function(e){this.isEdit=!e,this.disabled=!e,this.isEdit?this.isLabelColor=!1:this.isLabelColor=!0},deep:!0,immediate:!0}}};Boolean},e0c1:function(e,a,t){\"use strict\";t.d(a,\"l\",function(){return c}),t.d(a,\"f\",function(){return d}),t.d(a,\"e\",function(){return p}),t.d(a,\"d\",function(){return u}),t.d(a,\"i\",function(){return m}),t.d(a,\"a\",function(){return f}),t.d(a,\"j\",function(){return h}),t.d(a,\"g\",function(){return b}),t.d(a,\"h\",function(){return C}),t.d(a,\"m\",function(){return v}),t.d(a,\"b\",function(){return g}),t.d(a,\"c\",function(){return w}),t.d(a,\"k\",function(){return D});var o,r,s=t(\"75fc\"),l=(t(\"7f7f\"),t(\"365c\")),n=t(\"0d5e\"),i=t(\"cba0\");function c(e){var a=this,t=e.pageSize,o=void 0===t?15:t,r=e.currentPage,s=void 0===r?1:r,i=e.custId,c=void 0===i?0:i,d=e.keywords,p=e.skuCode,u=e.springType;return this.loading=!0,Object(n[\"e\"])(l[\"a\"].searchGoods,{pageSize:o,currentPage:s,custId:c,keywords:d,skuCode:p,springType:u}).then(function(e){if(0===e.data.code)return a.loading=!1,a.data=[],a.pagination.total=+e.data.data.total,void e.data.data.records.forEach(function(e){a.data.push({key:e.sku.id,id:e.sku.id,code:e.sku.code,name:e.sku.name,time:e.sku.createTime,remark:e.sku.remark,spec:e.sku.spec,status:\"NORMAL\"===e.sku.status?\"正常\":\"NORMAL\"===e.sku.status?\"停用\":\"禁用\"})});a.loading=!1}).catch(function(e){console.log(e),a.loading=!1})}function d(e){var a=this;return Object(n[\"c\"])(l[\"a\"].goodsView+\"?skuId=\".concat(e)).then(function(e){0===e.data.code&&(a.goodsViewInfo=e.data.data)}).catch(function(e){console.log(e)})}function p(){var e=this;return Object(n[\"c\"])(l[\"a\"].categoryList).then(function(a){0===a.data.code&&(e.options=a.data.data)}).catch(function(e){console.log(e)})}function u(e){return Object(n[\"c\"])(l[\"a\"].catAllAttrAndOptions+\"?catId=\"+e).catch(function(e){console.log(e)})}function m(e){var a=this;return Object(n[\"e\"])(l[\"a\"].goodsSkuAdd,e).then(function(e){if(0===e.data.code)return a.loading=!1,a.$message.success(\"添加成功\"),i[\"a\"].$emit(\"active\",\"3\"),a.setSkuId=e.data.data.id,!1;a.$message.error(e.data.msg),a.$emit(\"isDrawer\",!0),a.loading=!1}).catch(function(e){console.log(e)})}function f(e){var a=this;return Object(n[\"a\"])(l[\"a\"].bomDelete+\"?skuIds=\".concat(e)).then(function(e){if(0===e.data.code)return a.loading=!1,a.$message.success(\"删除成功\"),a.$emit(\"isDrawer\",!1),!1;a.loading=!1,a.$message.success(e.data.msg),a.$emit(\"isDrawer\",!0)}).catch(function(e){console.log(e),a.$message.error(\"请求错误\"),a.loading=!1})}function h(e){var a=this;return Object(n[\"f\"])(l[\"a\"].goodsUpdate,e).then(function(e){if(0===e.data.code)return a.loading=!1,a.$message.success(\"修改成功\"),i[\"a\"].$emit(\"active\",\"3\"),!1;a.$message.error(e.data.msg),a.$emit(\"isDrawer\",!0),a.loading=!1}).catch(function(e){console.log(e)})}function b(e,a){function t(){Object(n[\"c\"])(l[\"a\"].listCompanyGoodsCode+\"?code=\".concat(e,\"&currentPage=1&pageSize=50\")).then(function(t){if(console.log(t),r===e){var o=[];o.push.apply(o,Object(s[\"a\"])(t.data.data.records)),console.log(o),a(o)}})}o&&(clearTimeout(o),o=null),r=e,console.log(r),o=setTimeout(t,300)}function C(e,a){function t(){Object(n[\"c\"])(l[\"a\"].listCompanyGoodsName+\"?name=\".concat(e,\"&currentPage=1&pageSize=50\")).then(function(t){if(r===e){var o=[];o.push.apply(o,Object(s[\"a\"])(t.data.data.records)),a(o)}})}o&&(clearTimeout(o),o=null),r=e,o=setTimeout(t,300)}function v(e){var a=this;return Object(n[\"f\"])(l[\"a\"].setBomAndCraft,e).then(function(e){if(0===e.data.code)return a.loading=!1,a.$message.success(\"设置成功\"),a.$emit(\"isDrawer\",!1),!1;a.$message.error(e.data.msg),a.$emit(\"isDrawer\",!0),a.loading=!1}).catch(function(e){console.log(e)})}function g(){return Object(n[\"c\"])(l[\"a\"].custIndustry+\"SPRING_CZ\")}function w(e){return Object(n[\"c\"])(l[\"a\"].getBomAndCraftPrices+e)}function D(e,a,t){return Object(n[\"e\"])(l[\"a\"].getBomAndCraftPrices+e+\"?basePrice=\".concat(a),t)}},e692:function(e,a){e.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"},f7725:function(e,a,t){\"use strict\";var o=t(\"9f5b\"),r=t.n(o);r.a}}]);","extractedComments":[]}