{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/sale/orderList/Order.vue?vue&type=template&id=170fcc3c&scoped=true&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/sale/orderList/Order.vue","mtime":1560327748418},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"order\">\n  <!-- 头部选择区 -->\n  <div class=\"order-add\">\n    <a-button type=\"primary\" @click=\"orderInfo('-1')\">\n      <a-icon type=\"plus\"/>新建\n    </a-button>\n    <span class=\"delete-btn\" @click=\"deleteOrder\">\n      <a-icon class=\"delete-icon\" type=\"delete\"/>\n      <span>删除</span>\n    </span>\n    <!-- <a-dropdown>\n      <span>\n        <a-icon class=\"order-derive\" type=\"check-circle\"/>\n        <span>更多</span>\n      </span>\n      <a-menu slot=\"overlay\">\n        <a-menu-item key=\"0\">\n          <span>导入</span>\n        </a-menu-item>\n        <a-menu-item key=\"1\">\n          <span>导出</span>\n        </a-menu-item>\n      </a-menu>\n    </a-dropdown>-->\n  </div>\n  <div class=\"order-select\">\n    <a-row>\n      <a-col :span=\"22\">\n        <a-row>\n          <a-col :span=\"6\">\n            <a-form-item\n              :label-col=\"formItemLayout.labelCol\"\n              :wrapper-col=\"formItemLayout.wrapperCol\"\n              label=\"订单编号\"\n            >\n              <a-input\n                class=\"inputWidth\"\n                v-model=\"orderEncapsulation.oorderNumber\"\n                placeholder=\"请输入订单编号\"\n                @change=\"(e)=>{inputChange(e.target.value,'oorderNumber')}\"\n              />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"6\">\n            <a-form-item\n              :label-col=\"formItemLayout.labelCol\"\n              :wrapper-col=\"formItemLayout.wrapperCol\"\n              label=\"采购单号\"\n            >\n              <a-input\n                class=\"inputWidth\"\n                v-model=\"orderEncapsulation.opurchaseOrderno\"\n                placeholder=\"请输入客户采购单号\"\n                @change=\"(e)=>{inputChange(e.target.value,'opurchaseOrderno')}\"\n              />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"6\">\n            <a-form-item\n              :label-col=\"formItemLayout.labelCol\"\n              :wrapper-col=\"formItemLayout.wrapperCol\"\n              label=\"客户名称\"\n            >\n              <a-select\n                class=\"inputWidth\"\n                showSearch\n                :allowClear=\"true\"\n                v-model=\"orderEncapsulation.custId\"\n                @change=\"(val)=>{inputChange(val,'custId')}\"\n                placeholder=\"请输入客户名称\"\n                @popupScroll=\"e=>currentPageChange(e,'customer')\"\n                :getPopupContainer=\"triggerNode => triggerNode.parentNode\"\n              >\n                <a-select-option\n                  v-for=\"item in listCompanyCusts\"\n                  :key=\"item.id\"\n                >{{item.custShortName}}</a-select-option>\n              </a-select>\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"6\">\n            <a-form-item\n              :label-col=\"formItemLayout.labelCol\"\n              :wrapper-col=\"formItemLayout.wrapperCol\"\n              label=\"客户编码\"\n            >\n              <a-select\n                class=\"inputWidth\"\n                showSearch\n                :allowClear=\"true\"\n                v-model=\"orderEncapsulation.custId\"\n                @change=\"(val)=>{inputChange(val,'custId')}\"\n                placeholder=\"请输入客户编码\"\n                @popupScroll=\"e=>currentPageChange(e,'customer')\"\n                :getPopupContainer=\"triggerNode => triggerNode.parentNode\"\n              >\n                <a-select-option v-for=\"item in listCompanyCusts\" :key=\"item.id\">{{item.custCode}}</a-select-option>\n              </a-select>\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <Animation name=\"fadeIn\">\n          <a-row v-if=\"advanced\">\n            <a-col :span=\"6\">\n              <a-form-item\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n                label=\"客户经理\"\n              >\n                <a-select\n                  class=\"inputWidth\"\n                  showSearch\n                  :allowClear=\"true\"\n                  v-model=\"orderEncapsulation.ocustAmaldar\"\n                  @change=\"(val)=>{inputChange(val,'ocustAmaldar')}\"\n                  placeholder=\"请输入客户经理\"\n                  :getPopupContainer=\"triggerNode => triggerNode.parentNode\"\n                >\n                  <a-select-option v-for=\"item in ocustAmaldarList\" :key=\"item\">{{item}}</a-select-option>\n                </a-select>\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"6\">\n              <a-form-item\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n                label=\"产品编码\"\n              >\n                <a-select\n                  class=\"inputWidth\"\n                  showSearch\n                  :allowClear=\"true\"\n                  v-model=\"orderEncapsulation.odSkuCode\"\n                  @change=\"(val)=>{inputChange(val,'odSkuCode')}\"\n                  placeholder=\"请选择产品编码\"\n                  @popupScroll=\"e=>currentPageChange(e,'companyGoods')\"\n                  :getPopupContainer=\"triggerNode => triggerNode.parentNode\"\n                >\n                  <a-select-option v-for=\"item in odSkuCodeList\" :key=\"item\">{{item}}</a-select-option>\n                </a-select>\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"6\">\n              <a-form-item\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n                label=\"产品规格\"\n              >\n                <a-select\n                  class=\"inputWidth\"\n                  showSearch\n                  :allowClear=\"true\"\n                  v-model=\"orderEncapsulation.odSpec\"\n                  @change=\"(val)=>{inputChange(val,'odSpec')}\"\n                  placeholder=\"请选择产品规格\"\n                  @popupScroll=\"e=>currentPageChange(e,'companySpec')\"\n                  :getPopupContainer=\"triggerNode => triggerNode.parentNode\"\n                >\n                  <a-select-option v-for=\"item in odSpecList\" :key=\"item\">{{item}}</a-select-option>\n                </a-select>\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"6\">\n              <a-form-item\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n                label=\"订单来源\"\n              >\n                <a-select\n                  class=\"inputWidth\"\n                  :allowClear=\"true\"\n                  placeholder=\"请选择订单来源\"\n                  v-model=\"orderEncapsulation.osource\"\n                  @change=\"(val)=>{inputChange(val,'osource')}\"\n                  :getPopupContainer=\"triggerNode => triggerNode.parentNode\"\n                >\n                  <a-select-option value=\"0\">线上商城</a-select-option>\n                  <a-select-option value=\"1\">线上定制</a-select-option>\n                  <a-select-option value=\"2\">线下定制</a-select-option>\n                </a-select>\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"6\">\n              <a-form-item\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n                label=\"订单状态\"\n              >\n                <a-select\n                  class=\"inputWidth\"\n                  :allowClear=\"true\"\n                  placeholder=\"请选择订单状态\"\n                  v-model=\"orderEncapsulation.ostatus\"\n                  @change=\"(val)=>{inputChange(val,'ostatus')}\"\n                  :getPopupContainer=\"triggerNode => triggerNode.parentNode\"\n                >\n                  <template v-for=\"(item,index) in orderStatus\">\n                    <a-select-option :value=\"index\" :key=\"index\">{{item.label}}</a-select-option>\n                  </template>\n                </a-select>\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"6\">\n              <a-form-item\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n                label=\"承诺交期\"\n              >\n                <!-- :defaultValue=\"moment(orderEncapsulation.odPromiseDueDate|| new Date())\" -->\n                <a-date-picker\n                  class=\"inputWidth\"\n                  format=\"YYYY/MM/DD\"\n                  placeholder=\"请选择承诺交期\"\n                  @change=\"(date, dateString)=>{inputChange(dateString,'odPromiseDueDate')}\"\n                />\n              </a-form-item>\n            </a-col>\n          </a-row>\n        </Animation>\n      </a-col>\n      <a-col :span=\"2\">\n        <a-form-item style=\"text-align:center\">\n          <span @click=\"searchRest\" style=\"cursor: pointer;margin-right:8px\">重置</span>\n          <span @click=\"toggleAdvanced\" style=\"cursor: pointer;\">\n            {{ advanced ? '收起' : '展开' }}\n            <a-icon :type=\"advanced ? 'caret-up' : 'caret-down'\"/>\n          </span>\n        </a-form-item>\n      </a-col>\n    </a-row>\n  </div>\n  <div class=\"order-table\">\n    <a-table\n      :columns=\"columns\"\n      @change=\"onChangePage\"\n      :dataSource=\"tabData\"\n      :pagination=\"pagination\"\n      :rowSelection=\"rowSelection\"\n      :loading=\"loading\"\n      :scroll=\"{ x: 2600,y:'68vh' }\"\n    >\n      <template slot=\"oorderNumber\" slot-scope=\"text,record\">\n        <a href=\"javascript:;\" @click=\"orderInfo(record.id)\">{{text}}</a>\n      </template>\n      <template slot=\"osource\" slot-scope=\"text\">\n        <span v-if=\"text === 'MALLONLINE'\">线上商城</span>\n        <span v-if=\"text === 'CUSTOMIZEDONLINE'\">线上定制</span>\n        <span v-if=\"text === 'CUSTOMIZEDUNDERLINE'\">线下定制</span>\n      </template>\n      <template slot=\"ostatus\" slot-scope=\"text\">\n        <template v-for=\"(item,index) in orderStatus\">\n          <a\n            href=\"javascript:;\"\n            :title=\"item.label\"\n            v-if=\"text === item.value\"\n            class=\"status-color\"\n            :class=\"(text === 'REJECTORDER')?'status-red':(text ==='PREORDER' || text === 'CANCEL')?'status-gray':'status-green'\"\n            :key=\"index\"\n          ></a>\n        </template>\n      </template>\n      <template\n        v-for=\"(col,index) in ['odSkuCode', 'odSkuName', 'odSpec','taxRate','price', 'odNumber', 'odAmount', 'odRequireDueDate','odPromiseDueDate','odSkuCustDrawNum','odOrderplacingTime']\"\n        :slot=\"col\"\n        slot-scope=\"text, record\"\n      >\n        <template>\n          <div v-for=\"(item,index) in record.skuList\" :key=\"index\">\n            <span v-if=\"col === 'taxRate' || col === 'price'\">\n              <span v-if=\"item.sku\">{{item.sku[col]}}</span>\n            </span>\n            <span\n              v-else-if=\"col === 'odRequireDueDate' || col === 'odPromiseDueDate' || col === 'odOrderplacingTime'\"\n            >\n              <span v-if=\"item[col]\">{{item[col]| formatDate}}</span>\n            </span>\n            <span v-else>{{item[col]}}</span>\n          </div>\n        </template>\n      </template>\n    </a-table>\n  </div>\n  <!-- 弹出层 -->\n  <a-drawer\n    destroyOnClose\n    placement=\"right\"\n    :closable=\"false\"\n    :width=\"1080\"\n    @close=\"onCustomerInfo\"\n    :visible=\"visible\"\n    :wrapStyle=\"{overflow: 'auto',paddingBottom: '108px'}\"\n  >\n    <orderInfo @isVisible=\"isVisible\" :editInfo=\"editInfo\" :detialList=\"detialList\"></orderInfo>\n  </a-drawer>\n</div>\n",null]}