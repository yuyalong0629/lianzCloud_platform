{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/factorySale/dispatchOrder/dispatch.vue?vue&type=template&id=34e2b222&scoped=true&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/factorySale/dispatchOrder/dispatch.vue","mtime":1564139090389},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"dispatch\">\n  <a-row>\n    <a-col :span=\"12\" class=\"dispatch-left\">\n      <inputSearch :companyType=\"companyType\" @changeInput=\"changeInput\"></inputSearch>\n      <div class=\"order-list\">\n        <div\n          class=\"order-list-item demo-infinite-container\"\n          v-infinite-scroll=\"handleInfiniteOnLoad\"\n          :infinite-scroll-disabled=\"busy\"\n          :infinite-scroll-distance=\"10\"\n        >\n          <a-list :dataSource=\"dataCompany\">\n            <a-list-item slot=\"renderItem\" slot-scope=\"item, index\">\n              <div\n                class=\"list-item\"\n                @click=\"addCompany(item.channelSkuId,index,item.number,item.odRequireDueDate)\"\n              >\n                <div class=\"item-left\">\n                  <div class=\"item-left-top\">\n                    <a\n                      href=\"javascript:;\"\n                      @click=\"e=>infoView(e,item.channelSkuId,index)\"\n                    >{{item.name}}</a>\n                    <span>{{item.bom}} {{item.craft}}</span>\n                  </div>\n                  <ul class=\"item-left-desc\">\n                    <li>{{item.spec}}</li>\n                    <li>{{item.cz}}</li>\n                    <li>{{item.odRequireDueDate?moment(item.odRequireDueDate).format(dateFormat):''}}</li>\n                    <li>{{item.number}}{{item.unit}}</li>\n                  </ul>\n                </div>\n                <div class=\"item-right\">\n                  <a-popover trigger=\"click\" v-model=\"item.clickedVisible\">\n                    <template slot=\"content\">\n                      <a-form-item\n                        label=\"交期\"\n                        :label-col=\"{ span: 5,offset:0 }\"\n                        :wrapper-col=\"{span:12}\"\n                        class=\"mb\"\n                      >\n                        <a-date-picker\n                          v-if=\"updateList.date\"\n                          format=\"YYYY-MM-DD\"\n                          :value=\"moment(updateList.date, 'YYYY-MM-DD')\"\n                          style=\"width:170px;\"\n                          @change=\"updateTime\"\n                        />\n                        <a-date-picker\n                          v-else\n                          format=\"YYYY-MM-DD\"\n                          style=\"width:170px;\"\n                          @change=\"updateTime\"\n                        />\n                      </a-form-item>\n                      <a-form-item\n                        label=\"数量\"\n                        :label-col=\"{ span: 5,offset:0 }\"\n                        :wrapper-col=\"{span:12}\"\n                        class=\"mb\"\n                      >\n                        <a-input-number\n                          :min=\"1\"\n                          :max=\"item.number\"\n                          v-model=\"updateList.num\"\n                          style=\"width:170px;\"\n                        />\n                      </a-form-item>\n                      <a-form-item class=\"mb\">\n                        <a-button @click=\"uploadBom(item,index)\">修改BOM/工艺</a-button>\n                      </a-form-item>\n                      <a-form-item class=\"mb\" v-show=\"getMenuPermission.includes('DELETE')\">\n                        <a-button type=\"danger\" @click=\"removeItem(item.id,index)\">移除</a-button>\n                      </a-form-item>\n                      <a-form-item class=\"mb\">\n                        <a-button type=\"primary\" @click=\"addLittle(item.channelSkuId,index)\">确定</a-button>\n                      </a-form-item>\n                    </template>\n                    <a-icon\n                      type=\"ellipsis\"\n                      class=\"item-right-edit\"\n                      @click=\"e=>updataDes(e,item.number,item.odRequireDueDate, index)\"\n                    />\n                  </a-popover>\n                  <a-button type=\"primary\" shape=\"circle\" icon=\"plus\"></a-button>\n                </div>\n              </div>\n            </a-list-item>\n            <div v-if=\"loadingCompony && !busy\" class=\"demo-loading-container\">\n              <a-spin />\n            </div>\n          </a-list>\n        </div>\n      </div>\n    </a-col>\n    <a-col :span=\"12\" class=\"dispatch-right\">\n      <div class=\"title\"></div>\n      <div class=\"order-list demo-infinite-container\">\n        <a-list :dataSource=\"companyList\">\n          <a-list-item slot=\"renderItem\" slot-scope=\"item, index\">\n            <div class=\"list-item\">\n              <div class=\"item-left\">\n                <div class=\"item-left-top\">\n                  <a href=\"javascript:;\">{{item.name}}</a>\n                  <span>{{item.bom}} {{item.craft}}</span>\n                </div>\n                <ul class=\"item-left-desc\">\n                  <li>{{item.spec}}</li>\n                  <li>{{item.cz}}</li>\n                  <li>{{item.odRequireDueDate?moment(item.odRequireDueDate).format(dateFormat):''}}</li>\n                  <li>{{item.number}}{{item.unit}}</li>\n                </ul>\n              </div>\n              <div class=\"item-right\">\n                <a-button\n                  type=\"danger\"\n                  shape=\"circle\"\n                  icon=\"minus\"\n                  style=\"background:#f5222d;color:#fff;\"\n                  @click=\"minusCompany(index)\"\n                ></a-button>\n              </div>\n            </div>\n          </a-list-item>\n        </a-list>\n        <div style=\"height:40px\"></div>\n        <div class=\"dispatch-right-bottom\">\n          <a-button @click=\"minusCompany\">取消</a-button>\n          <a-button\n            type=\"primary\"\n            @click=\"submit\"\n            :loading=\"submitLoading\"\n            v-show=\"getMenuPermission.includes('ADD')\"\n          >生成工单</a-button>\n        </div>\n      </div>\n    </a-col>\n  </a-row>\n  <!-- Moadl -->\n  <a-modal title=\"选择BOM\" :visible=\"visibleModal\" @ok=\"onModalOk\" @cancel=\"onModalNo\">\n    <ul class=\"bom-modal-list\">\n      <li\n        :class=\"{modalActive: isModalActive === 0 ? true : false}\"\n        @click=\"onModalInfo(0)\"\n      >设置工艺和BOM</li>\n      <li\n        :class=\"{modalActive: isModalActive === 1 ? true : false}\"\n        @click=\"onModalInfo(1)\"\n      >选择工艺和BOM</li>\n    </ul>\n  </a-modal>\n  <!-- 产品信息抽屉 -->\n  <a-drawer\n    destroyOnClose\n    placement=\"right\"\n    :closable=\"false\"\n    @close=\"closeDrawer\"\n    :visible=\"visible\"\n    :width=\"1040\"\n    :wrapStyle=\"{height: '100%',overflow: 'auto',paddingBottom: '108px'}\"\n  >\n    <dispatchInfo\n      @isDrawer=\"isDrawer\"\n      @setDispatchInfo=\"setDispatchInfo\"\n      :goodsViewInfo=\"goodsViewInfo\"\n    ></dispatchInfo>\n  </a-drawer>\n</div>\n",null]}