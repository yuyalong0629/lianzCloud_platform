{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/cust/child_info/CustForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/cust/child_info/CustForm.vue","mtime":1562921914356},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mixinBasic, mixinIsEdit } from '@/components/tools/mixin/mixin'\nimport { areas } from 'utils/area.js'\nimport { findParentId } from '@/assets/utils/utils.js'\nimport { getCustIndustry, custManagerfetch } from '../basic_lib/index'\n\nexport default {\n  name: 'CustForm',\n  mixins: [mixinBasic, mixinIsEdit],\n  data() {\n    return {\n      custForm: this.$form.createForm(this),\n      custIndustryArr: [], // 行业字典表\n      custIndustryName: '',\n      options: areas,\n      custManagerData: []\n    }\n  },\n  props: {\n    custFormInfo: {\n      type: Object,\n      default: {},\n      required: false\n    },\n    childDisabled: {\n      type: Boolean,\n      default: false,\n      required: false\n    }\n  },\n  created() {\n    // 客户行业\n    getCustIndustry.call(this, 'INDUSTRY').then(() => {\n      if (this.custFormInfo.custIndustry) {\n        this.custIndustryName = this.custIndustryArr.filter(\n          item => this.custFormInfo.custIndustry === item.id\n        )[0].displayValue\n      }\n    })\n    // 经理默认数据\n    custManagerfetch.call(this, '', data => (this.custManagerData = data))\n  },\n  methods: {\n    // 客户经理\n    handleCustManagerSearch(value) {\n      console.log(value)\n      custManagerfetch.call(this, value, data => (this.custManagerData = data))\n    },\n    handleCustManagerChange(value) {\n      console.log(value)\n    },\n    // 客户等级\n    onSelectCustLevel(value) {\n      console.log(value)\n    },\n    // 客户来源\n    onSelectCustFrom(value) {\n      console.log(value)\n    },\n    // 地址选择\n    onSelectArea(value, selectedOptions) {\n      console.log(value)\n    }\n  },\n  computed: {\n    getCustLevel() {\n      const custLevelArr = ['V1', 'V2', 'V3', 'V4', 'V5']\n      return custLevelArr[this.custFormInfo.custLevel - 1]\n    },\n    getAddress() {\n      return findParentId(this.custFormInfo.custArea, this.options, 'name')\n    }\n  }\n}\n",{"version":3,"sources":["CustForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0NA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustForm.vue","sourceRoot":"src/views/cust/child_info","sourcesContent":["<template>\n  <a-form :form=\"custForm\" layout=\"horizontal\">\n    <a-row :gutter=\"16\">\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"客户编码\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-input disabled v-if=\"childDisabled\" v-decorator=\"['custCode']\" placeholder=\"默认生成\"/>\n          <template v-else=\"!childDisabled\">{{ custFormInfo.custCode }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"客户名称\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-input\n            v-decorator=\"['custName', {\n                  rules: [{ required: true, message: '请输入客户名称' }]\n                }]\"\n            placeholder=\"请输入客户名称\"\n            v-if=\"childDisabled\"\n          />\n          <template v-else=\"!childDisabled\">\n            <span class=\"input-ellipsis\" :title=\"custFormInfo.custName\">{{ custFormInfo.custName }}</span>\n          </template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"客户行业\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-select\n            v-if=\"childDisabled\"\n            allowClear\n            v-decorator=\"['custIndustry', {rules: [{ required: true, message: '请输入客户行业' }]}]\"\n            placeholder=\"请输入客户行业\"\n          >\n            <a-select-option\n              :value=\"item.id\"\n              v-for=\"(item, index) in this.custIndustryArr\"\n              :key=\"index\"\n            >{{ item.displayValue }}</a-select-option>\n          </a-select>\n          <template v-else=\"!childDisabled\">{{ custIndustryName }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"客户简称\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-input\n            v-decorator=\"['custShortName', {rules: [{ required: true, message: '请输入客户简称' }]}]\"\n            placeholder=\"客户简称\"\n            v-if=\"childDisabled\"\n          />\n          <template v-else=\"!childDisabled\">\n            <span\n              class=\"input-ellipsis\"\n              :title=\"custFormInfo.custShortName\"\n            >{{ custFormInfo.custShortName }}</span>\n          </template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"客户经理\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-select\n            showSearch\n            allowClear\n            labelInValue\n            placeholder=\"请输入客户经理\"\n            :defaultActiveFirstOption=\"false\"\n            :showArrow=\"false\"\n            :filterOption=\"false\"\n            @search=\"handleCustManagerSearch\"\n            @change=\"handleCustManagerChange\"\n            :notFoundContent=\"null\"\n            v-if=\"childDisabled\"\n            v-decorator=\"['custManagerId', {rules: [{ required: true, message: '请输入客户经理' }]}]\"\n          >\n            <a-select-option\n              v-for=\"d in custManagerData\"\n              :key=\"d.text\"\n              :value=\"d.text\"\n            >{{ d.value }}</a-select-option>\n          </a-select>\n          <template v-else=\"!childDisabled\">{{ custFormInfo.custManager }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"客户级别\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-select\n            v-if=\"childDisabled\"\n            v-decorator=\"['custLevel']\"\n            placeholder=\"请输入客户级别\"\n            @change=\"onSelectCustLevel\"\n          >\n            <a-select-option value=\"1\">V1</a-select-option>\n            <a-select-option value=\"2\">V2</a-select-option>\n            <a-select-option value=\"3\">V3</a-select-option>\n            <a-select-option value=\"4\">V4</a-select-option>\n            <a-select-option value=\"5\">V5</a-select-option>\n          </a-select>\n          <template v-else=\"!childDisabled\">{{ getCustLevel }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"地址\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-cascader\n            v-if=\"childDisabled\"\n            changeOnSelect\n            placeholder=\"请选择地址\"\n            @change=\"onSelectArea\"\n            :fieldNames=\"{ label: 'name', value: 'id', children: 'childrens' }\"\n            :options=\"options\"\n            v-decorator=\"['custAddress']\"\n          ></a-cascader>\n          <template v-else=\"!childDisabled\">\n            <span\n              class=\"input-ellipsis\"\n              :title=\"getAddress ? getAddress.join('/') : '无'\"\n            >{{ getAddress ? getAddress.join('/') : '无' }}</span>\n          </template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"详细地址\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-input v-decorator=\"['custDetailAddr']\" v-if=\"childDisabled\" placeholder=\"请输入详细地址\"/>\n          <template v-else=\"!childDisabled\">\n            <span\n              class=\"input-ellipsis\"\n              :title=\"custFormInfo.custDetailAddr\"\n            >{{ custFormInfo.custDetailAddr }}</span>\n          </template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"传真\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-input v-decorator=\"['custFax']\" v-if=\"childDisabled\" placeholder=\"请输入传真\"/>\n          <template v-else=\"!childDisabled\">{{ custFormInfo.custFax || '无' }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"网址\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-input v-decorator=\"['custWebsite']\" v-if=\"childDisabled\" placeholder=\"请输入网址\"/>\n          <template v-else=\"!childDisabled\">\n            <span\n              class=\"input-ellipsis\"\n              :title=\"custFormInfo.custWebsite\"\n            >{{ custFormInfo.custWebsite || '无' }}</span>\n          </template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"来源\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          :class=\"{ labelColor: isLabelColor }\"\n        >\n          <a-select\n            v-if=\"childDisabled\"\n            allowClear\n            v-decorator=\"['custFrom']\"\n            placeholder=\"请输入来源\"\n            @change=\"onSelectCustFrom\"\n          >\n            <a-select-option value=\"0\">线上注册</a-select-option>\n            <a-select-option value=\"1\">线下注册</a-select-option>\n          </a-select>\n          <template v-else=\"!childDisabled\">{{ custFormInfo.custFrom === 0 ? '线上注册' : '线下注册' }}</template>\n        </a-form-item>\n      </a-col>\n    </a-row>\n  </a-form>\n</template>\n<script>\nimport { mixinBasic, mixinIsEdit } from '@/components/tools/mixin/mixin'\nimport { areas } from 'utils/area.js'\nimport { findParentId } from '@/assets/utils/utils.js'\nimport { getCustIndustry, custManagerfetch } from '../basic_lib/index'\n\nexport default {\n  name: 'CustForm',\n  mixins: [mixinBasic, mixinIsEdit],\n  data() {\n    return {\n      custForm: this.$form.createForm(this),\n      custIndustryArr: [], // 行业字典表\n      custIndustryName: '',\n      options: areas,\n      custManagerData: []\n    }\n  },\n  props: {\n    custFormInfo: {\n      type: Object,\n      default: {},\n      required: false\n    },\n    childDisabled: {\n      type: Boolean,\n      default: false,\n      required: false\n    }\n  },\n  created() {\n    // 客户行业\n    getCustIndustry.call(this, 'INDUSTRY').then(() => {\n      if (this.custFormInfo.custIndustry) {\n        this.custIndustryName = this.custIndustryArr.filter(\n          item => this.custFormInfo.custIndustry === item.id\n        )[0].displayValue\n      }\n    })\n    // 经理默认数据\n    custManagerfetch.call(this, '', data => (this.custManagerData = data))\n  },\n  methods: {\n    // 客户经理\n    handleCustManagerSearch(value) {\n      console.log(value)\n      custManagerfetch.call(this, value, data => (this.custManagerData = data))\n    },\n    handleCustManagerChange(value) {\n      console.log(value)\n    },\n    // 客户等级\n    onSelectCustLevel(value) {\n      console.log(value)\n    },\n    // 客户来源\n    onSelectCustFrom(value) {\n      console.log(value)\n    },\n    // 地址选择\n    onSelectArea(value, selectedOptions) {\n      console.log(value)\n    }\n  },\n  computed: {\n    getCustLevel() {\n      const custLevelArr = ['V1', 'V2', 'V3', 'V4', 'V5']\n      return custLevelArr[this.custFormInfo.custLevel - 1]\n    },\n    getAddress() {\n      return findParentId(this.custFormInfo.custArea, this.options, 'name')\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n@import '~styles/variable.less';\n\n.labelColor {\n  /deep/ .ant-form-item-label label {\n    .labelColor();\n  }\n}\n/deep/ .ant-form-item-children {\n  position: relative;\n  display: block;\n  height: 39px;\n  width: 100%;\n  .input-ellipsis {\n    display: inline-block;\n    width: 180px;\n    .ellipsis();\n  }\n}\n</style>\n"]}]}