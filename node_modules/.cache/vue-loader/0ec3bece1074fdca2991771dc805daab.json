{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/Home.vue?vue&type=style&index=0&id=f1b0e9be&lang=less&scoped=true&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/Home.vue","mtime":1557387357534},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/less-loader/dist/cjs.js","mtime":1556420627437},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.home {\n  height: 100%;\n  .ant-layout {\n    height: 100%;\n  }\n  .breadcrumb-list {\n    margin: 12px 24px;\n  }\n}\n#components-layout-demo-custom-trigger .trigger {\n  font-size: 18px;\n  line-height: 64px;\n  padding: 0 24px;\n  cursor: pointer;\n  transition: color 0.3s;\n}\n\n#components-layout-demo-custom-trigger .trigger:hover {\n  color: #1890ff;\n}\n\n#components-layout-demo-custom-trigger .logo {\n  height: 32px;\n  background: rgba(255, 255, 255, 0.2);\n  margin: 16px;\n}\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <a-locale-provider :locale=\"zhCN\">\n    <div class=\"home\">\n      <a-layout id=\"components-layout-demo-custom-trigger\">\n        <a-layout-sider :trigger=\"null\" collapsible v-model=\"collapsed\">\n          <div class=\"logo\"/>\n          <a-menu\n            theme=\"dark\"\n            :defaultSelectedKeys=\"defaultSelectedKey\"\n            @click=\"handleClick\"\n            mode=\"inline\"\n            :openKeys=\"openKeys\"\n            @openChange=\"onOpenChange\"\n          >\n            <a-sub-menu :key=\"item.id\" v-for=\"(item) of this.navList\">\n              <span slot=\"title\">\n                <span class=\"iconfont\" :class=\"`${item.icon}`\"></span>\n                <span>{{ item.name }}</span>\n              </span>\n              <!-- 判断二级目录 -->\n              <a-menu-item\n                v-for=\"cItem of item.childrens\"\n                v-if=\"cItem.childrens === null ? ifChildren : !ifChildren\"\n                :key=\"cItem.id\"\n              >\n                <router-link :to=\"cItem.url\">{{ cItem.name }}</router-link>\n              </a-menu-item>\n              <!-- 判断三级目录 -->\n              <a-sub-menu\n                v-if=\"cItem.childrens === null ? !ifChildren : ifChildren\"\n                :key=\"cItem.id\"\n                v-for=\"(cItem) of item.childrens\"\n                :title=\"cItem.name\"\n              >\n                <a-menu-item v-for=\"ccItem of cItem.childrens\" :key=\"ccItem.id\">\n                  <router-link :to=\"ccItem.url\">{{ ccItem.name }}</router-link>\n                </a-menu-item>\n              </a-sub-menu>\n            </a-sub-menu>\n          </a-menu>\n        </a-layout-sider>\n        <a-layout>\n          <a-layout-header style=\"background: #FFF; padding: 0\">\n            <a-icon\n              class=\"trigger\"\n              :type=\"collapsed ? 'menu-unfold' : 'menu-fold'\"\n              @click=\"()=> collapsed = !collapsed\"\n            />\n            <HeaderMenu/>\n          </a-layout-header>\n          <a-layout-content\n            :style=\"{ margin: '0', padding: '0 24px', background: '#FFF', minHeight: '0' }\"\n          >\n            <router-view/>\n          </a-layout-content>\n        </a-layout>\n      </a-layout>\n    </div>\n  </a-locale-provider>\n</template>\n\n<script>\n// @ is an alias to /src\nimport HeaderMenu from '@/components/headerMenu/HeaderMenu'\nimport zhCN from 'ant-design-vue/lib/locale-provider/zh_CN'\nimport { defaultPermission } from 'utils/nav.js'\nimport { get } from '../api/axios.js'\nimport api from '../api/index.js'\nimport { setTimeout } from 'timers'\n\nexport default {\n  name: 'home',\n  data() {\n    return {\n      zhCN,\n      collapsed: false,\n      rootSubmenuKeys: [],\n      openKeys: [],\n      defaultSelectedKey: [],\n      navList: [],\n      ifChildren: true\n    }\n  },\n  created() {\n    this.getNavList()\n  },\n  mounted() {\n    this.$router.replace('/permission')\n  },\n  methods: {\n    // 初始化nav\n    getNavList() {\n      get(api.getNav)\n        .then(res => {\n          if (res.data.code === 0) {\n            this.navList = res.data.data\n            // 初始化清空\n            this.rootSubmenuKeys = []\n            this.openKeys = []\n            res.data.data.forEach(item => {\n              this.rootSubmenuKeys.push(item.id)\n              // console.log(item.childrens)\n            })\n            // console.log(this.rootSubmenuKeys.pop())\n            // 设置默认展开项\n            // this.openKeys.push(this.rootSubmenuKeys[0])\n            return false\n          }\n          this.$message.error('请求超时')\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    handleClick(e) {\n      const params = {\n        funcId: e.key,\n        pageType: 'LIST'\n      }\n      defaultPermission(params)\n      this.$store.commit('serFuncIdArray', e.keyPath[0])\n    },\n    onOpenChange(openKeys) {\n      const latestOpenKey = openKeys.find(\n        key => this.openKeys.indexOf(key) === -1\n      )\n      if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        this.openKeys = openKeys\n      } else {\n        this.openKeys = latestOpenKey ? [latestOpenKey] : []\n      }\n    }\n  },\n  watch: {\n    openKeys(val) {\n      // console.log('openKeys', val)\n    }\n  },\n  components: {\n    HeaderMenu\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.home {\n  height: 100%;\n  .ant-layout {\n    height: 100%;\n  }\n  .breadcrumb-list {\n    margin: 12px 24px;\n  }\n}\n#components-layout-demo-custom-trigger .trigger {\n  font-size: 18px;\n  line-height: 64px;\n  padding: 0 24px;\n  cursor: pointer;\n  transition: color 0.3s;\n}\n\n#components-layout-demo-custom-trigger .trigger:hover {\n  color: #1890ff;\n}\n\n#components-layout-demo-custom-trigger .logo {\n  height: 32px;\n  background: rgba(255, 255, 255, 0.2);\n  margin: 16px;\n}\n</style>\n"]}]}