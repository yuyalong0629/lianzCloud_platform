{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/components/headerMenu/HeaderMenu.vue?vue&type=style&index=0&id=f99c82c2&lang=less&scoped=true&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/components/headerMenu/HeaderMenu.vue","mtime":1556593591701},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/less-loader/dist/cjs.js","mtime":1556420627437},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.headerMenu {\n  float: right;\n  margin-right: 24px;\n  .action {\n    margin-right: 20px;\n    .username {\n      font-size: 14px;\n      cursor: pointer;\n      margin-left: 5px;\n    }\n  }\n}\n",{"version":3,"sources":["HeaderMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HeaderMenu.vue","sourceRoot":"src/components/headerMenu","sourcesContent":["<template>\n  <div class=\"headerMenu\">\n    <HeaderNotice class=\"action\"/>\n    <a-dropdown>\n      <span class=\"action ant-dropdown-link user-dropdown-menu\">\n        <a-avatar style=\"backgroundColor:#87d068\" icon=\"user\"/>\n        <span class=\"username\">{{ this.getNick }}</span>\n      </span>\n      <a-menu slot=\"overlay\" class=\"user-dropdown-menu-wrapper\">\n        <a-menu-item key=\"0\">\n          <router-link to=\"/\">\n            <a-icon type=\"user\"/>\n            <span>个人中心</span>\n          </router-link>\n        </a-menu-item>\n        <a-menu-item key=\"1\">\n          <router-link to=\"/\">\n            <a-icon type=\"setting\"/>\n            <span>账户设置</span>\n          </router-link>\n        </a-menu-item>\n        <a-menu-item key=\"2\" disabled>\n          <a-icon type=\"setting\"/>\n          <span>测试</span>\n        </a-menu-item>\n        <a-menu-divider/>\n        <a-menu-item key=\"3\">\n          <a href=\"javascript:;\" @click=\"handleLogout\">\n            <a-icon type=\"logout\"/>\n            <span>退出登录</span>\n          </a>\n        </a-menu-item>\n      </a-menu>\n    </a-dropdown>\n    <!-- 外链 -->\n    <!-- <a-icon type=\"branches\" @click=\"showModal\"/> -->\n    <a href=\"javascript:;\" @click=\"showModal\">\n      <a-icon type=\"branches\" @click=\"showModal\"/>\n    </a>\n    <a-modal title=\"请输入管理员密码\" :visible=\"visible\" @ok=\"handleOk\" @cancel=\"handleCancel\">\n      <a-input placeholder=\"请输入管理员密码\" type=\"password\" v-model=\"password\"/>\n    </a-modal>\n  </div>\n</template>\n<script>\nimport { post, get } from '@/api/axios.js'\nimport api from '@/api/index.js'\nimport HeaderNotice from './HeaderNotice'\n\nexport default {\n  name: 'HeaderMenu',\n  data() {\n    return {\n      visible: false,\n      password: ''\n    }\n  },\n  methods: {\n    handleLogout() {\n      const that = this\n      this.$confirm({\n        title: '提示',\n        okText: '注销',\n        cancelText: '取消',\n        content: '真的要注销登录吗 ?',\n        onOk() {\n          that.$router.replace('/login')\n          localStorage.removeItem('ACCESS_TOKEN')\n        },\n        onCancel() {}\n      })\n    },\n    showModal() {\n      this.visible = true\n    },\n    handleOk(e) {\n      get(api.getBackStageUrl).then(res => {\n        if (res.data.code == 0) {\n          var url = res.data.data\n          post(api.companyValidate, { password: this.password }).then(res => {\n            if (res.data.code === 0) {\n              if (!res.data.data.match) {\n                this.$message.error(res.data.data.msg)\n                return\n              }\n              this.visible = false;\n              // window.open(`${url}/#/workbench?key=${res.data.data.key}`);\n              window.open(`http://192.168.1.121:8082/#/workbench?key=${res.data.data.key}`);\n            } else {\n              this.$message.error(res.data.msg)\n            }\n          })\n        }\n      })\n    },\n    handleCancel(e) {\n      this.visible = false\n    }\n  },\n  computed: {\n    getNick() {\n      return localStorage.getItem('NICK')\n    }  \n  },\n  components: {\n    HeaderNotice\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.headerMenu {\n  float: right;\n  margin-right: 24px;\n  .action {\n    margin-right: 20px;\n    .username {\n      font-size: 14px;\n      cursor: pointer;\n      margin-left: 5px;\n    }\n  }\n}\n</style>\n"]}]}