{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/product/bom/bom_list/child_info/tab_goodsInfo/ProductInfoForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/product/bom/bom_list/child_info/tab_goodsInfo/ProductInfoForm.vue","mtime":1564055820841},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getGoodsClass, getClassAttr, custIndustry } from '../../basic_lib/index'\nimport { mixinBasic, mixinIsEdit } from '@/components/tools/mixin/mixin'\nimport { findParentId } from 'utils/utils.js'\n\nexport default {\n  name: 'ProductInfoForm',\n  mixins: [mixinBasic, mixinIsEdit],\n  data() {\n    return {\n      goodsInfoForm: this.$form.createForm(this),\n      options: [],\n      czData: [],\n      classCatObj: {\n        val: [],\n        id: []\n      }\n    }\n  },\n  props: {\n    skuInfoData: {\n      type: Object,\n      default: {}\n    },\n    springInfoType: {\n      type: String,\n      default: ''\n    },\n    childDisabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created() {\n    // 产品分类\n    getGoodsClass.call(this).then(() => {\n      console.log(this.options)\n      console.log(this.skuInfoData)\n      this.classCatObj.val = findParentId(\n        this.skuInfoData.catId,\n        this.options,\n        'name'\n      )\n      this.classCatObj.id = findParentId(\n        this.skuInfoData.catId,\n        this.options,\n        'id'\n      )\n      this.$emit('classCatObj', this.classCatObj)\n    })\n    custIndustry().then(res => {\n      if (res.data.code === 0) {\n        const obj = {}\n        this.czData = res.data.data.reduce((item, next) => {\n          obj[next.realValue]\n            ? ''\n            : (obj[next.realValue] = true && item.push(next))\n          return item\n        }, [])\n      }\n    })\n  },\n  methods: {\n    // 产品分类\n    onChangeGoodsClass(value) {\n      console.log(value)\n      // 产品分类属性\n      getClassAttr(...value).then(res => {\n        if (res.data.code === 0) {\n          console.log(res.data.data)\n          this.$emit('classAttrInfo', res.data.data)\n        } else {\n          this.$emit('classAttrInfo', [])\n        }\n      })\n    },\n    // 弹簧种类\n    // handleChangeSpringType(value) {\n    //   console.log(value)\n    //   this.$emit('springType', value)\n    // }\n  },\n  watch: {},\n  computed: {\n    getSpringType() {\n      const configObj = {\n        YA: '压簧',\n        LA: '拉簧',\n        NIU: '扭簧',\n        DIE: '碟簧',\n        BO: '波簧',\n        BAN: '板簧'\n      }\n      return configObj[this.springInfoType]\n    }\n  }\n}\n",{"version":3,"sources":["ProductInfoForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductInfoForm.vue","sourceRoot":"src/views/product/bom/bom_list/child_info/tab_goodsInfo","sourcesContent":["<template>\n  <a-form :form=\"goodsInfoForm\" layout=\"horizontal\" hideRequiredMark>\n    <a-row>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"产品编码\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input\n            v-if=\"childDisabled\"\n            disabled=\"disabled\"\n            v-decorator=\"['code']\"\n            placeholder=\"默认带出\"\n          />\n          <template v-else=\"childDisabled\">{{ skuInfoData.code }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"产品分类\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-cascader\n            v-if=\"childDisabled\"\n            v-decorator=\"['catId']\"\n            :options=\"options\"\n            :fieldNames=\"{ label: 'name', value: 'id', children: 'childrens' }\"\n            @change=\"onChangeGoodsClass\"\n            placeholder=\"请输入分类名称\"\n            changeOnSelect\n          />\n          <template v-else=\"childDisabled\">{{ classCatObj.val ? classCatObj.val.slice(-1).join('') : '' }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"产品名称\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input\n            v-if=\"childDisabled\"\n            v-decorator=\"['name', {rules: [{ required: true, message: '请输入产品名称!'}] }]\"\n            placeholder=\"请输入产品名称\"\n          />\n          <template v-else=\"childDisabled\">{{ skuInfoData.name }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"产品图号\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['drawNum']\" placeholder=\"请输入产品图号\"/>\n          <template v-else=\"childDisabled\">{{ skuInfoData.drawNum }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"图号版本号\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['drawVersion']\" placeholder=\"请输入产品图号版本号\"/>\n          <template v-else=\"childDisabled\">{{ skuInfoData.drawVersion }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"规格\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['spec']\" placeholder=\"请输入规格\"/>\n          <template v-else=\"childDisabled\">{{ skuInfoData.spec }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"基础报价\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['price']\" placeholder=\"请输入基础报价\"/>\n          <template v-else=\"childDisabled\">{{ skuInfoData.price + '' }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"计量单位\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-select v-if=\"childDisabled\" allowClear placeholder=\"请输入单位\" v-decorator=\"['unit']\">\n            <a-select-option value=\"套\">套</a-select-option>\n            <a-select-option value=\"毫米\">毫米</a-select-option>\n            <a-select-option value=\"只\">只</a-select-option>\n            <a-select-option value=\"公斤\">公斤</a-select-option>\n          </a-select>\n          <template v-else=\"childDisabled\">{{ skuInfoData.unit }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"获取途径\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-select\n            allowClear\n            v-if=\"childDisabled\"\n            placeholder=\"请输入获取途径\"\n            v-decorator=\"['gateway']\"\n          >\n            <a-select-option value=\"SELF\">自制</a-select-option>\n            <a-select-option value=\"BUY\">外购</a-select-option>\n          </a-select>\n          <template v-else=\"childDisabled\">{{ skuInfoData.gateway === 'SELF' ? '自制' : '外购' }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"执行标准\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['standard']\" placeholder=\"请输入执行标准\"/>\n          <template v-else=\"childDisabled\">{{ skuInfoData.standard }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"单个重量\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input\n            v-if=\"childDisabled\"\n            v-decorator=\"['weight', {rules: [{pattern: '^-?(0|[1-9][0-9]*)(\\.[0-9]*)?$', message: '请输入数字'}], validateTrigger: ['change', 'blur']}]\"\n            placeholder=\"请输入单个重量\"\n          />\n          <template v-else=\"childDisabled\">{{ skuInfoData.weight }}</template>\n        </a-form-item>\n      </a-col>\n      <!-- <a-col :span=\"8\">\n        <a-form-item\n          label=\"表面处理\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-select v-if=\"childDisabled\" allowClear placeholder=\"请输入表面处理\" v-decorator=\"['bmcl']\">\n            <a-select-option value=\"喷塑\">喷塑</a-select-option>\n            <a-select-option value=\"电镀-镀锌\">电镀-镀锌</a-select-option>\n            <a-select-option value=\"电镀-镀镍\">电镀-镀镍</a-select-option>\n            <a-select-option value=\"上油\">上油</a-select-option>\n            <a-select-option value=\"喷砂\">喷砂</a-select-option>\n          </a-select>\n          <template v-else=\"childDisabled\">{{ skuInfoData.bmcl }}</template>\n        </a-form-item>\n      </a-col> -->\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"材质\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-select v-if=\"childDisabled\" allowClear placeholder=\"请选择材质\" v-decorator=\"['cz']\">\n            <a-select-option\n              v-for=\"item of czData\"\n              :key=\"item.id\"\n              :value=\"item.realValue\"\n            >{{item.realValue}}</a-select-option>\n          </a-select>\n          <template v-else=\"childDisabled\">{{ skuInfoData.cz }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"备注\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['remark']\" placeholder=\"请输入备注\"/>\n          <template v-else=\"childDisabled\">{{ skuInfoData.remark }}</template>\n        </a-form-item>\n      </a-col>\n      </a-col>\n    </a-row>\n  </a-form>\n</template>\n<script>\nimport { getGoodsClass, getClassAttr, custIndustry } from '../../basic_lib/index'\nimport { mixinBasic, mixinIsEdit } from '@/components/tools/mixin/mixin'\nimport { findParentId } from 'utils/utils.js'\n\nexport default {\n  name: 'ProductInfoForm',\n  mixins: [mixinBasic, mixinIsEdit],\n  data() {\n    return {\n      goodsInfoForm: this.$form.createForm(this),\n      options: [],\n      czData: [],\n      classCatObj: {\n        val: [],\n        id: []\n      }\n    }\n  },\n  props: {\n    skuInfoData: {\n      type: Object,\n      default: {}\n    },\n    springInfoType: {\n      type: String,\n      default: ''\n    },\n    childDisabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created() {\n    // 产品分类\n    getGoodsClass.call(this).then(() => {\n      console.log(this.options)\n      console.log(this.skuInfoData)\n      this.classCatObj.val = findParentId(\n        this.skuInfoData.catId,\n        this.options,\n        'name'\n      )\n      this.classCatObj.id = findParentId(\n        this.skuInfoData.catId,\n        this.options,\n        'id'\n      )\n      this.$emit('classCatObj', this.classCatObj)\n    })\n    custIndustry().then(res => {\n      if (res.data.code === 0) {\n        const obj = {}\n        this.czData = res.data.data.reduce((item, next) => {\n          obj[next.realValue]\n            ? ''\n            : (obj[next.realValue] = true && item.push(next))\n          return item\n        }, [])\n      }\n    })\n  },\n  methods: {\n    // 产品分类\n    onChangeGoodsClass(value) {\n      console.log(value)\n      // 产品分类属性\n      getClassAttr(...value).then(res => {\n        if (res.data.code === 0) {\n          console.log(res.data.data)\n          this.$emit('classAttrInfo', res.data.data)\n        } else {\n          this.$emit('classAttrInfo', [])\n        }\n      })\n    },\n    // 弹簧种类\n    // handleChangeSpringType(value) {\n    //   console.log(value)\n    //   this.$emit('springType', value)\n    // }\n  },\n  watch: {},\n  computed: {\n    getSpringType() {\n      const configObj = {\n        YA: '压簧',\n        LA: '拉簧',\n        NIU: '扭簧',\n        DIE: '碟簧',\n        BO: '波簧',\n        BAN: '板簧'\n      }\n      return configObj[this.springInfoType]\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n@import '~styles/variable.less';\n\n.labelColor {\n  /deep/ .ant-form-item-label label {\n    .labelColor();\n  }\n}\n</style>"]}]}