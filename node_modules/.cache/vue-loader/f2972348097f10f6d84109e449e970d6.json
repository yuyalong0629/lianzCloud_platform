{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/bom/bom_list/child_info/tab_goodsInfo/CustInfoForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/bom/bom_list/child_info/tab_goodsInfo/CustInfoForm.vue","mtime":1560588089749},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { listCompanyGoodsCode } from '../../basic_lib/index'\nimport { getListCompanyCusts } from '@/components/scroll_list/index'\nimport { mixinBasic, mixinIsEdit } from '@/components/tools/mixin/mixin'\nimport { findParentId } from 'utils/utils.js'\n\nexport default {\n  name: 'CustInfo',\n  mixins: [mixinBasic, mixinIsEdit],\n  data() {\n    return {\n      custInfoForm: this.$form.createForm(this),\n      selectCodeData: [],\n      num: 1,\n      isCustName: false\n    }\n  },\n  props: {\n    custInfoData: {\n      type: Object,\n      default: {}\n    },\n    custName: {\n      type: String,\n      default: ''\n    },\n    childDisabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created() {\n    // 列表商家所有商品的商品名称\n    getListCompanyCusts(1).then(res => {\n      if (res.data.code === 0) {\n        // console.log(res.data)\n        res.data.data.records.forEach(item => {\n          this.selectCodeData.push({\n            key: item.id,\n            name: item.custName\n          })\n        })\n      }\n    })\n  },\n  methods: {\n    handleChangecustName(value) {\n      console.log(value)\n      if (value === undefined) {\n        this.isCustName = false\n        return\n      }\n      this.isCustName = true\n      // this.selectCodeValue = value\n    },\n    handleScrollcustName(e) {\n      const SCROLLTHEIGHT = e.target.scrollHeight // 获取元素内容高度\n      const SCROLLTOP = e.target.scrollTop // 获取或者设置元素的滚动高度\n      const CLIENTHEIGHT = e.target.clientHeight // 读取元素的可见高度\n      const CONDITION = SCROLLTHEIGHT - SCROLLTOP <= CLIENTHEIGHT\n      if (CONDITION) {\n        this.num++\n        getListCompanyCusts(this.num).then(res => {\n          if (res.data.code === 0) {\n            console.log(res.data)\n            const data = this.selectCodeData\n            res.data.data.records.forEach(item => {\n              this.selectCodeData.push({\n                key: item.id,\n                name: item.custName\n              })\n            })\n          }\n        })\n      }\n    }\n  }\n}\n",{"version":3,"sources":["CustInfoForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustInfoForm.vue","sourceRoot":"src/views/product/bom/bom_list/child_info/tab_goodsInfo","sourcesContent":["<template>\n  <a-form :form=\"custInfoForm\" layout=\"horizontal\" hideRequiredMark>\n    <a-row>\n      <a-col :span=\"8\">\n        <a-form-item\n          label=\"客户名称\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-select\n            allowClear\n            v-if=\"childDisabled\"\n            v-decorator=\"['custId']\"\n            placeholder=\"请输入客户名称\"\n            @change=\"handleChangecustName\"\n            @popupScroll=\"e=>handleScrollcustName(e)\"\n          >\n            <a-select-option v-for=\"(d, i) in selectCodeData\" :key=\"d.key\">{{d.name}}</a-select-option>\n          </a-select>\n          <template v-else=\"childDisabled\">{{ custName }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\" v-if=\"isCustName || custName\">\n        <a-form-item\n          label=\"图号\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['custDrawNum']\" placeholder=\"请输入图号\"/>\n          <template v-else=\"childDisabled\">{{custInfoData.custDrawNum}}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\" v-if=\"isCustName || custName\">\n        <a-form-item\n          label=\"图号版本号\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['custDrawVersion']\" placeholder=\"请输入图号版本号\"/>\n          <template v-else=\"childDisabled\">{{custInfoData.custDrawVersion}}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\" v-if=\"isCustName || custName\">\n        <a-form-item\n          label=\"客户编码\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['custSkuCode']\" placeholder=\"请输入客户编码\"/>\n          <template v-else=\"childDisabled\">{{custInfoData.custSkuCode}}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\" v-if=\"isCustName || custName\">\n        <a-form-item\n          label=\"物料号\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['custMaterialNum']\" placeholder=\"请输入物料号\"/>\n          <template v-else=\"childDisabled\">{{ custInfoData.custMaterialNum }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\" v-if=\"isCustName || custName\">\n        <a-form-item\n          label=\"物料名\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['custMaterialName']\" placeholder=\"请输入物料名\"/>\n\n          <template v-else=\"childDisabled\">{{ custInfoData.custMaterialName }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\" v-if=\"isCustName || custName\">\n        <a-form-item\n          label=\"材质\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['custCz']\" placeholder=\"请输入材质\"/>\n          <template v-else=\"childDisabled\">{{ custInfoData.custCz }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\" v-if=\"isCustName || custName\">\n        <a-form-item\n          label=\"表面处理\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['custBmcl']\" placeholder=\"请输入表面处理\"/>\n          <template v-else=\"childDisabled\">{{ custInfoData.custBmcl }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\" v-if=\"isCustName || custName\">\n        <a-form-item\n          label=\"客户规格\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['custSkuSpec']\" placeholder=\"请输入客户规格\"/>\n          <template v-else=\"childDisabled\">{{ custInfoData.custSkuSpec }}</template>\n        </a-form-item>\n      </a-col>\n      <a-col :span=\"8\" v-if=\"isCustName || custName\">\n        <a-form-item\n          label=\"备注\"\n          :class=\"{labelColor: isLabelColor}\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n        >\n          <a-input v-if=\"childDisabled\" v-decorator=\"['custRemark']\" placeholder=\"请输入备注\"/>\n          <template v-else=\"childDisabled\">{{ custInfoData.custRemark }}</template>\n        </a-form-item>\n      </a-col>\n    </a-row>\n  </a-form>\n</template>\n<script>\nimport { listCompanyGoodsCode } from '../../basic_lib/index'\nimport { getListCompanyCusts } from '@/components/scroll_list/index'\nimport { mixinBasic, mixinIsEdit } from '@/components/tools/mixin/mixin'\nimport { findParentId } from 'utils/utils.js'\n\nexport default {\n  name: 'CustInfo',\n  mixins: [mixinBasic, mixinIsEdit],\n  data() {\n    return {\n      custInfoForm: this.$form.createForm(this),\n      selectCodeData: [],\n      num: 1,\n      isCustName: false\n    }\n  },\n  props: {\n    custInfoData: {\n      type: Object,\n      default: {}\n    },\n    custName: {\n      type: String,\n      default: ''\n    },\n    childDisabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created() {\n    // 列表商家所有商品的商品名称\n    getListCompanyCusts(1).then(res => {\n      if (res.data.code === 0) {\n        // console.log(res.data)\n        res.data.data.records.forEach(item => {\n          this.selectCodeData.push({\n            key: item.id,\n            name: item.custName\n          })\n        })\n      }\n    })\n  },\n  methods: {\n    handleChangecustName(value) {\n      console.log(value)\n      if (value === undefined) {\n        this.isCustName = false\n        return\n      }\n      this.isCustName = true\n      // this.selectCodeValue = value\n    },\n    handleScrollcustName(e) {\n      const SCROLLTHEIGHT = e.target.scrollHeight // 获取元素内容高度\n      const SCROLLTOP = e.target.scrollTop // 获取或者设置元素的滚动高度\n      const CLIENTHEIGHT = e.target.clientHeight // 读取元素的可见高度\n      const CONDITION = SCROLLTHEIGHT - SCROLLTOP <= CLIENTHEIGHT\n      if (CONDITION) {\n        this.num++\n        getListCompanyCusts(this.num).then(res => {\n          if (res.data.code === 0) {\n            console.log(res.data)\n            const data = this.selectCodeData\n            res.data.data.records.forEach(item => {\n              this.selectCodeData.push({\n                key: item.id,\n                name: item.custName\n              })\n            })\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n</style>"]}]}