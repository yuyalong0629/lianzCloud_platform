{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/sale/orderList/other/orderSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/sale/orderList/other/orderSearch.vue","mtime":1563972971504},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '@/api/index.js'\nimport Animation from '@/assets/common/Animation'\nimport moment from 'moment'\nimport 'moment/locale/zh-cn'\nimport { mixinCurrentPage, getListCompanyCusts, mixinGetProductAbout } from '@/views/sale/mixin/minxinSale'\nimport { orderStatus } from '../basic_lib/menu'\nmoment.locale('zh-cn')\nexport default {\n  mixins: [mixinCurrentPage, getListCompanyCusts, mixinGetProductAbout],\n  components: {\n    Animation\n  },\n  data() {\n    return {\n      orderUrl: api.getOrderNumber,\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 },\n      advanced: false,\n      orderStatus: orderStatus,\n      orderEncapsulation: {\n        // custId: '',\n        // ocustAmaldar: '', // 客户经理\n        // odPromiseDueDate: '', // 承诺时间\n        // odSkuCode: '', // 商品编号\n        // odSpec: '', // 商品规格\n        // oorderNumber: '', // 订单编号\n        // oproductionBase: '', // 生产基地\n        // odPurchaseOrderno: '', // 采购单号\n        // osource: '', // 订单来源\n        // ostatus: '' // 订单状态\n      },\n      timer: ''\n    }\n  },\n  methods: {\n    toggleAdvanced() {\n      this.advanced = !this.advanced\n    },\n    dateChange(dateString) {\n      this.orderEncapsulation['odStartPromiseDueDate'] = dateString[0]\n      this.orderEncapsulation['odEndPromiseDueDate'] = dateString[1]\n      if (this.timer !== '') {\n        clearTimeout(this.timer)\n      }\n      this.timer = setTimeout(() => {\n        this.$emit('dataChange', this.orderEncapsulation)\n      }, 500)\n    },\n    // 搜索\n    inputChange(val, type) {\n      this.orderEncapsulation[type] = val\n      if (this.timer !== '') {\n        clearTimeout(this.timer)\n      }\n      this.timer = setTimeout(() => {\n        this.$emit('dataChange', this.orderEncapsulation)\n      }, 500)\n    },\n    // 选择框下拉状态\n    currentPageChange(e, type) {\n      const result = this.getCurrentPageChange(e)\n      if (result) {\n        switch (type) {\n          case 'customer':\n            this.getListCompanyCusts(this.customerPage)\n            break\n          case 'companyGoods':\n            this.getListCompanyGoodsCode(this.codeCurrentPage)\n            break\n          case 'companySpec':\n            this.getListCompanySpringSpecs(this.specCurrentPage)\n            break\n          case 'ocustAmaldar':\n            this.getCompanyAllUsers(this.locustAmalgamListPage)\n            break\n        }\n      }\n    },\n    // 搜索条件重置\n    searchRest() {\n      for (const i in this.orderEncapsulation) {\n        this.orderEncapsulation[i] = ''\n      }\n      this.$emit('dataChange', this.orderEncapsulation)\n    },\n    handleSelectChange(value, type) {\n      if (this.timer !== '') {\n        clearTimeout(this.timer)\n      }\n      this.timer = setTimeout(() => {\n        this.searchConditions(value, type)\n      }, 500)\n    },\n    searchConditions(value, type) {\n      switch (type) {\n        case 'ocustAmaldar':\n          this.locustAmalgamList = []\n          this.locustAmalgamListValue = value\n          this.getCompanyAllUsers()\n          break\n        case 'odSkuCode':\n          this.odSkuCodeList = []\n          this.odSkuCodeListValue = value\n          this.getListCompanyGoodsCode()\n          break\n        case 'odSpec':\n          this.odSpecList = []\n          this.odSpecListValue = value\n          this.getListCompanySpringSpecs()\n          break\n        case 'customer':\n          this.listCompanyCusts = []\n          this.condition = value\n          this.getListCompanyCusts()\n          break\n      }\n    }\n  }\n}\n",{"version":3,"sources":["orderSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderSearch.vue","sourceRoot":"src/views/sale/orderList/other","sourcesContent":["<template>\n  <a-form layout=\"inline\" style=\"margin-bottom:16px;\">\n    <a-row>\n      <a-col :span=\"21\">\n        <a-row>\n          <a-col :span=\"24\" style=\"margin: 8px 0;\">\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"订单编号\">\n              <a-input\n                class=\"inputWidth\"\n                v-model=\"orderEncapsulation.oorderNumber\"\n                @change=\"(e)=>{inputChange(e.target.value,'oorderNumber')}\"\n              ></a-input>\n            </a-form-item>\n            <!-- <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"采购单号\">\n              <a-input\n                class=\"inputWidth\"\n                v-model=\"orderEncapsulation.opurchaseOrderno\"\n                @change=\"(e)=>{inputChange(e.target.value,'opurchaseOrderno')}\"\n              />\n            </a-form-item>-->\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"客户信息\">\n              <a-select\n                class=\"inputWidth\"\n                showSearch\n                allowClear\n                :showArrow=\"false\"\n                :filterOption=\"false\"\n                :defaultActiveFirstOption=\"false\"\n                :dropdownMatchSelectWidth=\"false\"\n                v-model=\"orderEncapsulation.custId\"\n                @search=\"val=>handleSelectChange(val,'customer')\"\n                @change=\"(val)=>{inputChange(val,'custId')}\"\n                @popupScroll=\"e=>currentPageChange(e,'customer')\"\n              >\n                <a-select-option\n                  v-for=\"item in listCompanyCusts\"\n                  :key=\"item.id\"\n                >{{item.custCode}}&nbsp;-&nbsp;{{item.custShortName}}</a-select-option>\n              </a-select>\n            </a-form-item>\n            <!-- <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"客户经理\">\n              <a-select\n                class=\"inputWidth\"\n                showSearch\n                allowClear\n                :showArrow=\"false\"\n                :filterOption=\"false\"\n                :defaultActiveFirstOption=\"false\"\n                v-model=\"orderEncapsulation.ocustAmaldar\"\n                @search=\"val=>handleSelectChange(val,'ocustAmaldar')\"\n                @change=\"(val)=>{inputChange(val,'ocustAmaldar')}\"\n                @popupScroll=\"e=>currentPageChange(e,'ocustAmaldar')\"\n              >\n                <a-select-option\n                  v-for=\"item in locustAmalgamList\"\n                  :key=\"item.userName\"\n                >{{item.userName}}</a-select-option>\n              </a-select>\n            </a-form-item>-->\n            <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"产品编码\">\n              <a-select\n                class=\"inputWidth\"\n                showSearch\n                allowClear\n                :showArrow=\"false\"\n                :filterOption=\"false\"\n                :defaultActiveFirstOption=\"false\"\n                v-model=\"orderEncapsulation.odSkuCode\"\n                @search=\"val=>handleSelectChange(val,'odSkuCode')\"\n                @change=\"(val)=>{inputChange(val,'odSkuCode')}\"\n                @popupScroll=\"e=>currentPageChange(e,'companyGoods')\"\n              >\n                <a-select-option v-for=\"item in odSkuCodeList\" :key=\"item\">{{item}}</a-select-option>\n              </a-select>\n            </a-form-item>\n          </a-col>\n          <Animation name=\"fadeIn\" v-if=\"advanced\">\n            <a-col :span=\"24\">\n              <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"产品规格\">\n                <a-select\n                  class=\"inputWidth\"\n                  showSearch\n                  allowClear\n                  :showArrow=\"false\"\n                  :filterOption=\"false\"\n                  :defaultActiveFirstOption=\"false\"\n                  v-model=\"orderEncapsulation.odSpec\"\n                  @search=\"val=>handleSelectChange(val,'odSpec')\"\n                  @change=\"(val)=>{inputChange(val,'odSpec')}\"\n                  @popupScroll=\"e=>currentPageChange(e,'companySpec')\"\n                >\n                  <a-select-option v-for=\"item in odSpecList\" :key=\"item\">{{item}}</a-select-option>\n                </a-select>\n              </a-form-item>\n              <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"订单来源\">\n                <a-select\n                  class=\"inputWidth\"\n                  allowClear\n                  v-model=\"orderEncapsulation.osource\"\n                  @change=\"(val)=>{inputChange(val,'osource')}\"\n                >\n                  <a-select-option value=\"0\">线上商城</a-select-option>\n                  <a-select-option value=\"1\">线上定制</a-select-option>\n                  <a-select-option value=\"2\">线下定制</a-select-option>\n                </a-select>\n              </a-form-item>\n              <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"订单状态\">\n                <a-select\n                  class=\"inputWidth\"\n                  allowClear\n                  v-model=\"orderEncapsulation.ostatus\"\n                  @change=\"(val)=>{inputChange(val,'ostatus')}\"\n                >\n                  <template v-for=\"(item,index) in orderStatus\">\n                    <a-select-option :value=\"index\" :key=\"index\">{{item.label}}</a-select-option>\n                  </template>\n                </a-select>\n              </a-form-item>\n            </a-col>\n          </Animation>\n          <Animation name=\"fadeIn\" style=\"margin: 8px 0;\" v-if=\"advanced\">\n            <a-col :span=\"24\">\n              <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"承诺交期\">\n                <a-range-picker\n                  class=\"inputWidth\"\n                  format=\"YYYY-MM-DD\"\n                  @change=\"(date, dateString)=>{dateChange(dateString)}\"\n                />\n              </a-form-item>\n            </a-col>\n          </Animation>\n        </a-row>\n      </a-col>\n      <a-col :span=\"3\" style=\"margin: 8px 0;text-align:right;\">\n        <a-form-item style=\"text-align:center\">\n          <span @click=\"searchRest\" style=\"cursor: pointer;margin-right:8px\">重置</span>\n          <span @click=\"toggleAdvanced\" style=\"cursor: pointer;\">\n            {{ advanced ? '收起' : '展开' }}\n            <a-icon :type=\"advanced ? 'caret-up' : 'caret-down'\" />\n          </span>\n        </a-form-item>\n      </a-col>\n    </a-row>\n  </a-form>\n</template>\n\n<script>\nimport api from '@/api/index.js'\nimport Animation from '@/assets/common/Animation'\nimport moment from 'moment'\nimport 'moment/locale/zh-cn'\nimport { mixinCurrentPage, getListCompanyCusts, mixinGetProductAbout } from '@/views/sale/mixin/minxinSale'\nimport { orderStatus } from '../basic_lib/menu'\nmoment.locale('zh-cn')\nexport default {\n  mixins: [mixinCurrentPage, getListCompanyCusts, mixinGetProductAbout],\n  components: {\n    Animation\n  },\n  data() {\n    return {\n      orderUrl: api.getOrderNumber,\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 },\n      advanced: false,\n      orderStatus: orderStatus,\n      orderEncapsulation: {\n        // custId: '',\n        // ocustAmaldar: '', // 客户经理\n        // odPromiseDueDate: '', // 承诺时间\n        // odSkuCode: '', // 商品编号\n        // odSpec: '', // 商品规格\n        // oorderNumber: '', // 订单编号\n        // oproductionBase: '', // 生产基地\n        // odPurchaseOrderno: '', // 采购单号\n        // osource: '', // 订单来源\n        // ostatus: '' // 订单状态\n      },\n      timer: ''\n    }\n  },\n  methods: {\n    toggleAdvanced() {\n      this.advanced = !this.advanced\n    },\n    dateChange(dateString) {\n      this.orderEncapsulation['odStartPromiseDueDate'] = dateString[0]\n      this.orderEncapsulation['odEndPromiseDueDate'] = dateString[1]\n      if (this.timer !== '') {\n        clearTimeout(this.timer)\n      }\n      this.timer = setTimeout(() => {\n        this.$emit('dataChange', this.orderEncapsulation)\n      }, 500)\n    },\n    // 搜索\n    inputChange(val, type) {\n      this.orderEncapsulation[type] = val\n      if (this.timer !== '') {\n        clearTimeout(this.timer)\n      }\n      this.timer = setTimeout(() => {\n        this.$emit('dataChange', this.orderEncapsulation)\n      }, 500)\n    },\n    // 选择框下拉状态\n    currentPageChange(e, type) {\n      const result = this.getCurrentPageChange(e)\n      if (result) {\n        switch (type) {\n          case 'customer':\n            this.getListCompanyCusts(this.customerPage)\n            break\n          case 'companyGoods':\n            this.getListCompanyGoodsCode(this.codeCurrentPage)\n            break\n          case 'companySpec':\n            this.getListCompanySpringSpecs(this.specCurrentPage)\n            break\n          case 'ocustAmaldar':\n            this.getCompanyAllUsers(this.locustAmalgamListPage)\n            break\n        }\n      }\n    },\n    // 搜索条件重置\n    searchRest() {\n      for (const i in this.orderEncapsulation) {\n        this.orderEncapsulation[i] = ''\n      }\n      this.$emit('dataChange', this.orderEncapsulation)\n    },\n    handleSelectChange(value, type) {\n      if (this.timer !== '') {\n        clearTimeout(this.timer)\n      }\n      this.timer = setTimeout(() => {\n        this.searchConditions(value, type)\n      }, 500)\n    },\n    searchConditions(value, type) {\n      switch (type) {\n        case 'ocustAmaldar':\n          this.locustAmalgamList = []\n          this.locustAmalgamListValue = value\n          this.getCompanyAllUsers()\n          break\n        case 'odSkuCode':\n          this.odSkuCodeList = []\n          this.odSkuCodeListValue = value\n          this.getListCompanyGoodsCode()\n          break\n        case 'odSpec':\n          this.odSpecList = []\n          this.odSpecListValue = value\n          this.getListCompanySpringSpecs()\n          break\n        case 'customer':\n          this.listCompanyCusts = []\n          this.condition = value\n          this.getListCompanyCusts()\n          break\n      }\n    }\n  }\n}\n</script>\n\n<style lang='less' scoped>\n@import \"~styles/variable.less\";\n\n.inputWidth {\n  width: 200px;\n}\n</style>\n"]}]}