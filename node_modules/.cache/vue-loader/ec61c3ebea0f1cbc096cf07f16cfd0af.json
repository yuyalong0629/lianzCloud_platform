{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/sale/orderList/orderDetial.vue?vue&type=template&id=11460cc4&scoped=true&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/sale/orderList/orderDetial.vue","mtime":1559179259597},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"order-list\">\n  <div class=\"add-order-list\">\n    <a-tabs defaultActiveKey=\"1\" @change=\"callback\">\n      <a-tab-pane key=\"0\" disabled>\n        <span slot=\"tab\" style=\"color:#666;font-size:16px;\">订单信息</span>\n      </a-tab-pane>\n      <a-tab-pane tab=\"销售订单信息\" key=\"1\">\n        <a-form layout=\"horizontal\">\n          <a-row :gutter=\"24\">\n            <a-col :span=\"24\">\n              <h3 class=\"addCustomer-title\">订单详情</h3>\n            </a-col>\n            <a-col :span=\"8\">\n              <a-form-item\n                label=\"订单编码\"\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n              >\n                <a-input disabled :value=\"mallOrderIntactDto.oorderNumber\"/>\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"8\">\n              <a-form-item\n                label=\"客户名称\"\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n              >\n                <a-input disabled :value=\"mallOrderIntactDto.ocustName\"/>\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"8\">\n              <a-form-item\n                label=\"客户单号\"\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n              >\n                <a-input\n                  v-model=\"mallOrderIntactDto.opurchaseOrderno\"\n                  placeholder=\"请输入客户单号\"\n                  :disabled=\"editDetial === false\"\n                />\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"8\">\n              <a-form-item\n                label=\"订单类型\"\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n              >\n                <a-select disabled :value=\"mallOrderIntactDto.otype\">\n                  <a-icon slot=\"suffixIcon\" type=\"down\" style=\"display:none\"/>\n                  <a-select-option value=\"0\">正式</a-select-option>\n                  <a-select-option value=\"1\">样品</a-select-option>\n                  <a-select-option value=\"2\">季度返点</a-select-option>\n                </a-select>\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"8\">\n              <a-form-item\n                label=\"总计\"\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n              >\n                <a-input\n                  placeholder=\"请输入订单总计\"\n                  v-model=\"mallOrderIntactDto.ototalSum\"\n                  :disabled=\"editDetial === false\"\n                />\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"8\">\n              <a-form-item\n                label=\"预收款\"\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n              >\n                <a-input\n                  placeholder=\"请输入预收款\"\n                  v-model=\"mallOrderIntactDto.oprePayment\"\n                  :disabled=\"editDetial === false\"\n                />\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"8\">\n              <a-form-item\n                label=\"状态\"\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n              >\n                <a-select disabled :value=\"mallOrderIntactDto.ostatus\">\n                  <a-icon slot=\"suffixIcon\" type=\"down\" style=\"display:none\"/>\n                  <a-select-option value=\"PREORDER\">预订单</a-select-option>\n                  <a-select-option value=\"SUBMISSIONORDER\">已提交</a-select-option>\n                  <a-select-option value=\"ACCEPTORDER\">已接单</a-select-option>\n                  <a-select-option value=\"REJECTORDE\">已拒单</a-select-option>\n                  <a-select-option value=\"FINISH\">已完成</a-select-option>\n                  <a-select-option value=\"CANCEL\">已取消</a-select-option>\n                  <a-select-option value=\"HAVEDELLIVERY\">已经发货</a-select-option>\n                  <a-select-option value=\"PARTDELLIVERY\">部分发货</a-select-option>\n                  <a-select-option value=\"UNDELLIVERY\">未发货</a-select-option>\n                  <a-select-option value=\"ALREADYLIVERY\">已签收</a-select-option>\n                </a-select>\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"8\">\n              <a-form-item\n                label=\"备注\"\n                :label-col=\"formItemLayout.labelCol\"\n                :wrapper-col=\"formItemLayout.wrapperCol\"\n              >\n                <a-input v-model=\"mallOrderIntactDto.oremarks\" :disabled=\"editDetial === false\"/>\n              </a-form-item>\n            </a-col>\n          </a-row>\n          <!-- <a-row :gutter=\"24\" style=\"margin-top:10px\">\n          <a-col :span=\"24\">\n            <h3 class=\"addCustomer-title\">订单分配</h3>\n          </a-col>\n          <a-col :span=\"8\">\n            <a-form-item\n              label=\"计划员：\"\n              :label-col=\"formItemLayout.labelCol\"\n              :wrapper-col=\"formItemLayout.wrapperCol\"\n            >\n              <a-input placeholder=\"请输入订单编号\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"8\">\n            <a-form-item\n              label=\"工厂厂长：\"\n              :label-col=\"formItemLayout.labelCol\"\n              :wrapper-col=\"formItemLayout.wrapperCol\"\n            >\n              <a-input placeholder=\"请输入净价总价\" />\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"8\">\n            <a-form-item\n              label=\"生产基地：\"\n              :label-col=\"formItemLayout.labelCol\"\n              :wrapper-col=\"formItemLayout.wrapperCol\"\n            >\n              <a-cascader\n                :options=\"areas\"\n                placeholder=\"请选择生产基地\"\n                :fieldNames=\"{label:'name',value:'id',children:'childrens'}\"\n                style=\"width:240px\"\n              />\n            </a-form-item>\n          </a-col>\n          </a-row>-->\n        </a-form>\n        <a-row :gutter=\"24\" style=\"margin-top:10px\">\n          <a-col :span=\"24\">\n            <h3 class=\"addCustomer-title\">产品详情</h3>\n          </a-col>\n          <a-table :columns=\"columns\" :dataSource=\"dataSource\" :pagination=\"false\">\n            <template slot=\"name\" slot-scope=\"text,record\">\n              <a href=\"javascript:;\">{{record.odSkuName}}-{{record.odSkuCode}}</a>\n            </template>\n            <template\n              v-for=\"col in ['odSkuCustPrice', 'odNumber', 'odAmount','odPurchaseOrderno','odRequireDueDate','odPromiseDueDate']\"\n              :slot=\"col\"\n              slot-scope=\"text, record\"\n            >\n              <div :key=\"col\">\n                <a-input\n                  v-if=\"record.editable && col!=='odRequireDueDate' && col !== 'odPromiseDueDate'\"\n                  style=\"width:60px;\"\n                  :value=\"text\"\n                  @change=\"e => editCell(e.target.value, record.key, col)\"\n                />\n                <a-date-picker\n                  v-else-if=\"record.editable && (col ==='odRequireDueDate' || col === 'odPromiseDueDate')\"\n                  style=\"width:100px;\"\n                  :defaultValue=\"moment(text)\"\n                  @change=\"(value,dateString) => editCell(dateString, record.key, col)\"\n                />\n\n                <template v-else>\n                  <span\n                    v-if=\"col ==='odRequireDueDate' || col === 'odPromiseDueDate'\"\n                  >{{moment(text).format('YYYY-MM-DD')}}</span>\n                  <span v-else>{{text}}</span>\n                </template>\n              </div>\n            </template>\n            <template slot=\"operation\" slot-scope=\"text, record\" v-if=\"editDetial !== false\">\n              <div class=\"editable-row-operations\">\n                <span v-if=\"record.editable\">\n                  <a @click=\"() => save(record.key)\">\n                    <a-button type=\"primary\" shape=\"circle\" icon=\"edit\" class=\"edit-btn\"></a-button>\n                  </a>\n                  <a-popconfirm title=\"确认删除吗?\" @confirm=\"() => cancel(record.key)\">\n                    <a-button type=\"danger\" shape=\"circle\" icon=\"delete\" class=\"edit-btn\"></a-button>\n                  </a-popconfirm>\n                </span>\n                <span v-else>\n                  <a @click=\"() => edit(record.key)\">编辑</a>\n                </span>\n              </div>\n            </template>\n          </a-table>\n        </a-row>\n        <a-row :gutter=\"24\" style=\"margin-top:20px;margin-bottom:40px;\">\n          <a-col :span=\"24\">\n            <h3 class=\"addCustomer-title\">收货地址</h3>\n          </a-col>\n          <a-col :span=\"24\">\n            <div\n              class=\"address-list\"\n              v-for=\"(item,index) in addressList\"\n              :key=\"item.id\"\n              @click=\"choseAddress(index,item.id)\"\n            >\n              <div\n                class=\"address-list-item\"\n                :class=\"{'item-active':item.id === mallOrderIntactDto.addrId}\"\n                v-if=\"item.id === mallOrderIntactDto.addrId||editDetial !== false\"\n              >\n                <div class=\"address-list-item-desc\">\n                  {{mallOrderIntactDto.ocustName}}\n                  <ul>\n                    <li>收件人：{{item.receiver}}</li>\n                    <li>联系方式：{{item.phone}}</li>\n                    <li>地址：{{item.cityStr}}{{item.provinceStr}}{{item.areaStr}}{{item.detailAddr}}</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <span\n              class=\"editable-add-btn\"\n              style=\"margin:10px;\"\n              @click=\"addAddress\"\n              v-if=\"editDetial !== false\"\n            >+添加地址</span>\n          </a-col>\n        </a-row>\n        <a-row :gutter=\"24\" style=\"margin-top:10px;margin-bottom:40px\">\n          <a-col :span=\"24\">\n            <h3 class=\"addCustomer-title\">附件</h3>\n            <a-upload\n              :disabled=\"!editDetial\"\n              :action=\"url\"\n              :data=\"{'bizType': 'ORDER'}\"\n              :headers=\"headers\"\n              listType=\"picture-card\"\n              :fileList=\"fileList\"\n              @preview=\"handlePreview\"\n              @change=\"handleChange\"\n            >\n              <div>\n                <a-icon type=\"plus\"/>\n                <div class=\"ant-upload-text\">Upload</div>\n              </div>\n              <a-modal :visible=\"previewVisible\" :footer=\"null\" @cancel=\"handleCancel\">\n                <img alt=\"example\" style=\"width: 100%\" :src=\"previewImage\">\n              </a-modal>\n            </a-upload>\n          </a-col>\n        </a-row>\n        <a-drawer\n          placement=\"right\"\n          :closable=\"false\"\n          @close=\"onClose\"\n          :visible=\"towVisible\"\n          :wrapStyle=\"{overflow: 'auto',paddingBottom: '108px'}\"\n          :width=\"1080\"\n        >\n          <GoodsInfo\n            @isVisible=\"isVisible\"\n            :setGoodsViews=\"setGoodsViews\"\n            :isCatId=\"isCatId\"\n            :isEdit=\"isEdit\"\n            :isCustId=\"isCustId\"\n          ></GoodsInfo>\n        </a-drawer>\n      </a-tab-pane>\n      <a-tab-pane tab=\"生产信息\" key=\"2\">生产信息</a-tab-pane>\n      <a-tab-pane tab=\"质检信息\" key=\"3\">质检信息</a-tab-pane>\n      <a-tab-pane tab=\"仓储信息\" key=\"4\">仓储信息</a-tab-pane>\n      <a-tab-pane tab=\"发货信息\" key=\"5\">发货信息</a-tab-pane>\n    </a-tabs>\n    <div class=\"edit\">\n      <span @click=\"orderDetialEdit\">{{!editDetial?'编辑':'取消编辑'}}</span>\n      <span @click=\"orderDetele\">删除</span>\n      <!-- <a-button>打印</a-button> -->\n      <!-- <a-button>更多</a-button> -->\n    </div>\n  </div>\n  <div\n    :style=\"{\n        position: 'absolute',\n        left: 0,\n        bottom: 0,\n        width: '100%',\n        borderTop: '1px solid #e9e9e9',\n        padding: '10px 16px',\n        background: '#fff',\n        textAlign: 'right',\n        zIndex:'999'\n        }\"\n  >\n    <a-button :style=\"{marginRight: '8px'}\" @click=\"cancelHandle\">取消</a-button>\n    <a-button\n      type=\"primary\"\n      @click=\"orderSubmit\"\n      :disabled=\"editDetial === false\"\n      :loading=\"submitLoading\"\n    >提交</a-button>\n  </div>\n  <!-- 添加地址 -->\n  <a-modal v-model=\"visible\" title=\"添加地址\" :footer=\"null\">\n    <addAddress :custId=\"mallOrderIntactDto.custId\" @addressCancel=\"addressCancel\"></addAddress>\n  </a-modal>\n</div>\n",null]}