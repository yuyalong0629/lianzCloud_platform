{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/sale/orderList/basic_lib/addAddress.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/sale/orderList/basic_lib/addAddress.vue","mtime":1559732998295},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _objectSpread from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { postJson } from '@/api/axios.js';\nimport api from '@/api/index.js';\n\nvar areas = require('@/assets/utils/area.js');\n\nexport default {\n  props: {\n    custId: {\n      type: String,\n      default: '',\n      required: false\n    },\n    obj: {\n      type: Object,\n      required: false,\n      default: function _default() {\n        return {\n          area: '',\n          areaStr: '',\n          city: '',\n          cityStr: '',\n          custId: this.custId,\n          defaultGoodsAddr: '',\n          deleted: 0,\n          detailAddr: '',\n          id: '',\n          phone: '',\n          postCode: '',\n          province: '',\n          provinceStr: '',\n          receiver: '',\n          areas: [],\n          index: ''\n        };\n      }\n    }\n  },\n  data: function data() {\n    return {\n      areas: areas.areas,\n      defaultAdd: true,\n      form: this.$form.createForm(this)\n    };\n  },\n  methods: {\n    defaultSelect: function defaultSelect(e) {\n      this.defaultAdd = e.target.checked;\n    },\n    areaHandleChange: function areaHandleChange(val) {\n      this.obj.areas = val;\n    },\n    handleOk: function handleOk(e) {\n      var _this = this;\n\n      e.preventDefault();\n      var data = this.obj;\n      this.getCityProvince();\n      this.form.validateFields(function (err, val) {\n        if (!err) {\n          data = _objectSpread({}, data, val.obj);\n\n          var parmas = _objectSpread({}, data);\n\n          parmas.defaultGoodsAddr = _this.defaultAdd ? 1 : 0;\n\n          if (_this.custId !== '') {\n            delete parmas.areas;\n            delete parmas.index;\n            postJson(api.setAddressIvo, parmas).then(function (res) {\n              if (res.data.code === 0) {\n                _this.$message.success('添加地址成功');\n              }\n\n              _this.$emit('addressCancel', true);\n            });\n          } else {\n            _this.$emit('addressCancel', parmas);\n          }\n\n          _this.form.resetFields();\n        }\n      });\n    },\n    // 根据code获取省市区的名字\n    getCityProvince: function getCityProvince() {\n      var areas = this.areas;\n      var allCityCode = this.obj.areas;\n      var city = allCityCode[0];\n      var province = allCityCode[1];\n      var area = allCityCode[2];\n\n      for (var item in areas) {\n        if (areas[item].id === city) {\n          this.obj.cityStr = areas[item].name;\n          this.obj.city = city;\n          var cityProvinces = areas[item].childrens;\n\n          for (var i in cityProvinces) {\n            if (cityProvinces[i].id === province) {\n              this.obj.provinceStr = cityProvinces[i].name;\n              this.obj.province = province;\n              var provinceChildrens = cityProvinces[i].childrens;\n\n              for (var j in provinceChildrens) {\n                if (provinceChildrens[j].id === area) {\n                  this.obj.areaStr = provinceChildrens[j].name;\n                  this.obj.area = area;\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    handleCancel: function handleCancel(e) {\n      this.$emit('addressCancel', false);\n    }\n  }\n};",{"version":3,"sources":["addAddress.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"address\">\n    <a-form :form=\"form\">\n      <a-form-item label=\"收件人姓名\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input\n          v-decorator=\"['obj.receiver',{rules:[{ required: true, message: '请输入收件人姓名'}],initialValue:obj.receiver}]\"\n        />\n      </a-form-item>\n      <a-form-item label=\"所在地区\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-cascader\n          :options=\"areas\"\n          placeholder\n          v-decorator=\"['obj.areas',{rules:[{ required: true, message: '请选择收件人所在地区'}],initialValue:obj.areas}]\"\n          :fieldNames=\"{label:'name',value:'id',children:'childrens'}\"\n          @change=\"areaHandleChange\"\n        />\n      </a-form-item>\n      <a-form-item label=\"街道地址\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input\n          v-decorator=\"['obj.detailAddr',{rules:[{ required: true, message: '请输入收件人详细地址'}],initialValue:obj.detailAddr}]\"\n        />\n      </a-form-item>\n      <a-form-item label=\"邮政编码\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input\n          v-decorator=\"['obj.postCode',{rules:[{ required: true, message: '请输入邮政编码'}],initialValue:obj.postCode}]\"\n        />\n      </a-form-item>\n      <a-form-item label=\"手机号码\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input\n          v-decorator=\"['obj.phone',{rules:[{ required: true, message: '请输入收件人手机号码'}],initialValue:obj.phone}]\"\n          max=\"11\"\n        />\n      </a-form-item>\n      <a-form-item :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 14,offset:5 }\">\n        <a-checkbox @change=\"defaultSelect\" :defaultChecked=\"defaultAdd\">设为默认收货地址</a-checkbox>\n      </a-form-item>\n      <a-form-item style=\"text-align:center\">\n        <a-button\n          type=\"primary\"\n          style=\"background:#8F939A;border:none;margin-right:8px;\"\n          @click=\"handleCancel\"\n        >关闭</a-button>\n        <a-button type=\"primary\" style=\"background:#F0BB2E;border:none;\" @click=\"handleOk\">保存</a-button>\n      </a-form-item>\n    </a-form>\n  </div>\n</template>\n\n<script>\nimport { postJson } from '@/api/axios.js'\nimport api from '@/api/index.js'\nconst areas = require('@/assets/utils/area.js')\nexport default {\n  props: {\n    custId: {\n      type: String,\n      default: '',\n      required: false\n    },\n    obj: {\n      type: Object,\n      required: false,\n      default: function () {\n        return {\n          area: '',\n          areaStr: '',\n          city: '',\n          cityStr: '',\n          custId: this.custId,\n          defaultGoodsAddr: '',\n          deleted: 0,\n          detailAddr: '',\n          id: '',\n          phone: '',\n          postCode: '',\n          province: '',\n          provinceStr: '',\n          receiver: '',\n          areas: [],\n          index: ''\n        }\n      }\n    }\n  },\n  data() {\n    return {\n      areas: areas.areas,\n      defaultAdd: true,\n      form: this.$form.createForm(this)\n    }\n  },\n\n  methods: {\n    defaultSelect(e) {\n      this.defaultAdd = e.target.checked\n    },\n    areaHandleChange(val) {\n      this.obj.areas = val\n    },\n    handleOk(e) {\n      e.preventDefault()\n      let data = this.obj\n      this.getCityProvince()\n      this.form.validateFields(\n        (err, val) => {\n          if (!err) {\n            data = { ...data, ...(val.obj) }\n            var parmas = { ...data }\n            parmas.defaultGoodsAddr = this.defaultAdd ? 1 : 0\n            if (this.custId !== '') {\n              delete parmas.areas\n              delete parmas.index\n              postJson(api.setAddressIvo, parmas).then(res => {\n                if (res.data.code === 0) {\n                  this.$message.success('添加地址成功')\n                }\n                this.$emit('addressCancel', true)\n              })\n            } else {\n              this.$emit('addressCancel', parmas)\n            }\n            this.form.resetFields()\n          }\n        }\n      )\n    },\n    // 根据code获取省市区的名字\n    getCityProvince() {\n      var areas = this.areas\n      var allCityCode = this.obj.areas\n      var city = allCityCode[0]\n      var province = allCityCode[1]\n      var area = allCityCode[2]\n      for (const item in areas) {\n        if (areas[item].id === city) {\n          this.obj.cityStr = areas[item].name\n          this.obj.city = city\n          var cityProvinces = areas[item].childrens\n          for (const i in cityProvinces) {\n            if (cityProvinces[i].id === province) {\n              this.obj.provinceStr = cityProvinces[i].name\n              this.obj.province = province\n              var provinceChildrens = cityProvinces[i].childrens\n              for (const j in provinceChildrens) {\n                if (provinceChildrens[j].id === area) {\n                  this.obj.areaStr = provinceChildrens[j].name\n                  this.obj.area = area\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    handleCancel(e) {\n      this.$emit('addressCancel', false)\n    }\n  }\n}\n</script>\n\n<style lang='less' scoped>\n@import \"~styles/variable.less\";\n\n.inputWidth {\n  .inputWidth();\n}\n</style>\n"],"sourceRoot":"src/views/sale/orderList/basic_lib"}]}