{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/sale/orderList/addAddress.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/sale/orderList/addAddress.vue","mtime":1559303968458},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _objectSpread from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { postJson, get, put } from '@/api/axios.js';\nimport api from '@/api/index.js';\n\nvar areas = require('@/assets/utils/area.js');\n\nexport default {\n  props: ['custId'],\n  data: function data() {\n    return {\n      areas: areas.areas,\n      defaultAdd: true,\n      obj: {\n        area: '',\n        areaStr: '',\n        city: '',\n        cityStr: '',\n        custId: this.custId,\n        defaultGoodsAddr: '',\n        deleted: 0,\n        detailAddr: '',\n        id: '',\n        phone: '',\n        postCode: '',\n        province: '',\n        provinceStr: '',\n        receiver: '',\n        areas: []\n      }\n    };\n  },\n  methods: {\n    defaultSelect: function defaultSelect(e) {\n      this.defaultAdd = e.target.checked;\n    },\n    areaHandleChange: function areaHandleChange(val) {\n      this.obj.areas = val;\n    },\n    handleOk: function handleOk(e) {\n      var _this = this;\n\n      var data = this.obj;\n\n      if (data.receiver === '') {\n        this.$message.error('请输入收件人姓名');\n        return;\n      }\n\n      if (!data.areas.length) {\n        this.$message.error('请选择收件地址');\n        return;\n      }\n\n      if (data.detailAddr === '') {\n        this.$message.error('请输入详细收获地址');\n        return;\n      }\n\n      if (data.postCode === '') {\n        this.$message.error('请输入正确的邮政编码');\n        return;\n      }\n\n      if (!/^[0-9]\\d{5}/.test(data.postCode)) {\n        this.$message.error('请输入正确的邮政编码');\n        return;\n      }\n\n      if (data.phone === '') {\n        this.$message.error('请输入正确的手机号码');\n        return;\n      }\n\n      if (!/^1[34578]\\d{9}$/.test(data.phone)) {\n        this.$message.error('请输入正确的手机号码');\n        return;\n      }\n\n      this.getCityProvince();\n\n      var parmas = _objectSpread({}, data);\n\n      parmas.defaultGoodsAddr = this.defaultAdd ? 1 : 0;\n      delete parmas.areas;\n      postJson(api.setAddressIvo, parmas).then(function (res) {\n        if (res.data.code == 0) {\n          _this.$message.success('添加地址成功');\n        }\n\n        _this.$emit('addressCancel', true);\n      });\n    },\n    // 根据code获取省市区的名字\n    getCityProvince: function getCityProvince() {\n      var areas = this.areas;\n      var allCityCode = this.obj.areas;\n      var city = allCityCode[0],\n          province = allCityCode[1],\n          area = allCityCode[2];\n\n      for (var item in areas) {\n        if (areas[item].id === city) {\n          this.obj.cityStr = areas[item].name;\n          this.obj.city = city;\n          var cityProvinces = areas[item].childrens;\n\n          for (var i in cityProvinces) {\n            if (cityProvinces[i].id === province) {\n              this.obj.provinceStr = cityProvinces[i].name;\n              this.obj.province = province;\n              var provinceChildrens = cityProvinces[i].childrens;\n\n              for (var j in provinceChildrens) {\n                if (provinceChildrens[j].id === area) {\n                  this.obj.areaStr = provinceChildrens[j].name;\n                  this.obj.area = area;\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    handleCancel: function handleCancel(e) {\n      this.$emit('addressCancel', false);\n    }\n  }\n};",{"version":3,"sources":["addAddress.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"address\">\n    <a-form>\n      <a-form-item label=\"收件人姓名\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input v-model=\"obj.receiver\"/>\n      </a-form-item>\n      <a-form-item label=\"所在地区\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-cascader\n          :options=\"areas\"\n          placeholder\n          v-model=\"obj.areas\"\n          :fieldNames=\"{label:'name',value:'id',children:'childrens'}\"\n          @change=\"areaHandleChange\"\n        />\n      </a-form-item>\n      <a-form-item label=\"街道地址\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input v-model=\"obj.detailAddr\"/>\n      </a-form-item>\n      <a-form-item label=\"邮政编码\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input v-model=\"obj.postCode\"/>\n      </a-form-item>\n      <a-form-item label=\"手机号码\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input v-model=\"obj.phone\" max=\"11\"/>\n      </a-form-item>\n      <a-form-item :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 14,offset:5 }\">\n        <a-checkbox @change=\"defaultSelect\" :defaultChecked=\"defaultAdd\">设为默认收货地址</a-checkbox>\n      </a-form-item>\n    </a-form>\n    <div class=\"model-btn\" style=\"text-align:center\">\n      <a-button\n        type=\"primary\"\n        style=\"background:#8F939A;border:none;margin-right:8px;\"\n        @click=\"handleCancel\"\n      >关闭</a-button>\n      <a-button type=\"primary\" style=\"background:#F0BB2E;border:none;\" @click=\"handleOk\">保存</a-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { postJson, get, put } from '@/api/axios.js'\nimport api from '@/api/index.js'\nconst areas = require('@/assets/utils/area.js')\nexport default {\n  props: ['custId'],\n  data() {\n    return {\n      areas: areas.areas,\n      defaultAdd: true,\n      obj: {\n        area: '',\n        areaStr: '',\n        city: '',\n        cityStr: '',\n        custId: this.custId,\n        defaultGoodsAddr: '',\n        deleted: 0,\n        detailAddr: '',\n        id: '',\n        phone: '',\n        postCode: '',\n        province: '',\n        provinceStr: '',\n        receiver: '',\n        areas: []\n      }\n    }\n  },\n  methods: {\n    defaultSelect(e) {\n      this.defaultAdd = e.target.checked\n    },\n    areaHandleChange(val) {\n      this.obj.areas = val\n    },\n    handleOk(e) {\n      var data = this.obj\n      if (data.receiver === '') {\n        this.$message.error('请输入收件人姓名')\n        return\n      }\n\n      if (!data.areas.length) {\n        this.$message.error('请选择收件地址')\n        return\n      }\n\n      if (data.detailAddr === '') {\n        this.$message.error('请输入详细收获地址')\n        return\n      }\n\n      if (data.postCode === '') {\n        this.$message.error('请输入正确的邮政编码')\n        return\n      }\n\n      if (!/^[0-9]\\d{5}/.test(data.postCode)) {\n        this.$message.error('请输入正确的邮政编码')\n        return\n      }\n\n      if (data.phone === '') {\n        this.$message.error('请输入正确的手机号码')\n        return\n      }\n      if (!/^1[34578]\\d{9}$/.test(data.phone)) {\n        this.$message.error('请输入正确的手机号码')\n        return\n      }\n      this.getCityProvince()\n      var parmas = { ...data }\n      parmas.defaultGoodsAddr = this.defaultAdd ? 1 : 0\n      delete parmas.areas\n      postJson(api.setAddressIvo, parmas).then(res => {\n        if (res.data.code == 0) {\n          this.$message.success('添加地址成功')\n        }\n        this.$emit('addressCancel', true)\n      })\n    },\n    // 根据code获取省市区的名字\n    getCityProvince() {\n      var areas = this.areas\n      var allCityCode = this.obj.areas\n      var city = allCityCode[0],\n        province = allCityCode[1],\n        area = allCityCode[2]\n      for (let item in areas) {\n        if (areas[item].id === city) {\n          this.obj.cityStr = areas[item].name\n          this.obj.city = city\n          var cityProvinces = areas[item].childrens\n          for (let i in cityProvinces) {\n            if (cityProvinces[i].id === province) {\n              this.obj.provinceStr = cityProvinces[i].name\n              this.obj.province = province\n              var provinceChildrens = cityProvinces[i].childrens\n              for (let j in provinceChildrens) {\n                if (provinceChildrens[j].id === area) {\n                  this.obj.areaStr = provinceChildrens[j].name\n                  this.obj.area = area\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    handleCancel(e) {\n      this.$emit('addressCancel', false)\n    }\n  }\n}\n</script>\n\n<style lang='less' scoped>\n@import '~styles/variable.less';\n.inputWidth {\n  .inputWidth();\n}\n</style>\n"],"sourceRoot":"src/views/sale/orderList"}]}