{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/router/router.js","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/router/router.js","mtime":1559301352936},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\nimport { routerMap } from './router.config.js';\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  // 默认是 history 可以改为 hash\n  base: process.env.BASE_URL,\n  scrollBehavior: function scrollBehavior() {\n    return {\n      y: 0\n    };\n  },\n  routes: routerMap\n}); // 全局路由守卫\n\nvar userAgent = navigator.userAgent;\nvar isIE = userAgent.indexOf('Trident') > -1;\nrouter.beforeEach(function (to, from, next) {\n  if (to.path === '/exception/browser') {\n    next();\n  } else {\n    if (isIE) {\n      next({\n        path: '/exception/browser'\n      });\n    } else {\n      if (to.path === '/user/login' || to.path === '/user/register' || to.path === '/user/retrieve') {\n        next();\n      } else {\n        if (localStorage.getItem('ACCESS_TOKEN')) {\n          NProgress.start();\n          next();\n        } else {\n          next({\n            path: '/user/login'\n          });\n          localStorage.removeItem('ACCESS_TOKEN');\n        }\n      }\n    }\n  }\n}); // 错误捕获\n\nrouter.onError(function (callback) {\n  console.log(callback);\n});\nrouter.afterEach(function (from) {\n  NProgress.done();\n});\nexport default router;",{"version":3,"sources":["/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/router/router.js"],"names":["Vue","Router","NProgress","routerMap","use","router","mode","base","process","env","BASE_URL","scrollBehavior","y","routes","userAgent","navigator","isIE","indexOf","beforeEach","to","from","next","path","localStorage","getItem","start","removeItem","onError","callback","console","log","afterEach","done"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AACA,SAASC,SAAT,QAA0B,oBAA1B;AAEAH,GAAG,CAACI,GAAJ,CAAQH,MAAR;AAEA,IAAMI,MAAM,GAAG,IAAIJ,MAAJ,CAAW;AACxBK,EAAAA,IAAI,EAAE,SADkB;AACP;AACjBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFM;AAGxBC,EAAAA,cAAc,EAAE;AAAA,WAAO;AAAEC,MAAAA,CAAC,EAAE;AAAL,KAAP;AAAA,GAHQ;AAIxBC,EAAAA,MAAM,EAAEV;AAJgB,CAAX,CAAf,C,CAOA;;AACA,IAAMW,SAAS,GAAGC,SAAS,CAACD,SAA5B;AACA,IAAME,IAAI,GAAGF,SAAS,CAACG,OAAV,CAAkB,SAAlB,IAA+B,CAAC,CAA7C;AAEAZ,MAAM,CAACa,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,IAAH,KAAY,oBAAhB,EAAsC;AACpCD,IAAAA,IAAI;AACL,GAFD,MAEO;AACL,QAAIL,IAAJ,EAAU;AACRK,MAAAA,IAAI,CAAC;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACD,KAFD,MAEO;AACL,UAAIH,EAAE,CAACG,IAAH,KAAY,aAAZ,IAA6BH,EAAE,CAACG,IAAH,KAAY,gBAAzC,IAA6DH,EAAE,CAACG,IAAH,KAAY,gBAA7E,EAA+F;AAC7FD,QAAAA,IAAI;AACL,OAFD,MAEO;AACL,YAAIE,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAJ,EAA0C;AACxCtB,UAAAA,SAAS,CAACuB,KAAV;AACAJ,UAAAA,IAAI;AACL,SAHD,MAGO;AACLA,UAAAA,IAAI,CAAC;AAAEC,YAAAA,IAAI,EAAE;AAAR,WAAD,CAAJ;AACAC,UAAAA,YAAY,CAACG,UAAb,CAAwB,cAAxB;AACD;AACF;AACF;AACF;AACF,CApBD,E,CAsBA;;AACArB,MAAM,CAACsB,OAAP,CAAe,UAAAC,QAAQ,EAAI;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,CAFD;AAIAvB,MAAM,CAAC0B,SAAP,CAAiB,UAACX,IAAD,EAAU;AACzBlB,EAAAA,SAAS,CAAC8B,IAAV;AACD,CAFD;AAIA,eAAe3B,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport NProgress from 'nprogress'\nimport 'nprogress/nprogress.css'\nimport { routerMap } from './router.config.js'\n\nVue.use(Router)\n\nconst router = new Router({\n  mode: 'history', // 默认是 history 可以改为 hash\n  base: process.env.BASE_URL,\n  scrollBehavior: () => ({ y: 0 }),\n  routes: routerMap\n})\n\n// 全局路由守卫\nconst userAgent = navigator.userAgent\nconst isIE = userAgent.indexOf('Trident') > -1\n\nrouter.beforeEach((to, from, next) => {\n  if (to.path === '/exception/browser') {\n    next()\n  } else {\n    if (isIE) {\n      next({ path: '/exception/browser' })\n    } else {\n      if (to.path === '/user/login' || to.path === '/user/register' || to.path === '/user/retrieve') {\n        next()\n      } else {\n        if (localStorage.getItem('ACCESS_TOKEN')) {\n          NProgress.start()\n          next()\n        } else {\n          next({ path: '/user/login' })\n          localStorage.removeItem('ACCESS_TOKEN')\n        }\n      }\n    }\n  }\n})\n\n// 错误捕获\nrouter.onError(callback => {\n  console.log(callback)\n})\n\nrouter.afterEach((from) => {\n  NProgress.done()\n})\n\nexport default router\n"]}]}