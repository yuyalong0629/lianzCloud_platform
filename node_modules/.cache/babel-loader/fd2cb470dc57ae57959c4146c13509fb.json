{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/Home.vue","mtime":1557387357534},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// @ is an alias to /src\nimport HeaderMenu from '@/components/headerMenu/HeaderMenu';\nimport zhCN from 'ant-design-vue/lib/locale-provider/zh_CN';\nimport { defaultPermission } from 'utils/nav.js';\nimport { get } from '../api/axios.js';\nimport api from '../api/index.js';\nimport { setTimeout } from 'timers';\nexport default {\n  name: 'home',\n  data: function data() {\n    return {\n      zhCN: zhCN,\n      collapsed: false,\n      rootSubmenuKeys: [],\n      openKeys: [],\n      defaultSelectedKey: [],\n      navList: [],\n      ifChildren: true\n    };\n  },\n  created: function created() {\n    this.getNavList();\n  },\n  mounted: function mounted() {\n    this.$router.replace('/permission');\n  },\n  methods: {\n    // 初始化nav\n    getNavList: function getNavList() {\n      var _this = this;\n\n      get(api.getNav).then(function (res) {\n        if (res.data.code === 0) {\n          _this.navList = res.data.data; // 初始化清空\n\n          _this.rootSubmenuKeys = [];\n          _this.openKeys = [];\n          res.data.data.forEach(function (item) {\n            _this.rootSubmenuKeys.push(item.id); // console.log(item.childrens)\n\n          }); // console.log(this.rootSubmenuKeys.pop())\n          // 设置默认展开项\n          // this.openKeys.push(this.rootSubmenuKeys[0])\n\n          return false;\n        }\n\n        _this.$message.error('请求超时');\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    handleClick: function handleClick(e) {\n      var params = {\n        funcId: e.key,\n        pageType: 'LIST'\n      };\n      defaultPermission(params);\n      this.$store.commit('serFuncIdArray', e.keyPath[0]);\n    },\n    onOpenChange: function onOpenChange(openKeys) {\n      var _this2 = this;\n\n      var latestOpenKey = openKeys.find(function (key) {\n        return _this2.openKeys.indexOf(key) === -1;\n      });\n\n      if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        this.openKeys = openKeys;\n      } else {\n        this.openKeys = latestOpenKey ? [latestOpenKey] : [];\n      }\n    }\n  },\n  watch: {\n    openKeys: function openKeys(val) {// console.log('openKeys', val)\n    }\n  },\n  components: {\n    HeaderMenu: HeaderMenu\n  }\n};",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA,OAAA,UAAA,MAAA,oCAAA;AACA,OAAA,IAAA,MAAA,0CAAA;AACA,SAAA,iBAAA,QAAA,cAAA;AACA,SAAA,GAAA,QAAA,iBAAA;AACA,OAAA,GAAA,MAAA,iBAAA;AACA,SAAA,UAAA,QAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,eAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,kBAAA,EAAA,EALA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,UAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,UAAA;AACA,GAfA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,OAAA,CAAA,OAAA,CAAA,aAAA;AACA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,UAFA,wBAEA;AAAA;;AACA,MAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CADA,CAEA;;AACA,UAAA,KAAA,CAAA,eAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,eAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,EADA,CAEA;;AACA,WAHA,EALA,CASA;AACA;AACA;;AACA,iBAAA,KAAA;AACA;;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA;AACA,OAjBA,EAkBA,KAlBA,CAkBA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OApBA;AAqBA,KAxBA;AAyBA,IAAA,WAzBA,uBAyBA,CAzBA,EAyBA;AACA,UAAA,MAAA,GAAA;AACA,QAAA,MAAA,EAAA,CAAA,CAAA,GADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAAA;AAIA,MAAA,iBAAA,CAAA,MAAA,CAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,CAAA,CAAA,OAAA,CAAA,CAAA,CAAA;AACA,KAhCA;AAiCA,IAAA,YAjCA,wBAiCA,QAjCA,EAiCA;AAAA;;AACA,UAAA,aAAA,GAAA,QAAA,CAAA,IAAA,CACA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,MAAA,CAAA,CAAA;AAAA,OADA,CAAA;;AAGA,UAAA,KAAA,eAAA,CAAA,OAAA,CAAA,aAAA,MAAA,CAAA,CAAA,EAAA;AACA,aAAA,QAAA,GAAA,QAAA;AACA,OAFA,MAEA;AACA,aAAA,QAAA,GAAA,aAAA,GAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACA;AACA;AA1CA,GAnBA;AA+DA,EAAA,KAAA,EAAA;AACA,IAAA,QADA,oBACA,GADA,EACA,CACA;AACA;AAHA,GA/DA;AAoEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA;AApEA,CAAA","sourcesContent":["<template>\n  <a-locale-provider :locale=\"zhCN\">\n    <div class=\"home\">\n      <a-layout id=\"components-layout-demo-custom-trigger\">\n        <a-layout-sider :trigger=\"null\" collapsible v-model=\"collapsed\">\n          <div class=\"logo\"/>\n          <a-menu\n            theme=\"dark\"\n            :defaultSelectedKeys=\"defaultSelectedKey\"\n            @click=\"handleClick\"\n            mode=\"inline\"\n            :openKeys=\"openKeys\"\n            @openChange=\"onOpenChange\"\n          >\n            <a-sub-menu :key=\"item.id\" v-for=\"(item) of this.navList\">\n              <span slot=\"title\">\n                <span class=\"iconfont\" :class=\"`${item.icon}`\"></span>\n                <span>{{ item.name }}</span>\n              </span>\n              <!-- 判断二级目录 -->\n              <a-menu-item\n                v-for=\"cItem of item.childrens\"\n                v-if=\"cItem.childrens === null ? ifChildren : !ifChildren\"\n                :key=\"cItem.id\"\n              >\n                <router-link :to=\"cItem.url\">{{ cItem.name }}</router-link>\n              </a-menu-item>\n              <!-- 判断三级目录 -->\n              <a-sub-menu\n                v-if=\"cItem.childrens === null ? !ifChildren : ifChildren\"\n                :key=\"cItem.id\"\n                v-for=\"(cItem) of item.childrens\"\n                :title=\"cItem.name\"\n              >\n                <a-menu-item v-for=\"ccItem of cItem.childrens\" :key=\"ccItem.id\">\n                  <router-link :to=\"ccItem.url\">{{ ccItem.name }}</router-link>\n                </a-menu-item>\n              </a-sub-menu>\n            </a-sub-menu>\n          </a-menu>\n        </a-layout-sider>\n        <a-layout>\n          <a-layout-header style=\"background: #FFF; padding: 0\">\n            <a-icon\n              class=\"trigger\"\n              :type=\"collapsed ? 'menu-unfold' : 'menu-fold'\"\n              @click=\"()=> collapsed = !collapsed\"\n            />\n            <HeaderMenu/>\n          </a-layout-header>\n          <a-layout-content\n            :style=\"{ margin: '0', padding: '0 24px', background: '#FFF', minHeight: '0' }\"\n          >\n            <router-view/>\n          </a-layout-content>\n        </a-layout>\n      </a-layout>\n    </div>\n  </a-locale-provider>\n</template>\n\n<script>\n// @ is an alias to /src\nimport HeaderMenu from '@/components/headerMenu/HeaderMenu'\nimport zhCN from 'ant-design-vue/lib/locale-provider/zh_CN'\nimport { defaultPermission } from 'utils/nav.js'\nimport { get } from '../api/axios.js'\nimport api from '../api/index.js'\nimport { setTimeout } from 'timers'\n\nexport default {\n  name: 'home',\n  data() {\n    return {\n      zhCN,\n      collapsed: false,\n      rootSubmenuKeys: [],\n      openKeys: [],\n      defaultSelectedKey: [],\n      navList: [],\n      ifChildren: true\n    }\n  },\n  created() {\n    this.getNavList()\n  },\n  mounted() {\n    this.$router.replace('/permission')\n  },\n  methods: {\n    // 初始化nav\n    getNavList() {\n      get(api.getNav)\n        .then(res => {\n          if (res.data.code === 0) {\n            this.navList = res.data.data\n            // 初始化清空\n            this.rootSubmenuKeys = []\n            this.openKeys = []\n            res.data.data.forEach(item => {\n              this.rootSubmenuKeys.push(item.id)\n              // console.log(item.childrens)\n            })\n            // console.log(this.rootSubmenuKeys.pop())\n            // 设置默认展开项\n            // this.openKeys.push(this.rootSubmenuKeys[0])\n            return false\n          }\n          this.$message.error('请求超时')\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    handleClick(e) {\n      const params = {\n        funcId: e.key,\n        pageType: 'LIST'\n      }\n      defaultPermission(params)\n      this.$store.commit('serFuncIdArray', e.keyPath[0])\n    },\n    onOpenChange(openKeys) {\n      const latestOpenKey = openKeys.find(\n        key => this.openKeys.indexOf(key) === -1\n      )\n      if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        this.openKeys = openKeys\n      } else {\n        this.openKeys = latestOpenKey ? [latestOpenKey] : []\n      }\n    }\n  },\n  watch: {\n    openKeys(val) {\n      // console.log('openKeys', val)\n    }\n  },\n  components: {\n    HeaderMenu\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.home {\n  height: 100%;\n  .ant-layout {\n    height: 100%;\n  }\n  .breadcrumb-list {\n    margin: 12px 24px;\n  }\n}\n#components-layout-demo-custom-trigger .trigger {\n  font-size: 18px;\n  line-height: 64px;\n  padding: 0 24px;\n  cursor: pointer;\n  transition: color 0.3s;\n}\n\n#components-layout-demo-custom-trigger .trigger:hover {\n  color: #1890ff;\n}\n\n#components-layout-demo-custom-trigger .logo {\n  height: 32px;\n  background: rgba(255, 255, 255, 0.2);\n  margin: 16px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}