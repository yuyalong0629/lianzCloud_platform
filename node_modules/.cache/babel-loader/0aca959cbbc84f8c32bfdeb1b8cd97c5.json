{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/category/getCategory.js","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/category/getCategory.js","mtime":1556435853971},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\nimport api from '@/api/index.js';\nimport { get, postJson, deleted, put } from '@/api/axios.js';\n/**\n * @description: 产品分类初始化数据\n * @param {currentPage} 页数\n * @param {pageSize}  每页显示数据条数\n * @return getCategoryTree\n */\n\nexport function getCategoryTree() {\n  var _this = this;\n\n  var currentPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  var pageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  this.loading = true;\n  return get(api.categoryTree + currentPage + '/' + pageSize).then(function (res) {\n    var getList = res.data.data;\n\n    if (res.data.code === 0) {\n      _this.loading = false;\n      _this.pagination.total = Number(getList.total);\n      _this.data = [];\n      getList.records.forEach(function (item) {\n        _this.data.push({\n          id: item.id,\n          name: item.name,\n          code: item.code,\n          remark: item.remark,\n          childrens: item.childrens === null ? '' : item.childrens\n        });\n      });\n      console.log(_this.data);\n    }\n  }).catch(function (err) {\n    console.log(err);\n    _this.loading = false;\n  });\n}\n/**\n * @description: 获取客户分类所有客户\n * @param {type}\n * @return getListCompanyCusts\n */\n\nexport function getListCompanyCusts() {\n  var _this2 = this;\n\n  return get(api.listCompanyCusts).then(function (res) {\n    var getListCust = res.data;\n\n    if (getListCust.code === 0) {\n      _this2.selectOptions = [];\n      getListCust.data.forEach(function (item) {\n        _this2.selectOptions.push({\n          'name': item.custShortName,\n          'custId': item.id\n        });\n      });\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 产品分类获取客户分类所有上级分类\n * @param {custId} 客户ID\n * @return getCustList\n */\n\nexport function getCustList(id) {\n  var _this3 = this;\n\n  return get(api.categoryCustList, {\n    custId: id\n  }).then(function (res) {\n    var custlist = res.data.data;\n    console.log(custlist);\n\n    if (res.data.code === 0) {\n      _this3.options = custlist;\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 获取公司分类所有商品分类\n * @param {type}\n * @return getGoodsList\n */\n\nexport function getGoodsList() {\n  var _this4 = this;\n\n  return get(api.categoryList).then(function (res) {\n    var goodlist = res.data.data;\n\n    if (res.data.code === 0) {\n      _this4.options = goodlist;\n      console.log(goodlist);\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 添加商品分类表单提交\n * @param {params} 表单字段\n * @return postCategoryAdd\n */\n\nexport function postCategoryAdd(params) {\n  var _this5 = this;\n\n  return postJson(api.categoryAdd, params).then(function (res) {\n    if (res.data.code === 0) {\n      console.log(res);\n\n      _this5.$message.success('添加成功');\n\n      _this5.$emit('isVisible', false);\n\n      return false;\n    }\n\n    _this5.$message.error(res.data.msg);\n\n    _this5.$emit('isVisible', true);\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 产品分类Tab列表点击查看详情\n * @param {type}\n * @return: getCategoryDetail\n */\n\nexport function getCategoryDetail(catId) {\n  var _this6 = this;\n\n  return get(api.viewCategory + catId).then(function (res) {\n    console.log(res.data);\n\n    if (res.data.code === 0) {\n      var viewCategoryInfo = {\n        id: res.data.data.id,\n        code: res.data.data.code,\n        custId: res.data.data.custId,\n        parentClassname: res.data.data.pcat ? res.data.data.pcat.name : '无上级分类',\n        name: res.data.data.name,\n        pid: res.data.data.pid,\n        remark: res.data.data.remark\n      };\n      _this6.viewCategoryInfo = viewCategoryInfo;\n      console.log(_this6.viewCategoryInfo);\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n} // 详情回填\n\n/**\n * @description: 产品分类详情回填显示\n * @param {categoryCustomer} 所属客户\n * @param {categoryClassName} 分类名称\n * @param {categorySuperiorNO} 上级分类\n * @param {categoryRemarks} 备注信息\n * @return: detailInfoShow\n */\n\nexport function detailInfoShow(categoryRemarks, categoryClassName, categoryCustomer, categorySuperiorNO) {\n  return this.cateGoryInfo.setFieldsValue({\n    categoryRemarks: categoryRemarks,\n    categoryClassName: categoryClassName,\n    categoryCustomer: categoryCustomer,\n    categorySuperiorNO: categorySuperiorNO\n  });\n}\n/**\n * @description: table产品分类删除操作\n * @param {type}\n * @return removeCategory\n */\n\nexport function deleteCategory(params) {\n  var _this7 = this;\n\n  return deleted(api.categoryRemove + \"?cids=\".concat(params)).then(function (res) {\n    if (res.data.code === 0) {\n      _this7.loading = false;\n\n      _this7.$message.success('删除成功');\n\n      _this7.isVisible = false;\n\n      _this7.$emit('isVisible', _this7.isVisible);\n\n      return false;\n    }\n\n    if (res.data.code === 1) {\n      _this7.loading = false;\n      _this7.isVisible = true;\n\n      _this7.$emit('isVisible', _this7.isVisible);\n\n      _this7.$message.error(res.data.msg);\n\n      return false;\n    }\n  }).catch(function (err) {\n    console.log(err);\n\n    _this7.$message.error('请求错误');\n\n    _this7.loading = false;\n  });\n}\n/**\n * @description: 产品列表详情页编辑保存\n * @param {params} form\n * @return: onSave\n */\n\nexport function onSave(params) {\n  var _this8 = this;\n\n  return put(api.categorySave, params).then(function (res) {\n    console.log(res);\n\n    if (res.data.code === 0) {\n      _this8.loading = false;\n\n      _this8.$message.success('修改成功');\n\n      _this8.isVisible = false;\n\n      _this8.$emit('isVisible', _this8.isVisible);\n\n      return false;\n    }\n\n    _this8.loading = false;\n    _this8.isVisible = true;\n\n    _this8.$emit('isVisible', _this8.isVisible);\n\n    _this8.$message.error(res.data.msg);\n  }).catch(function (err) {\n    console.log(err);\n  });\n}",{"version":3,"sources":["/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/category/getCategory.js"],"names":["api","get","postJson","deleted","put","getCategoryTree","currentPage","pageSize","loading","categoryTree","then","res","getList","data","code","pagination","total","Number","records","forEach","item","push","id","name","remark","childrens","console","log","catch","err","getListCompanyCusts","listCompanyCusts","getListCust","selectOptions","custShortName","getCustList","categoryCustList","custId","custlist","options","getGoodsList","categoryList","goodlist","postCategoryAdd","params","categoryAdd","$message","success","$emit","error","msg","getCategoryDetail","catId","viewCategory","viewCategoryInfo","parentClassname","pcat","pid","detailInfoShow","categoryRemarks","categoryClassName","categoryCustomer","categorySuperiorNO","cateGoryInfo","setFieldsValue","deleteCategory","categoryRemove","isVisible","onSave","categorySave"],"mappings":"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","sourcesContent":["import api from '@/api/index.js'\nimport { get, postJson, deleted, put } from '@/api/axios.js'\n\n/**\n * @description: 产品分类初始化数据\n * @param {currentPage} 页数\n * @param {pageSize}  每页显示数据条数\n * @return getCategoryTree\n */\nexport function getCategoryTree(currentPage = 1, pageSize = 5) {\n  this.loading = true\n  return get(api.categoryTree + currentPage + '/' + pageSize)\n    .then(res => {\n      const getList = res.data.data\n      if (res.data.code === 0) {\n        this.loading = false\n        this.pagination.total = Number(getList.total)\n        this.data = []\n        getList.records.forEach(item => {\n          this.data.push({\n            id: item.id,\n            name: item.name,\n            code: item.code,\n            remark: item.remark,\n            childrens: item.childrens === null ? '' : item.childrens\n          })\n        })\n        console.log(this.data)\n      }\n    })\n    .catch(err => {\n      console.log(err)\n      this.loading = false\n    })\n}\n\n/**\n * @description: 获取客户分类所有客户\n * @param {type}\n * @return getListCompanyCusts\n */\nexport function getListCompanyCusts() {\n  return get(api.listCompanyCusts).then(res => {\n    const getListCust = res.data\n    if (getListCust.code === 0) {\n      this.selectOptions = []\n      getListCust.data.forEach(item => {\n        this.selectOptions.push({\n          'name': item.custShortName,\n          'custId': item.id\n        })\n      })\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 产品分类获取客户分类所有上级分类\n * @param {custId} 客户ID\n * @return getCustList\n */\nexport function getCustList(id) {\n  return get(api.categoryCustList, { custId: id }).then(res => {\n    const custlist = res.data.data\n    console.log(custlist)\n    if (res.data.code === 0) {\n      this.options = custlist\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 获取公司分类所有商品分类\n * @param {type}\n * @return getGoodsList\n */\n\nexport function getGoodsList() {\n  return get(api.categoryList).then(res => {\n    const goodlist = res.data.data\n    if (res.data.code === 0) {\n      this.options = goodlist\n      console.log(goodlist)\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 添加商品分类表单提交\n * @param {params} 表单字段\n * @return postCategoryAdd\n */\nexport function postCategoryAdd(params) {\n  return postJson(api.categoryAdd, params).then(res => {\n    if (res.data.code === 0) {\n      console.log(res)\n      this.$message.success('添加成功')\n      this.$emit('isVisible', false)\n      return false\n    }\n    this.$message.error(res.data.msg)\n    this.$emit('isVisible', true)\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 产品分类Tab列表点击查看详情\n * @param {type}\n * @return: getCategoryDetail\n */\nexport function getCategoryDetail(catId) {\n  return get(api.viewCategory + catId).then(res => {\n    console.log(res.data)\n    if (res.data.code === 0) {\n      const viewCategoryInfo = {\n        id: res.data.data.id,\n        code: res.data.data.code,\n        custId: res.data.data.custId,\n        parentClassname: res.data.data.pcat ? res.data.data.pcat.name : '无上级分类',\n        name: res.data.data.name,\n        pid: res.data.data.pid,\n        remark: res.data.data.remark\n      }\n      this.viewCategoryInfo = viewCategoryInfo\n      console.log(this.viewCategoryInfo)\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n// 详情回填\n/**\n * @description: 产品分类详情回填显示\n * @param {categoryCustomer} 所属客户\n * @param {categoryClassName} 分类名称\n * @param {categorySuperiorNO} 上级分类\n * @param {categoryRemarks} 备注信息\n * @return: detailInfoShow\n */\nexport function detailInfoShow(categoryRemarks, categoryClassName, categoryCustomer, categorySuperiorNO) {\n  return this.cateGoryInfo.setFieldsValue({\n    categoryRemarks: categoryRemarks,\n    categoryClassName: categoryClassName,\n    categoryCustomer: categoryCustomer,\n    categorySuperiorNO: categorySuperiorNO\n  })\n}\n\n/**\n * @description: table产品分类删除操作\n * @param {type}\n * @return removeCategory\n */\nexport function deleteCategory(params) {\n  return deleted(api.categoryRemove + `?cids=${params}`).then((res) => {\n    if (res.data.code === 0) {\n      this.loading = false\n      this.$message.success('删除成功')\n      this.isVisible = false\n      this.$emit('isVisible', this.isVisible)\n      return false\n    }\n    if (res.data.code === 1) {\n      this.loading = false\n      this.isVisible = true\n      this.$emit('isVisible', this.isVisible)\n      this.$message.error(res.data.msg)\n      return false\n    }\n  }).catch((err) => {\n    console.log(err)\n    this.$message.error('请求错误')\n    this.loading = false\n  })\n}\n\n/**\n * @description: 产品列表详情页编辑保存\n * @param {params} form\n * @return: onSave\n */\nexport function onSave(params) {\n  return put(api.categorySave, params).then(res => {\n    console.log(res)\n    if (res.data.code === 0) {\n      this.loading = false\n      this.$message.success('修改成功')\n      this.isVisible = false\n      this.$emit('isVisible', this.isVisible)\n      return false\n    }\n    this.loading = false\n    this.isVisible = true\n    this.$emit('isVisible', this.isVisible)\n    this.$message.error(res.data.msg)\n  }).catch(err => {\n    console.log(err)\n  })\n}\n"]}]}