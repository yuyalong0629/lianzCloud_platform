{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/pdm/catattr/basic_lib/index.js","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/pdm/catattr/basic_lib/index.js","mtime":1558525517335},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\nimport api from '@/api/index.js';\nimport { get, postJson, put } from '@/api/axios.js';\n/**\n * @description: 所有分类的所有属性列表\n * @param {Number} currentPage [页数]\n * @param {Number} pageSize  [每页显示数据条数]\n * @return getCategoryTree\n */\n\nexport function getCategoryTree() {\n  var _this = this;\n\n  var currentPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  var pageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 15;\n  this.loading = true;\n  return get(api.catattrList + currentPage + '/' + pageSize).then(function (res) {\n    var getList = res.data.data;\n\n    if (res.data.code === 0) {\n      _this.loading = false;\n      _this.pagination.total = Number(getList.total);\n      _this.data = [];\n      getList.records.forEach(function (item) {\n        _this.data.push({\n          id: item.id,\n          catname: item.catname,\n          name: item.name,\n          custId: item.custId,\n          code: item.code,\n          remark: item.remark,\n          childrens: item.childrens === null ? '' : item.childrens\n        });\n      });\n      console.log(_this.data);\n    }\n  }).catch(function (err) {\n    console.log(err);\n    _this.loading = false;\n  });\n}\n/**\n * @description: 根据客户或者公司ID获取所有商品分类\n * @param {String} custId [客户ID]\n * @return getCustList\n */\n\nexport function getCategoryList() {\n  var _this2 = this;\n\n  return get(api.categoryList).then(function (res) {\n    if (res.data.code === 0) {\n      _this2.options = res.data.data;\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 属性分类添加提交\n * @param {Object} params form表单字段\n * @return: catattrForm\n */\n\nexport function catattrForm(params) {\n  var _this3 = this;\n\n  return postJson(api.catattrSubmit, params).then(function (res) {\n    console.log(res);\n\n    if (res.data.code === 0) {\n      _this3.loading = false;\n      _this3.loading = false;\n\n      _this3.$message.success('添加成功');\n\n      _this3.$emit('isDrawer', false);\n\n      return false;\n    }\n\n    _this3.loading = false;\n\n    _this3.$message.error(res.data.msg);\n\n    _this3.$emit('isDrawer', true);\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 属性分类Tab列表点击查看详情\n * @param {String} catAttrId 属性名称ID\n * @return: getCategoryDetail\n */\n\nexport function getCatattrDetail(catAttrId) {\n  var _this4 = this;\n\n  return get(api.catattrDetail + catAttrId).then(function (res) {\n    if (res.data.code === 0) {\n      console.log(res.data);\n      _this4.catattrInfo = res.data.data;\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 详情信息修改保存\n * @param {Object} params [Object]\n * @return: onSave\n */\n\nexport function onSave(params) {\n  var _this5 = this;\n\n  return put(api.catattrSubmit, params).then(function (res) {\n    console.log(res);\n\n    if (res.data.code === 0) {\n      _this5.loading = false;\n      _this5.loading = false;\n\n      _this5.$message.success('保存成功');\n\n      _this5.$emit('isDrawer', false);\n\n      return false;\n    }\n\n    _this5.loading = false;\n\n    _this5.$message.error(res.data.msg);\n\n    _this5.$emit('isDrawer', true);\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: table产品分类删除操作\n * @param {type}\n * @return removeCategory\n */\n// export function deleteCategory(params) {\n//   return deleted(api.categoryRemove + `?cids=${params}`).then((res) => {\n//     if (res.data.code === 0) {\n//       this.loading = false\n//       this.$message.success('删除成功')\n//       this.isVisible = false\n//       this.$emit('isVisible', this.isVisible)\n//       return false\n//     }\n//     if (res.data.code === 1) {\n//       this.loading = false\n//       this.isVisible = true\n//       this.$emit('isVisible', this.isVisible)\n//       this.$message.error(res.data.msg)\n//       return false\n//     }\n//   }).catch((err) => {\n//     console.log(err)\n//     this.$message.error('请求错误')\n//     this.loading = false\n//   })\n// }",{"version":3,"sources":["/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/pdm/catattr/basic_lib/index.js"],"names":["api","get","postJson","put","getCategoryTree","currentPage","pageSize","loading","catattrList","then","res","getList","data","code","pagination","total","Number","records","forEach","item","push","id","catname","name","custId","remark","childrens","console","log","catch","err","getCategoryList","categoryList","options","catattrForm","params","catattrSubmit","$message","success","$emit","error","msg","getCatattrDetail","catAttrId","catattrDetail","catattrInfo","onSave"],"mappings":"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","sourcesContent":["import api from '@/api/index.js'\nimport { get, postJson, put } from '@/api/axios.js'\n\n/**\n * @description: 所有分类的所有属性列表\n * @param {Number} currentPage [页数]\n * @param {Number} pageSize  [每页显示数据条数]\n * @return getCategoryTree\n */\nexport function getCategoryTree(currentPage = 1, pageSize = 15) {\n  this.loading = true\n  return get(api.catattrList + currentPage + '/' + pageSize)\n    .then(res => {\n      const getList = res.data.data\n      if (res.data.code === 0) {\n        this.loading = false\n        this.pagination.total = Number(getList.total)\n        this.data = []\n        getList.records.forEach(item => {\n          this.data.push({\n            id: item.id,\n            catname: item.catname,\n            name: item.name,\n            custId: item.custId,\n            code: item.code,\n            remark: item.remark,\n            childrens: item.childrens === null ? '' : item.childrens\n          })\n        })\n        console.log(this.data)\n      }\n    })\n    .catch(err => {\n      console.log(err)\n      this.loading = false\n    })\n}\n\n/**\n * @description: 根据客户或者公司ID获取所有商品分类\n * @param {String} custId [客户ID]\n * @return getCustList\n */\nexport function getCategoryList() {\n  return get(api.categoryList).then(res => {\n    if (res.data.code === 0) {\n      this.options = res.data.data\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 属性分类添加提交\n * @param {Object} params form表单字段\n * @return: catattrForm\n */\nexport function catattrForm(params) {\n  return postJson(api.catattrSubmit, params).then(res => {\n    console.log(res)\n    if (res.data.code === 0) {\n      this.loading = false\n      this.loading = false\n      this.$message.success('添加成功')\n      this.$emit('isDrawer', false)\n      return false\n    }\n    this.loading = false\n    this.$message.error(res.data.msg)\n    this.$emit('isDrawer', true)\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 属性分类Tab列表点击查看详情\n * @param {String} catAttrId 属性名称ID\n * @return: getCategoryDetail\n */\nexport function getCatattrDetail(catAttrId) {\n  return get(api.catattrDetail + catAttrId).then(res => {\n    if (res.data.code === 0) {\n      console.log(res.data)\n      this.catattrInfo = res.data.data\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 详情信息修改保存\n * @param {Object} params [Object]\n * @return: onSave\n */\nexport function onSave(params) {\n  return put(api.catattrSubmit, params).then(res => {\n    console.log(res)\n    if (res.data.code === 0) {\n      this.loading = false\n      this.loading = false\n      this.$message.success('保存成功')\n      this.$emit('isDrawer', false)\n      return false\n    }\n    this.loading = false\n    this.$message.error(res.data.msg)\n    this.$emit('isDrawer', true)\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: table产品分类删除操作\n * @param {type}\n * @return removeCategory\n */\n// export function deleteCategory(params) {\n//   return deleted(api.categoryRemove + `?cids=${params}`).then((res) => {\n//     if (res.data.code === 0) {\n//       this.loading = false\n//       this.$message.success('删除成功')\n//       this.isVisible = false\n//       this.$emit('isVisible', this.isVisible)\n//       return false\n//     }\n//     if (res.data.code === 1) {\n//       this.loading = false\n//       this.isVisible = true\n//       this.$emit('isVisible', this.isVisible)\n//       this.$message.error(res.data.msg)\n//       return false\n//     }\n//   }).catch((err) => {\n//     console.log(err)\n//     this.$message.error('请求错误')\n//     this.loading = false\n//   })\n// }\n"]}]}