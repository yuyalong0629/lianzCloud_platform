{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/thread-loader/dist/cjs.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/sale/orderList/basic_lib/addAddress.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/sale/orderList/basic_lib/addAddress.vue","mtime":1564056043646},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { postJson } from '@/api/axios.js';\nimport api from '@/api/index.js';\n\nvar areas = require('@/assets/utils/area.js');\n\nexport default {\n  props: {\n    custId: {\n      type: String,\n      default: '',\n      required: false\n    },\n    obj: {\n      type: Object,\n      required: false,\n      default: function _default() {\n        return {\n          area: '',\n          areaStr: '',\n          city: '',\n          cityStr: '',\n          custId: this.custId,\n          defaultGoodsAddr: '',\n          detailAddr: '',\n          phone: '',\n          province: '',\n          provinceStr: '',\n          receiver: '',\n          areas: []\n        };\n      }\n    }\n  },\n  data: function data() {\n    return {\n      areas: areas.areas,\n      defaultAdd: false,\n      form: this.$form.createForm(this)\n    };\n  },\n  methods: {\n    defaultSelect: function defaultSelect(e) {\n      this.defaultAdd = e.target.checked;\n    },\n    areaHandleChange: function areaHandleChange(val, selectedOptions) {\n      if (val.length) {\n        var result = selectedOptions.map(function (o) {\n          return o.name;\n        });\n        this.obj.city = val[0];\n        this.obj.province = val[1];\n        this.obj.area = val[2];\n        this.obj.cityStr = result[0];\n        this.obj.provinceStr = result[1];\n        this.obj.areaStr = result[2];\n      }\n    },\n    handleOk: function handleOk(e) {\n      var _this = this;\n\n      e.preventDefault();\n      var data = this.obj;\n      this.form.validateFields(function (err, val) {\n        if (!err) {\n          data = _objectSpread({}, data, val.obj);\n          data.defaultGoodsAddr = _this.defaultAdd ? 1 : 0;\n          delete data.areas;\n          postJson(api.setAddressIvo, data).then(function (res) {\n            if (res.data.code === 0) {\n              _this.$message.success('添加地址成功');\n            }\n\n            _this.$emit('addressCancel', true);\n          });\n\n          _this.form.resetFields();\n        }\n      });\n    },\n    handleCancel: function handleCancel(e) {\n      this.$emit('addressCancel', false);\n    }\n  }\n};",{"version":3,"sources":["addAddress.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"address\">\n    <a-form :form=\"form\">\n      <a-form-item label=\"收件人姓名\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input\n          v-decorator=\"['obj.receiver',{rules:[{ required: true, message: '请输入收件人姓名'}],initialValue:obj.receiver}]\"\n        />\n      </a-form-item>\n      <a-form-item label=\"所在地区\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-cascader\n          :options=\"areas\"\n          placeholder\n          v-decorator=\"['obj.areas',{rules:[{ required: true, message: '请选择收件人所在地区'}],initialValue:obj.areas}]\"\n          :fieldNames=\"{label:'name',value:'id',children:'childrens'}\"\n          @change=\"areaHandleChange\"\n        />\n      </a-form-item>\n      <a-form-item label=\"街道地址\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input\n          v-decorator=\"['obj.detailAddr',{rules:[{ required: true, message: '请输入收件人详细地址'}],initialValue:obj.detailAddr}]\"\n        />\n      </a-form-item>\n      <a-form-item label=\"手机号码\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 16 }\" required>\n        <a-input\n          v-decorator=\"['obj.phone',{rules:[{ required: true, message: '请输入收件人手机号码'}],initialValue:obj.phone}]\"\n          max=\"11\"\n        />\n      </a-form-item>\n      <a-form-item :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 14,offset:5 }\">\n        <a-checkbox @change=\"defaultSelect\" :defaultChecked=\"defaultAdd\">设为默认收货地址</a-checkbox>\n      </a-form-item>\n      <a-form-item style=\"text-align:center\">\n        <a-button\n          type=\"primary\"\n          style=\"background:#8F939A;border:none;margin-right:8px;\"\n          @click=\"handleCancel\"\n        >关闭</a-button>\n        <a-button type=\"primary\" style=\"background:#F0BB2E;border:none;\" @click=\"handleOk\">保存</a-button>\n      </a-form-item>\n    </a-form>\n  </div>\n</template>\n\n<script>\nimport { postJson } from '@/api/axios.js'\nimport api from '@/api/index.js'\nconst areas = require('@/assets/utils/area.js')\nexport default {\n  props: {\n    custId: {\n      type: String,\n      default: '',\n      required: false\n    },\n    obj: {\n      type: Object,\n      required: false,\n      default: function () {\n        return {\n          area: '',\n          areaStr: '',\n          city: '',\n          cityStr: '',\n          custId: this.custId,\n          defaultGoodsAddr: '',\n          detailAddr: '',\n          phone: '',\n          province: '',\n          provinceStr: '',\n          receiver: '',\n          areas: []\n        }\n      }\n    }\n  },\n  data() {\n    return {\n      areas: areas.areas,\n      defaultAdd: false,\n      form: this.$form.createForm(this)\n    }\n  },\n\n  methods: {\n    defaultSelect(e) {\n      this.defaultAdd = e.target.checked\n    },\n    areaHandleChange(val, selectedOptions) {\n      if (val.length) {\n        const result = selectedOptions.map(o => o.name)\n        this.obj.city = val[0]\n        this.obj.province = val[1]\n        this.obj.area = val[2]\n        this.obj.cityStr = result[0]\n        this.obj.provinceStr = result[1]\n        this.obj.areaStr = result[2]\n      }\n    },\n    handleOk(e) {\n      e.preventDefault()\n      let data = this.obj\n      this.form.validateFields(\n        (err, val) => {\n          if (!err) {\n            data = { ...data, ...(val.obj) }\n            data.defaultGoodsAddr = this.defaultAdd ? 1 : 0\n            delete data.areas\n            postJson(api.setAddressIvo, data).then(res => {\n              if (res.data.code === 0) {\n                this.$message.success('添加地址成功')\n              }\n              this.$emit('addressCancel', true)\n            })\n            this.form.resetFields()\n          }\n        }\n      )\n    },\n    handleCancel(e) {\n      this.$emit('addressCancel', false)\n    }\n  }\n}\n</script>\n\n<style lang='less' scoped>\n@import \"~styles/variable.less\";\n\n.inputWidth {\n  .inputWidth();\n}\n</style>\n"],"sourceRoot":"src/views/sale/orderList/basic_lib"}]}