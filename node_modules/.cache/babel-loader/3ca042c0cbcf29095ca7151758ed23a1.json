{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/pdm/goods/basic_lib/index.js","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/pdm/goods/basic_lib/index.js","mtime":1559203853480},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.function.name\";\nimport api from 'api/index';\nimport { postJson, get } from 'api/axios';\n/**\n * @description: 成品列表商品搜索Tab列表\n * @param {Object} params [params]\n * @param {Number} currentPage [分页查询的第几页]\n * @param {Number} pageSize [分页查询每页多少条数据]\n * @param {Number} custId [搜索公司哪个客户定制的商品custId为0搜索的都是商家标准品custId>0搜索客户订制品]\n * @param {Array} keywords [关键词(产品名称，产品规格)]\n * @param {String} skuCode [产品编码]\n * @param {String} skuType [产品类别（弹簧、原材料、其他等）]\n * @param {String} catIds [商品所属分类]\n * @param {String} springType [弹簧类型]\n * @return: searchGoods\n */\n\nexport function searchGoods(_ref) {\n  var _this = this;\n\n  var _ref$pageSize = _ref.pageSize,\n      pageSize = _ref$pageSize === void 0 ? 15 : _ref$pageSize,\n      _ref$currentPage = _ref.currentPage,\n      currentPage = _ref$currentPage === void 0 ? 1 : _ref$currentPage,\n      _ref$custId = _ref.custId,\n      custId = _ref$custId === void 0 ? 0 : _ref$custId,\n      keywords = _ref.keywords,\n      skuCode = _ref.skuCode,\n      springType = _ref.springType;\n  this.loading = true;\n  return postJson(api.searchGoods, {\n    pageSize: pageSize,\n    currentPage: currentPage,\n    custId: custId,\n    keywords: keywords,\n    skuCode: skuCode,\n    springType: springType\n  }).then(function (res) {\n    if (res.data.code === 0) {\n      // console.log(res)\n      _this.loading = false;\n      _this.data = [];\n      _this.pagination.total = +res.data.data.total;\n      res.data.data.records.forEach(function (e) {\n        _this.data.push({\n          key: e.sku.code,\n          code: e.sku.code,\n          name: e.sku.name,\n          time: e.sku.createTime,\n          remark: e.sku.remark,\n          status: e.sku.status\n        });\n      });\n      return;\n    }\n\n    _this.loading = false;\n  }).catch(function (err) {\n    console.log(err);\n    _this.loading = false;\n  });\n}\n/**\n * @description: 产品编码模糊搜索\n * @param {String} value [监听选中的值]\n * @param {Function} callback [回调]\n * @return: custNamefetch\n */\n\nvar timeout;\nvar currentValue;\nexport function custNamefetch(value, callback) {\n  if (timeout) {\n    clearTimeout(timeout);\n    timeout = null;\n  }\n\n  currentValue = value;\n\n  function fake() {\n    get(api.listCustomerNames + \"?custName=\".concat(value)).then(function (res) {\n      if (currentValue === value) {\n        var data = [];\n        data.push.apply(data, _toConsumableArray(res.data));\n        callback(data);\n      }\n    });\n  }\n\n  timeout = setTimeout(fake, 300);\n}\n/**\n * @description: 列表商家所有商品的商品名称\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\n\nexport function listCompanyGoodsCode(number) {\n  var _this2 = this;\n\n  return get(api.listCompanyGoodsCode + \"?currentPage=\".concat(number, \"&pageSize=10\")).then(function (res) {\n    var data = _this2.selectCodeData;\n\n    if (res.data.code === 0) {\n      _this2.selectCodeData = data.concat(res.data.data.records).filter(function (item) {\n        return item !== null;\n      }); // console.log(this.selectCodeData)\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 列表商家所有商品的商品名称\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\n\nexport function listCompanyGoodsName(num) {\n  var _this3 = this;\n\n  return get(api.listCompanyGoodsName + \"?currentPage=\".concat(num, \"&pageSize=10\")).then(function (res) {\n    var data = _this3.selectData;\n\n    if (res.data.code === 0) {\n      _this3.selectData = data.concat(res.data.data.records).filter(function (item) {\n        return item !== null;\n      }); // console.log(this.selectData)\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 获取成品分类\n * @param {Objecg} null\n * @return: getGoodsClass\n */\n\nexport function getGoodsClass() {\n  var _this4 = this;\n\n  return get(api.categoryList).then(function (res) {\n    if (res.data.code === 0) {\n      _this4.options = res.data.data;\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}",{"version":3,"sources":["/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/pdm/goods/basic_lib/index.js"],"names":["api","postJson","get","searchGoods","pageSize","currentPage","custId","keywords","skuCode","springType","loading","then","res","data","code","pagination","total","records","forEach","e","push","key","sku","name","time","createTime","remark","status","catch","err","console","log","timeout","currentValue","custNamefetch","value","callback","clearTimeout","fake","listCustomerNames","setTimeout","listCompanyGoodsCode","number","selectCodeData","concat","filter","item","listCompanyGoodsName","num","selectData","getGoodsClass","categoryList","options"],"mappings":"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","sourcesContent":["import api from 'api/index'\nimport { postJson, get } from 'api/axios'\n\n/**\n * @description: 成品列表商品搜索Tab列表\n * @param {Object} params [params]\n * @param {Number} currentPage [分页查询的第几页]\n * @param {Number} pageSize [分页查询每页多少条数据]\n * @param {Number} custId [搜索公司哪个客户定制的商品custId为0搜索的都是商家标准品custId>0搜索客户订制品]\n * @param {Array} keywords [关键词(产品名称，产品规格)]\n * @param {String} skuCode [产品编码]\n * @param {String} skuType [产品类别（弹簧、原材料、其他等）]\n * @param {String} catIds [商品所属分类]\n * @param {String} springType [弹簧类型]\n * @return: searchGoods\n */\nexport function searchGoods({ pageSize = 15, currentPage = 1, custId = 0, keywords, skuCode, springType }) {\n  this.loading = true\n  return postJson(api.searchGoods, { pageSize, currentPage, custId, keywords, skuCode, springType }).then(res => {\n    if (res.data.code === 0) {\n      // console.log(res)\n      this.loading = false\n      this.data = []\n      this.pagination.total = +res.data.data.total\n      res.data.data.records.forEach(e => {\n        this.data.push({\n          key: e.sku.code,\n          code: e.sku.code,\n          name: e.sku.name,\n          time: e.sku.createTime,\n          remark: e.sku.remark,\n          status: e.sku.status\n        })\n      })\n      return\n    }\n    this.loading = false\n  }).catch(err => {\n    console.log(err)\n    this.loading = false\n  })\n}\n\n/**\n * @description: 产品编码模糊搜索\n * @param {String} value [监听选中的值]\n * @param {Function} callback [回调]\n * @return: custNamefetch\n */\nlet timeout\nlet currentValue\nexport function custNamefetch(value, callback) {\n  if (timeout) {\n    clearTimeout(timeout)\n    timeout = null\n  }\n  currentValue = value\n  function fake() {\n    get(api.listCustomerNames + `?custName=${value}`)\n      .then((res) => {\n        if (currentValue === value) {\n          const data = []\n          data.push(...res.data)\n          callback(data)\n        }\n      })\n  }\n  timeout = setTimeout(fake, 300)\n}\n\n/**\n * @description: 列表商家所有商品的商品名称\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\nexport function listCompanyGoodsCode(number) {\n  return get(api.listCompanyGoodsCode + `?currentPage=${number}&pageSize=10`).then(res => {\n    const data = this.selectCodeData\n    if (res.data.code === 0) {\n      this.selectCodeData = data.concat(res.data.data.records).filter(item => {\n        return item !== null\n      })\n      // console.log(this.selectCodeData)\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 列表商家所有商品的商品名称\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\nexport function listCompanyGoodsName(num) {\n  return get(api.listCompanyGoodsName + `?currentPage=${num}&pageSize=10`).then(res => {\n    const data = this.selectData\n    if (res.data.code === 0) {\n      this.selectData = data.concat(res.data.data.records).filter(item => {\n        return item !== null\n      })\n      // console.log(this.selectData)\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 获取成品分类\n * @param {Objecg} null\n * @return: getGoodsClass\n */\nexport function getGoodsClass() {\n  return get(api.categoryList).then(res => {\n    if (res.data.code === 0) {\n      this.options = res.data.data\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n"]}]}