{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/platformtmp/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/platformtmp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuyalong/myProjects/lianzhiyun/projects/platformtmp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/platformtmp/src/components/headerMenu/HeaderMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/platformtmp/src/components/headerMenu/HeaderMenu.vue","mtime":1556420575731},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/platformtmp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/platformtmp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/platformtmp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/platformtmp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { post, get } from \"@/api/axios.js\";\nimport api from \"@/api/index.js\";\nimport HeaderNotice from \"./HeaderNotice\";\nexport default {\n  name: \"HeaderMenu\",\n  data: function data() {\n    return {\n      visible: false,\n      password: \"\"\n    };\n  },\n  methods: {\n    handleLogout: function handleLogout() {\n      var that = this;\n      this.$confirm({\n        title: \"提示\",\n        content: \"真的要注销登录吗 ?\",\n        onOk: function onOk() {\n          that.$router.replace(\"/login\");\n          localStorage.removeItem(\"ACCESS_TOKEN\");\n        },\n        onCancel: function onCancel() {}\n      });\n    },\n    showModal: function showModal() {\n      this.visible = true;\n    },\n    handleOk: function handleOk(e) {\n      var _this = this;\n\n      get(api.getBackStageUrl).then(function (res) {\n        if (res.data.code == 0) {\n          var url = res.data.data;\n          post(api.companyValidate, {\n            password: _this.password\n          }).then(function (res) {\n            if (res.data.code === 0) {\n              if (!res.data.data.match) {\n                _this.$message.error(res.data.data.msg);\n\n                return;\n              }\n\n              _this.visible = false;\n              window.open(\"\".concat(url, \"/#/workbench?key=\").concat(res.data.data.key)); // window.open(`http://192.168.1.121:8080/#/workbench?key=${res.data.data.key}`);\n            } else {\n              _this.$message.error(res.data.msg);\n            }\n          });\n        }\n      });\n    },\n    handleCancel: function handleCancel(e) {\n      this.visible = false;\n    }\n  },\n  components: {\n    HeaderNotice: HeaderNotice\n  }\n};",{"version":3,"sources":["HeaderMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,SAAA,IAAA,EAAA,GAAA,QAAA,gBAAA;AACA,OAAA,GAAA,MAAA,gBAAA;AACA,OAAA,YAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,IAAA,GAAA,IAAA;AAEA,WAAA,QAAA,CAAA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA,YAFA;AAGA,QAAA,IAHA,kBAGA;AACA,UAAA,IAAA,CAAA,OAAA,CAAA,OAAA,CAAA,QAAA;AACA,UAAA,YAAA,CAAA,UAAA,CAAA,cAAA;AACA,SANA;AAOA,QAAA,QAPA,sBAOA,CAAA;AAPA,OAAA;AASA,KAbA;AAcA,IAAA,SAdA,uBAcA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KAhBA;AAiBA,IAAA,QAjBA,oBAiBA,CAjBA,EAiBA;AAAA;;AACA,MAAA,GAAA,CAAA,GAAA,CAAA,eAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,cAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,IAAA,CAAA,GAAA,CAAA,eAAA,EAAA;AAAA,YAAA,QAAA,EAAA,KAAA,CAAA;AAAA,WAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,kBAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AACA,gBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;;AACA;AACA;;AACA,cAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,cAAA,MAAA,CAAA,IAAA,WAAA,GAAA,8BAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,GANA,CAOA;AACA,aARA,MAQA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,WAZA;AAaA;AACA,OAjBA;AAkBA,KApCA;AAqCA,IAAA,YArCA,wBAqCA,CArCA,EAqCA;AACA,WAAA,OAAA,GAAA,KAAA;AACA;AAvCA,GARA;AAiDA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA;AAjDA,CAAA","sourcesContent":["<template>\n  <div class=\"headerMenu\">\n    <HeaderNotice class=\"action\"/>\n    <a-dropdown>\n      <span class=\"action ant-dropdown-link user-dropdown-menu\">\n        <a-avatar style=\"backgroundColor:#87d068\" icon=\"user\"/>\n        <span class=\"username\">至尊宝</span>\n      </span>\n      <a-menu slot=\"overlay\" class=\"user-dropdown-menu-wrapper\">\n        <a-menu-item key=\"0\">\n          <router-link to=\"/\">\n            <a-icon type=\"user\"/>\n            <span>个人中心</span>\n          </router-link>\n        </a-menu-item>\n        <a-menu-item key=\"1\">\n          <router-link to=\"/\">\n            <a-icon type=\"setting\"/>\n            <span>账户设置</span>\n          </router-link>\n        </a-menu-item>\n        <a-menu-item key=\"2\" disabled>\n          <a-icon type=\"setting\"/>\n          <span>测试</span>\n        </a-menu-item>\n        <a-menu-divider/>\n        <a-menu-item key=\"3\">\n          <a href=\"javascript:;\" @click=\"handleLogout\">\n            <a-icon type=\"logout\"/>\n            <span>退出登录</span>\n          </a>\n        </a-menu-item>\n      </a-menu>\n    </a-dropdown>\n    <!-- 外链 -->\n    <!-- <a-icon type=\"branches\" @click=\"showModal\"/> -->\n    <a href=\"javascript:;\" @click=\"showModal\">\n      <a-icon type=\"branches\" @click=\"showModal\"/>\n    </a>\n    <a-modal title=\"请输入管理员密码\" :visible=\"visible\" @ok=\"handleOk\" @cancel=\"handleCancel\">\n      <a-input placeholder=\"请输入管理员密码\" type=\"password\" v-model=\"password\"/>\n    </a-modal>\n  </div>\n</template>\n<script>\nimport { post, get } from \"@/api/axios.js\";\nimport api from \"@/api/index.js\";\nimport HeaderNotice from \"./HeaderNotice\";\n\nexport default {\n  name: \"HeaderMenu\",\n  data() {\n    return {\n      visible: false,\n      password: \"\"\n    };\n  },\n  methods: {\n    handleLogout() {\n      const that = this;\n\n      this.$confirm({\n        title: \"提示\",\n        content: \"真的要注销登录吗 ?\",\n        onOk() {\n          that.$router.replace(\"/login\");\n          localStorage.removeItem(\"ACCESS_TOKEN\");\n        },\n        onCancel() {}\n      });\n    },\n    showModal() {\n      this.visible = true;\n    },\n    handleOk(e) {\n      get(api.getBackStageUrl).then(res => {\n        if (res.data.code == 0) {\n          var url = res.data.data;\n          post(api.companyValidate, { password: this.password }).then(res => {\n            if (res.data.code === 0) {\n              if (!res.data.data.match) {\n                this.$message.error(res.data.data.msg);\n                return;\n              }\n              this.visible = false;\n              window.open(`${url}/#/workbench?key=${res.data.data.key}`);\n              // window.open(`http://192.168.1.121:8080/#/workbench?key=${res.data.data.key}`);\n            } else {\n              this.$message.error(res.data.msg);\n            }\n          });\n        }\n      });\n    },\n    handleCancel(e) {\n      this.visible = false;\n    }\n  },\n  components: {\n    HeaderNotice\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.headerMenu {\n  float: right;\n  margin-right: 24px;\n  .action {\n    margin-right: 20px;\n    .username {\n      font-size: 14px;\n      cursor: pointer;\n      margin-left: 5px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/headerMenu"}]}