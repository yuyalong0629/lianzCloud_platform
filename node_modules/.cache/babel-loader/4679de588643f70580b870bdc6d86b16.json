{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/craft/craftLine/child_info/CraftTab.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/craft/craftLine/child_info/CraftTab.vue","mtime":1558939579924},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/core-js/object/assign\";\nimport _toConsumableArray from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { columnsInfo } from '../basic_lib/column.js';\nvar _data = [];\n\nfor (var i = 0; i < 2; i++) {\n  _data.push({\n    key: i.toString(),\n    name: \"Edrward \".concat(i),\n    remark: 32,\n    qc: \"London Park no. \".concat(i),\n    file: \"London Park no. \".concat(i)\n  });\n}\n\nexport default {\n  data: function data() {\n    this.cacheData = _data.map(function (item) {\n      return _objectSpread({}, item);\n    });\n    return {\n      data: _data,\n      columnsInfo: columnsInfo\n    };\n  },\n  methods: {\n    handleChange: function handleChange(value, key, column) {\n      var newData = _toConsumableArray(this.data);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n      console.log(target);\n\n      if (target) {\n        target[column] = value;\n        this.data = newData;\n        console.log(this.data);\n      }\n    },\n    edit: function edit(key) {\n      var newData = _toConsumableArray(this.data);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n\n      if (target) {\n        target.editable = true;\n        this.data = newData;\n      }\n    },\n    save: function save(key) {\n      var newData = _toConsumableArray(this.data);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n\n      if (target) {\n        delete target.editable;\n        this.data = newData;\n        this.cacheData = newData.map(function (item) {\n          return _objectSpread({}, item);\n        });\n      }\n    },\n    cancel: function cancel(key) {\n      var newData = _toConsumableArray(this.data);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n\n      if (target) {\n        _Object$assign(target, this.cacheData.filter(function (item) {\n          return key === item.key;\n        })[0]);\n\n        delete target.editable;\n        this.data = newData;\n      }\n    }\n  }\n};",{"version":3,"sources":["CraftTab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,SAAA,WAAA,QAAA,wBAAA;AAEA,IAAA,KAAA,GAAA,EAAA;;AACA,KAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA,EAAA;AACA,EAAA,KAAA,CAAA,IAAA,CAAA;AACA,IAAA,GAAA,EAAA,CAAA,CAAA,QAAA,EADA;AAEA,IAAA,IAAA,oBAAA,CAAA,CAFA;AAGA,IAAA,MAAA,EAAA,EAHA;AAIA,IAAA,EAAA,4BAAA,CAAA,CAJA;AAKA,IAAA,IAAA,4BAAA,CAAA;AALA,GAAA;AAOA;;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,SAAA,SAAA,GAAA,KAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,+BAAA,IAAA;AAAA,KAAA,CAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA,GADA,EACA,MADA,EACA;AACA,UAAA,OAAA,sBAAA,KAAA,IAAA,CAAA;;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,GAAA,KAAA,IAAA,CAAA,GAAA;AAAA,OAAA,EAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AACA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,GAAA,KAAA;AACA,aAAA,IAAA,GAAA,OAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA;AACA,KAVA;AAWA,IAAA,IAXA,gBAWA,GAXA,EAWA;AACA,UAAA,OAAA,sBAAA,KAAA,IAAA,CAAA;;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,GAAA,KAAA,IAAA,CAAA,GAAA;AAAA,OAAA,EAAA,CAAA,CAAA;;AACA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA,aAAA,IAAA,GAAA,OAAA;AACA;AACA,KAlBA;AAmBA,IAAA,IAnBA,gBAmBA,GAnBA,EAmBA;AACA,UAAA,OAAA,sBAAA,KAAA,IAAA,CAAA;;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,GAAA,KAAA,IAAA,CAAA,GAAA;AAAA,OAAA,EAAA,CAAA,CAAA;;AACA,UAAA,MAAA,EAAA;AACA,eAAA,MAAA,CAAA,QAAA;AACA,aAAA,IAAA,GAAA,OAAA;AACA,aAAA,SAAA,GAAA,OAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,mCAAA,IAAA;AAAA,SAAA,CAAA;AACA;AACA,KA3BA;AA4BA,IAAA,MA5BA,kBA4BA,GA5BA,EA4BA;AACA,UAAA,OAAA,sBAAA,KAAA,IAAA,CAAA;;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,GAAA,KAAA,IAAA,CAAA,GAAA;AAAA,OAAA,EAAA,CAAA,CAAA;;AACA,UAAA,MAAA,EAAA;AACA,uBACA,MADA,EAEA,KAAA,SAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,GAAA,KAAA,IAAA,CAAA,GAAA;AAAA,SAAA,EAAA,CAAA,CAFA;;AAIA,eAAA,MAAA,CAAA,QAAA;AACA,aAAA,IAAA,GAAA,OAAA;AACA;AACA;AAvCA;AARA,CAAA","sourcesContent":["<template>\n  <a-table :columns=\"columnsInfo\" :dataSource=\"data\" :pagination=\"false\">\n    <template\n      v-for=\"col in ['name', 'qc', 'remark', 'file']\"\n      :slot=\"col\"\n      slot-scope=\"text, record, index\"\n    >\n      <div :key=\"col\">\n        <a-input\n          v-if=\"record.editable\"\n          style=\"margin: -5px 0\"\n          :value=\"text\"\n          @change=\"e => handleChange(e.target.value, record.key, col)\"\n        />\n        <template v-else>{{text}}</template>\n      </div>\n    </template>\n    <template slot=\"operation\" slot-scope=\"text, record, index\">\n      <div class=\"editable-row-operations\">\n        <span v-if=\"record.editable\">\n          <a @click=\"() => save(record.key)\">保存</a>\n          <a @click=\"() => cancel(record.key)\">取消</a>\n        </span>\n        <span v-else>\n          <a @click=\"() => edit(record.key)\">编辑</a>\n        </span>\n      </div>\n    </template>\n  </a-table>\n</template>\n<script>\nimport { columnsInfo } from '../basic_lib/column.js'\n\nconst data = []\nfor (let i = 0; i < 2; i++) {\n  data.push({\n    key: i.toString(),\n    name: `Edrward ${i}`,\n    remark: 32,\n    qc: `London Park no. ${i}`,\n    file: `London Park no. ${i}`\n  })\n}\n\nexport default {\n  data() {\n    this.cacheData = data.map(item => ({ ...item }))\n    return {\n      data,\n      columnsInfo\n    }\n  },\n  methods: {\n    handleChange(value, key, column) {\n      const newData = [...this.data]\n      const target = newData.filter(item => key === item.key)[0]\n      console.log(target)\n      if (target) {\n        target[column] = value\n        this.data = newData\n        console.log(this.data)\n      }\n    },\n    edit(key) {\n      const newData = [...this.data]\n      const target = newData.filter(item => key === item.key)[0]\n      if (target) {\n        target.editable = true\n        this.data = newData\n      }\n    },\n    save(key) {\n      const newData = [...this.data]\n      const target = newData.filter(item => key === item.key)[0]\n      if (target) {\n        delete target.editable\n        this.data = newData\n        this.cacheData = newData.map(item => ({ ...item }))\n      }\n    },\n    cancel(key) {\n      const newData = [...this.data]\n      const target = newData.filter(item => key === item.key)[0]\n      if (target) {\n        Object.assign(\n          target,\n          this.cacheData.filter(item => key === item.key)[0]\n        )\n        delete target.editable\n        this.data = newData\n      }\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.editable-row-operations a {\n  margin-right: 8px;\n}\n</style>\n"],"sourceRoot":"src/views/product/craft/craftLine/child_info"}]}