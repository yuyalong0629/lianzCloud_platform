{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/category/basic_lib/index.js","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/category/basic_lib/index.js","mtime":1558061880113},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport api from '@/api/index.js';\nimport { get, postJson, deleted, put } from '@/api/axios.js';\n/**\n * @description: 产品分类初始化数据\n * @param {currentPage} 页数\n * @param {pageSize}  每页显示数据条数\n * @return getCategoryTree\n */\n// export function getCategoryTree(currentPage = 1, pageSize = 15) {\n//   this.loading = true\n//   return get(api.categoryTree + currentPage + '/' + pageSize)\n//     .then(res => {\n//       const getList = res.data.data\n//       if (res.data.code === 0) {\n//         this.loading = false\n//         this.pagination.total = Number(getList.total)\n//         this.data = []\n//         getList.records.forEach(item => {\n//           this.data.push({\n//             id: item.id,\n//             name: item.name,\n//             code: item.code,\n//             remark: item.remark,\n//             childrens: item.childrens === null ? '' : item.childrens\n//           })\n//         })\n//         console.log(this.data)\n//       }\n//     })\n//     .catch(err => {\n//       console.log(err)\n//       this.loading = false\n//     })\n// }\n\n/**\n * @description: 获取客户分类所有客户\n * @param {type}\n * @return getListCompanyCusts\n */\n\nexport function getListCompanyCusts() {\n  var _this = this;\n\n  return get(api.listCompanyCusts).then(function (res) {\n    var getListCust = res.data;\n\n    if (getListCust.code === 0) {\n      _this.selectOptions = [];\n      getListCust.data.records.forEach(function (item) {\n        _this.selectOptions.push({\n          'name': item.custShortName,\n          'custId': item.id\n        });\n      });\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 产品分类获取客户分类所有上级分类\n * @param {custId} 客户ID\n * @return getCustList\n */\n\nexport function getCustList(id) {\n  var _this2 = this;\n\n  return get(api.categoryCustList, {\n    custId: id\n  }).then(function (res) {\n    var custlist = res.data.data;\n    console.log(custlist);\n\n    if (res.data.code === 0) {\n      _this2.options = custlist;\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 获取公司分类所有商品分类\n * @param {type}\n * @return getGoodsList\n */\n\nexport function getGoodsList() {\n  var _this3 = this;\n\n  this.loading = true;\n  return get(api.categoryList).then(function (res) {\n    if (res.data.code === 0) {\n      // this.options = goodlist\n      _this3.loading = false;\n      console.log(res.data.data);\n      _this3.data = [];\n      res.data.data.forEach(function (item) {\n        _this3.data.push({\n          id: item.id,\n          name: item.name,\n          code: item.code,\n          createTime: item.createTime,\n          remark: item.remark,\n          childrens: item.childrens === null ? '' : item.childrens\n        });\n      });\n      console.log(_this3.data);\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 添加商品分类表单提交\n * @param {params} 表单字段\n * @return postCategoryAdd\n */\n\nexport function postCategoryAdd(params) {\n  var _this4 = this;\n\n  return postJson(api.categoryAdd, params).then(function (res) {\n    if (res.data.code === 0) {\n      console.log(res);\n\n      _this4.$message.success('添加成功');\n\n      _this4.$emit('isVisible', false);\n\n      return false;\n    }\n\n    _this4.$message.error(res.data.msg);\n\n    _this4.$emit('isVisible', true);\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 产品分类Tab列表点击查看详情\n * @param {type}\n * @return: getCategoryDetail\n */\n\nexport function getCategoryDetail(catId) {\n  var _this5 = this;\n\n  return get(api.viewCategory + catId).then(function (res) {\n    console.log(res.data);\n\n    if (res.data.code === 0) {\n      var viewCategoryInfo = {\n        id: res.data.data.id,\n        code: res.data.data.code,\n        custId: res.data.data.custId,\n        parentClassname: res.data.data.pcat ? res.data.data.pcat.name : '无上级分类',\n        name: res.data.data.name,\n        pid: res.data.data.pid,\n        remark: res.data.data.remark\n      };\n      _this5.viewCategoryInfo = viewCategoryInfo;\n      console.log(_this5.viewCategoryInfo);\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n} // 详情回填\n\n/**\n * @description: 产品分类详情回填显示\n * @param {categoryCustomer} 所属客户\n * @param {categoryClassName} 分类名称\n * @param {categorySuperiorNO} 上级分类\n * @param {categoryRemarks} 备注信息\n * @return: detailInfoShow\n */\n\nexport function detailInfoShow(categoryRemarks, categoryClassName, categoryCustomer, categorySuperiorNO) {\n  return this.cateGoryInfo.setFieldsValue({\n    categoryRemarks: categoryRemarks || '无',\n    categoryClassName: categoryClassName,\n    categoryCustomer: categoryCustomer,\n    categorySuperiorNO: categorySuperiorNO\n  });\n}\n/**\n * @description: table产品分类删除操作\n * @param {type}\n * @return removeCategory\n */\n\nexport function deleteCategory(params) {\n  var _this6 = this;\n\n  return deleted(api.categoryRemove + \"?cids=\".concat(params)).then(function (res) {\n    if (res.data.code === 0) {\n      _this6.loading = false;\n\n      _this6.$message.success('删除成功');\n\n      _this6.isVisible = false;\n\n      _this6.$emit('isVisible', _this6.isVisible);\n\n      return false;\n    }\n\n    if (res.data.code === 1) {\n      _this6.loading = false;\n      _this6.isVisible = true;\n\n      _this6.$emit('isVisible', _this6.isVisible);\n\n      _this6.$message.error(res.data.msg);\n\n      return false;\n    }\n  }).catch(function (err) {\n    console.log(err);\n\n    _this6.$message.error('请求错误');\n\n    _this6.loading = false;\n  });\n}\n/**\n * @description: 产品列表详情页编辑保存\n * @param {params} form\n * @return: onSave\n */\n\nexport function onSave(params) {\n  var _this7 = this;\n\n  return put(api.categorySave, params).then(function (res) {\n    console.log(res);\n\n    if (res.data.code === 0) {\n      _this7.loading = false;\n\n      _this7.$message.success('修改成功');\n\n      _this7.isVisible = false;\n\n      _this7.$emit('isVisible', _this7.isVisible);\n\n      return false;\n    }\n\n    _this7.loading = false;\n    _this7.isVisible = true;\n\n    _this7.$emit('isVisible', _this7.isVisible);\n\n    _this7.$message.error(res.data.msg);\n  }).catch(function (err) {\n    console.log(err);\n  });\n}",{"version":3,"sources":["/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/category/basic_lib/index.js"],"names":["api","get","postJson","deleted","put","getListCompanyCusts","listCompanyCusts","then","res","getListCust","data","code","selectOptions","records","forEach","item","push","custShortName","id","catch","err","console","log","getCustList","categoryCustList","custId","custlist","options","getGoodsList","loading","categoryList","name","createTime","remark","childrens","postCategoryAdd","params","categoryAdd","$message","success","$emit","error","msg","getCategoryDetail","catId","viewCategory","viewCategoryInfo","parentClassname","pcat","pid","detailInfoShow","categoryRemarks","categoryClassName","categoryCustomer","categorySuperiorNO","cateGoryInfo","setFieldsValue","deleteCategory","categoryRemove","isVisible","onSave","categorySave"],"mappings":"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","sourcesContent":["import api from '@/api/index.js'\nimport { get, postJson, deleted, put } from '@/api/axios.js'\n\n/**\n * @description: 产品分类初始化数据\n * @param {currentPage} 页数\n * @param {pageSize}  每页显示数据条数\n * @return getCategoryTree\n */\n// export function getCategoryTree(currentPage = 1, pageSize = 15) {\n//   this.loading = true\n//   return get(api.categoryTree + currentPage + '/' + pageSize)\n//     .then(res => {\n//       const getList = res.data.data\n//       if (res.data.code === 0) {\n//         this.loading = false\n//         this.pagination.total = Number(getList.total)\n//         this.data = []\n//         getList.records.forEach(item => {\n//           this.data.push({\n//             id: item.id,\n//             name: item.name,\n//             code: item.code,\n//             remark: item.remark,\n//             childrens: item.childrens === null ? '' : item.childrens\n//           })\n//         })\n//         console.log(this.data)\n//       }\n//     })\n//     .catch(err => {\n//       console.log(err)\n//       this.loading = false\n//     })\n// }\n\n/**\n * @description: 获取客户分类所有客户\n * @param {type}\n * @return getListCompanyCusts\n */\nexport function getListCompanyCusts() {\n  return get(api.listCompanyCusts).then(res => {\n    const getListCust = res.data\n    if (getListCust.code === 0) {\n      this.selectOptions = []\n      getListCust.data.records.forEach(item => {\n        this.selectOptions.push({\n          'name': item.custShortName,\n          'custId': item.id\n        })\n      })\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 产品分类获取客户分类所有上级分类\n * @param {custId} 客户ID\n * @return getCustList\n */\nexport function getCustList(id) {\n  return get(api.categoryCustList, { custId: id }).then(res => {\n    const custlist = res.data.data\n    console.log(custlist)\n    if (res.data.code === 0) {\n      this.options = custlist\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 获取公司分类所有商品分类\n * @param {type}\n * @return getGoodsList\n */\nexport function getGoodsList() {\n  this.loading = true\n  return get(api.categoryList).then(res => {\n    if (res.data.code === 0) {\n      // this.options = goodlist\n      this.loading = false\n      console.log(res.data.data)\n      this.data = []\n      res.data.data.forEach(item => {\n        this.data.push({\n          id: item.id,\n          name: item.name,\n          code: item.code,\n          createTime: item.createTime,\n          remark: item.remark,\n          childrens: item.childrens === null ? '' : item.childrens\n        })\n      })\n      console.log(this.data)\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 添加商品分类表单提交\n * @param {params} 表单字段\n * @return postCategoryAdd\n */\nexport function postCategoryAdd(params) {\n  return postJson(api.categoryAdd, params).then(res => {\n    if (res.data.code === 0) {\n      console.log(res)\n      this.$message.success('添加成功')\n      this.$emit('isVisible', false)\n      return false\n    }\n    this.$message.error(res.data.msg)\n    this.$emit('isVisible', true)\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 产品分类Tab列表点击查看详情\n * @param {type}\n * @return: getCategoryDetail\n */\nexport function getCategoryDetail(catId) {\n  return get(api.viewCategory + catId).then(res => {\n    console.log(res.data)\n    if (res.data.code === 0) {\n      const viewCategoryInfo = {\n        id: res.data.data.id,\n        code: res.data.data.code,\n        custId: res.data.data.custId,\n        parentClassname: res.data.data.pcat ? res.data.data.pcat.name : '无上级分类',\n        name: res.data.data.name,\n        pid: res.data.data.pid,\n        remark: res.data.data.remark\n      }\n      this.viewCategoryInfo = viewCategoryInfo\n      console.log(this.viewCategoryInfo)\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n// 详情回填\n/**\n * @description: 产品分类详情回填显示\n * @param {categoryCustomer} 所属客户\n * @param {categoryClassName} 分类名称\n * @param {categorySuperiorNO} 上级分类\n * @param {categoryRemarks} 备注信息\n * @return: detailInfoShow\n */\nexport function detailInfoShow(categoryRemarks, categoryClassName, categoryCustomer, categorySuperiorNO) {\n  return this.cateGoryInfo.setFieldsValue({\n    categoryRemarks: categoryRemarks || '无',\n    categoryClassName: categoryClassName,\n    categoryCustomer: categoryCustomer,\n    categorySuperiorNO: categorySuperiorNO\n  })\n}\n\n/**\n * @description: table产品分类删除操作\n * @param {type}\n * @return removeCategory\n */\nexport function deleteCategory(params) {\n  return deleted(api.categoryRemove + `?cids=${params}`).then((res) => {\n    if (res.data.code === 0) {\n      this.loading = false\n      this.$message.success('删除成功')\n      this.isVisible = false\n      this.$emit('isVisible', this.isVisible)\n      return false\n    }\n    if (res.data.code === 1) {\n      this.loading = false\n      this.isVisible = true\n      this.$emit('isVisible', this.isVisible)\n      this.$message.error(res.data.msg)\n      return false\n    }\n  }).catch((err) => {\n    console.log(err)\n    this.$message.error('请求错误')\n    this.loading = false\n  })\n}\n\n/**\n * @description: 产品列表详情页编辑保存\n * @param {params} form\n * @return: onSave\n */\nexport function onSave(params) {\n  return put(api.categorySave, params).then(res => {\n    console.log(res)\n    if (res.data.code === 0) {\n      this.loading = false\n      this.$message.success('修改成功')\n      this.isVisible = false\n      this.$emit('isVisible', this.isVisible)\n      return false\n    }\n    this.loading = false\n    this.isVisible = true\n    this.$emit('isVisible', this.isVisible)\n    this.$message.error(res.data.msg)\n  }).catch(err => {\n    console.log(err)\n  })\n}\n"]}]}