{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/goods/Goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/goods/Goods.vue","mtime":1556588326435},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getGoodsTree, searchGoods, getTabHeader, getGoodsViews } from './goods.js';\nimport GoodsInfo from './GoodsInfo';\nexport default {\n  name: 'goods',\n  data: function data() {\n    return {\n      scrollLen: {\n        x: 500\n      },\n      title: '产品信息',\n      pagination: {},\n      // table\n      tabData: [],\n      columns: [{\n        title: '产品编码',\n        dataIndex: 'code',\n        key: 'code',\n        width: 106,\n        fixed: 'left'\n      }, {\n        title: '上下架',\n        dataIndex: 'saleStatus',\n        key: 'saleStatus',\n        width: 106,\n        fixed: 'left'\n      }, {\n        title: '产品名称',\n        dataIndex: 'name',\n        key: 'name',\n        width: 106,\n        scopedSlots: {\n          customRender: 'name'\n        },\n        fixed: 'left'\n      }, {\n        title: '规格',\n        dataIndex: 'spec',\n        key: 'spec',\n        width: 106,\n        fixed: 'left'\n      }, {\n        title: '单位',\n        dataIndex: 'nuit',\n        key: 'nuit',\n        width: 106,\n        fixed: 'left'\n      }, {\n        title: '客户编码',\n        dataIndex: 'customCode',\n        key: 'customCode',\n        width: 106\n      }, {\n        title: '价格',\n        dataIndex: 'price',\n        key: 'price',\n        width: 106\n      }, {\n        title: '时间',\n        key: 'creatTime',\n        width: 106,\n        dataIndex: 'creatTime',\n        fixed: 'right'\n      }],\n      loading: false,\n      visible: false,\n      treeData: [],\n      addCloumn: [],\n      isCatId: '',\n      isCustId: '',\n      addGoodsId: '',\n      // Goods详情\n      setGoodsViews: {},\n      isEdit: false\n    };\n  },\n  created: function created() {\n    getGoodsTree.call(this);\n  },\n  mounted: function mounted() {// 初始化客户信息\n    // showCustomersPage.call(this)\n  },\n  methods: {\n    // tree\n    onSelect: function onSelect(selectedKeys, info) {\n      var _this = this;\n\n      console.log(info.node.dataRef.custundefined);\n      this.isCustId = info.node.dataRef.custundefined === null ? '0' : info.node.dataRef.custundefined; // 判断是否存在字母\n\n      var isLetter = /[a-z]/i;\n\n      if (!isLetter.test(selectedKeys[0])) {\n        console.log(selectedKeys);\n        var params = {\n          catIds: selectedKeys,\n          pageNo: '1',\n          pageSize: '999'\n        };\n        this.isCatId = selectedKeys[0];\n        getTabHeader.call(this, {\n          catId: selectedKeys[0]\n        }).then(function () {\n          searchGoods.call(_this, params);\n        });\n      }\n    },\n    onExpand: function onExpand() {\n      console.log('Trigger Expand');\n    },\n    onDeleteProgoods: function onDeleteProgoods() {},\n    showDrawer: function showDrawer() {\n      if (this.isCatId !== '') {\n        this.visible = true;\n        this.isEdit = false;\n        return false;\n      }\n\n      this.$message.error('请先选择分类');\n    },\n    onClose: function onClose() {\n      this.visible = false;\n    },\n    // $emit改变isvisible\n    isVisible: function isVisible(_isVisible) {\n      this.visible = _isVisible;\n    },\n    // 商品详情\n    onHanldeGoodsInfo: function onHanldeGoodsInfo(record) {\n      console.log(record);\n      getGoodsViews.call(this, record.key);\n      this.visible = true;\n      this.isEdit = true;\n    }\n  },\n  components: {\n    GoodsInfo: GoodsInfo\n  }\n};",{"version":3,"sources":["Goods.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"goods\">\n    <!-- 产品列表选择区 -->\n    <div class=\"goods-add\">\n      <a-button type=\"primary\" @click=\"showDrawer\">\n        <a-icon type=\"plus\"/>新建\n      </a-button>\n      <!-- 弹出层 -->\n      <a-drawer\n        :title=\"title\"\n        placement=\"right\"\n        :closable=\"false\"\n        :width=\"1080\"\n        @close=\"onClose\"\n        :visible=\"visible\"\n        :wrapStyle=\"{height: 'calc(100% - 108px)',overflow: 'auto',paddingBottom: '108px'}\"\n      >\n        <GoodsInfo @isVisible=\"isVisible\" :setGoodsViews=\"setGoodsViews\" :isCatId=\"isCatId\" :isEdit=\"isEdit\" :isCustId=\"isCustId\"></GoodsInfo>\n      </a-drawer>\n    </div>\n    <!-- 产品分类 -->\n    <div class=\"goods-tab\">\n      <!-- Tree -->\n      <div class=\"goods-tree\">\n        <a-directory-tree @expand=\"onExpand\" @select=\"onSelect\" :treeData=\"treeData\"/>\n      </div>\n      <!-- Table -->\n      <div class=\"goods-list\">\n        <a-table class=\"goods-list\" :pagination=\"pagination\" :columns=\"columns\" :dataSource=\"tabData\" :scroll=\"scrollLen\">\n          <a slot=\"name\" slot-scope=\"text, record\" href=\"javascript:;\" @click=\"onHanldeGoodsInfo(record)\">{{ text }}</a>\n        </a-table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getGoodsTree, searchGoods, getTabHeader, getGoodsViews } from './goods.js'\nimport GoodsInfo from './GoodsInfo'\n\nexport default {\n  name: 'goods',\n  data() {\n    return {\n      scrollLen: { x: 500 },\n      title: '产品信息',\n      pagination: {},\n      // table\n      tabData: [],\n      columns: [\n        {\n          title: '产品编码',\n          dataIndex: 'code',\n          key: 'code',\n          width: 106,\n          fixed: 'left'\n        },\n        {\n          title: '上下架',\n          dataIndex: 'saleStatus',\n          key: 'saleStatus',\n          width: 106,\n          fixed: 'left'\n        },\n        {\n          title: '产品名称',\n          dataIndex: 'name',\n          key: 'name',\n          width: 106,\n          scopedSlots: { customRender: 'name' },\n          fixed: 'left'\n        },\n        {\n          title: '规格',\n          dataIndex: 'spec',\n          key: 'spec',\n          width: 106,\n          fixed: 'left'\n        },\n        {\n          title: '单位',\n          dataIndex: 'nuit',\n          key: 'nuit',\n          width: 106,\n          fixed: 'left'\n        },\n        {\n          title: '客户编码',\n          dataIndex: 'customCode',\n          key: 'customCode',\n          width: 106\n        },\n        {\n          title: '价格',\n          dataIndex: 'price',\n          key: 'price',\n          width: 106\n        },\n        {\n          title: '时间',\n          key: 'creatTime',\n          width: 106,\n          dataIndex: 'creatTime',\n          fixed: 'right'\n        }\n      ],\n      loading: false,\n      visible: false,\n      treeData: [],\n      addCloumn: [],\n      isCatId: '',\n      isCustId: '',\n      addGoodsId: '',\n      // Goods详情\n      setGoodsViews: {},\n      isEdit: false\n    }\n  },\n  created() {\n    getGoodsTree.call(this)\n  },\n  mounted() {\n    // 初始化客户信息\n    // showCustomersPage.call(this)\n  },\n  methods: {\n    // tree\n    onSelect(selectedKeys, info) {\n      console.log(info.node.dataRef.custundefined)\n      this.isCustId =\n        info.node.dataRef.custundefined === null\n          ? '0'\n          : info.node.dataRef.custundefined\n      // 判断是否存在字母\n      const isLetter = /[a-z]/i\n      if (!isLetter.test(selectedKeys[0])) {\n        console.log(selectedKeys)\n        const params = {\n          catIds: selectedKeys,\n          pageNo: '1',\n          pageSize: '999'\n        }\n        this.isCatId = selectedKeys[0]\n        getTabHeader.call(this, { catId: selectedKeys[0] }).then(() => {\n          searchGoods.call(this, params)\n        })\n      }\n    },\n    onExpand() {\n      console.log('Trigger Expand')\n    },\n    onDeleteProgoods() {},\n    showDrawer() {\n      if (this.isCatId !== '') {\n        this.visible = true\n        this.isEdit = false\n        return false\n      }\n      this.$message.error('请先选择分类')\n    },\n    onClose() {\n      this.visible = false\n    },\n    // $emit改变isvisible\n    isVisible(isVisible) {\n      this.visible = isVisible\n    },\n    // 商品详情\n    onHanldeGoodsInfo(record) {\n      console.log(record)\n      getGoodsViews.call(this, record.key)\n      this.visible = true\n      this.isEdit = true\n    }\n  },\n  components: {\n    GoodsInfo\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.goods {\n  .goods-add {\n    margin-bottom: 15px;\n  }\n  .goods-remove {\n    margin: 0 10px;\n  }\n  .goods-select-reset {\n    margin: 0 10px;\n  }\n  .goods-select {\n    margin: 16px 0;\n  }\n  .goods-tab {\n    display: flex;\n    .goods-tree {\n      border: 1px solid #eeeeee;\n      flex: 0 0 180px;\n      margin-right: 15px;\n    }\n    .goods-list {\n      flex: 1;\n      overflow: hidden;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/product/goods"}]}