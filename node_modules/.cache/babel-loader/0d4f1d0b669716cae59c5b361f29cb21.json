{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/pdm/goods/child_info/GoodsInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/views/product/pdm/goods/child_info/GoodsInfo.vue","mtime":1560909866879},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _Object$keys from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/core-js/object/keys\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _Promise from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/core-js/promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Bus from '@/Bus.js';\nimport { mixinBasic, mixinIsEdit } from '@/components/tools/mixin/mixin';\nimport TabTitle from '../other/TabTitle';\nimport TabMallInfo from './tab_mallInfo/TabMallInfo'; // 产品信息\n\nimport ProductInfoForm from './tab_goodsInfo/ProductInfoForm';\nimport CustInfoForm from './tab_goodsInfo/CustInfoForm';\nimport ClassAttrForm from './tab_goodsInfo/ClassAttrForm';\nimport SpringAttrForm from './tab_goodsInfo/SpringAttrForm';\nimport ProductUpload from '@/components/upload/Upload';\nimport CraftInfo from './tab_goodsInfo/craftInfo/CraftInfo';\nimport BomInfo from './tab_goodsInfo/bomInfo/BomInfo';\nimport SpriceInfo from './tab_goodsInfo/SpriceInfoForm'; // index\n\nimport { goodsSkuAdd } from '../basic_lib/index';\nexport default {\n  name: 'GoodsInfo',\n  mixins: [mixinBasic, mixinIsEdit],\n  data: function data() {\n    return {\n      isLabelColor: false,\n      getSpringType: false,\n      getClassType: false,\n      springVal: undefined,\n      classAttrVal: [],\n      infoData: {\n        // 工艺详情\n        craftInfoData: [],\n        // BOM详情\n        bomInfoData: []\n      },\n      // 产品详情data\n      skuData: {},\n      // Pic\n      pics: [],\n      // 客户详情\n      custInfo: {},\n      springInfo: {},\n      // 分类属性\n      attrVals: [],\n      // 工艺详情\n      crafts: [],\n      // BOM详情\n      materialsGroup: [],\n      // 价目表\n      priceAndInventorys: [],\n      sprice: '',\n      // 产品详情回显\n      skuInfoData: {},\n      classCatObjId: [],\n      // 客户详情回显\n      custInfoData: {},\n      custName: '',\n      // 弹簧属性回显\n      springInfoData: {},\n      // 产品图片回显\n      picInfoData: [],\n      // 分类属性回显\n      classAttrInfoData: [],\n      classCatId: '',\n      // 工艺详情回显\n      craftsInfoData: [],\n      // 原材料详情回西显\n      materialsGroupInfoData: [],\n      // 价目详情\n      spriceInfoData: [],\n      spriceInfoBasic: ''\n    };\n  },\n  props: {\n    goodsViewInfo: {\n      type: Object,\n      default: {}\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    // 编辑 || 取消\n    Bus.$on('isDisabled', function (val) {\n      // Input选中\n      console.log(val);\n      var edit = new _Promise(function (resolved) {\n        _this.disabled = !val;\n        _this.isLabelColor = !_this.isLabelColor;\n        resolved();\n      });\n      edit.then(function () {\n        if (_this.disabled) {\n          _this.setFormData();\n        }\n      });\n    });\n  },\n  destroyed: function destroyed() {\n    Bus.$off('isDisabled');\n  },\n  methods: {\n    // 公司上级分类\n    onChangeCategoryName: function onChangeCategoryName(value) {// console.log(value)\n    },\n    // 提交\n    onSubmit: function onSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      this.getFormData().then(function () {\n        var params = {\n          sku: _objectSpread({}, _this2.skuData, {\n            catId: _this2.skuData.catId ? _this2.skuData.catId.slice(-1).join('') : ''\n          }, _this2.price),\n          pics: _toConsumableArray(_this2.pics),\n          custInfo: _objectSpread({}, _this2.custInfo),\n          springInfo: _objectSpread({\n            springType: _this2.springVal\n          }, _this2.springInfo),\n          attrVals: _toConsumableArray(_this2.attrVals),\n          crafts: _toConsumableArray(_this2.crafts),\n          materialsGroup: _toConsumableArray(_this2.materialsGroup),\n          priceAndInventorys: _toConsumableArray(_this2.priceAndInventorys) // console.log(params)\n          // 添加商品列表\n\n        };\n        goodsSkuAdd(params);\n      });\n    },\n    // 保存修改\n    onSave: function onSave(e) {\n      e.preventDefault();\n    },\n    // 删除\n    isDelete: function isDelete(val) {},\n    // 子组件分类属性 $emit\n    classAttrInfo: function classAttrInfo(val) {\n      if (val.length) {\n        this.getClassType = true;\n        this.classAttrVal = val;\n        return;\n      }\n\n      this.getClassType = false;\n    },\n    // 子组件分类属性 接受data $emit\n    classData: function classData(val) {\n      // console.log(val)\n      this.attrVals = val;\n    },\n    // 弹簧种类 $emit\n    springType: function springType(val) {\n      // console.log(val)\n      if (val === undefined) {\n        this.getSpringType = false;\n        this.springVal = undefined;\n        return;\n      }\n\n      this.springVal = val;\n      this.getSpringType = true;\n    },\n    // Upload\n    propsFileList: function propsFileList(val) {\n      this.pics = val;\n    },\n    // 产品类别非0选中\n    changeSpringType: function changeSpringType(val) {\n      this.getSpringType = false; // console.log(val)\n    },\n    // 工艺详情Data\n    lineData: function lineData(val) {\n      var _this3 = this;\n\n      console.log(val);\n      this.infoData.craftInfoData = _toConsumableArray(val);\n      this.crafts = [];\n      this.infoData.craftInfoData.forEach(function (item, index) {\n        _this3.crafts.push({\n          defaultCraft: item.defaultCraft,\n          productCraftCode: item.code,\n          productCraftName: item.inputVal,\n          productCraftId: item.productCraftId\n        });\n      });\n      console.log(this.crafts);\n    },\n    // BOM详情\n    tabData: function tabData(val) {\n      var _this4 = this;\n\n      this.infoData.bomInfoData = _toConsumableArray(val); // console.log(this.infoData)\n\n      this.materialsGroup = [];\n      this.infoData.bomInfoData.forEach(function (item, index) {\n        _this4.materialsGroup.push({\n          bomType: item.isModalActive === 1 ? 'MAKE' : 'CRAFT',\n          defaultMaterials: item.defaultCraft,\n          groupName: item.inputVal,\n          materials: []\n        });\n\n        item.dataSource.forEach(function (cItem) {\n          _this4.materialsGroup[index].materials.push({\n            cost: cItem.dosage,\n            materialId: cItem.key\n          });\n        });\n      }); // console.log(this.materialsGroup)\n    },\n    // 价目表\n    spriceData: function spriceData(val) {\n      var _this5 = this;\n\n      // console.log(val)\n      this.priceAndInventorys = [];\n      val.forEach(function (item) {\n        _this5.priceAndInventorys.push(item);\n      });\n    },\n    basicSprice: function basicSprice(val) {\n      // console.log(val)\n      this.sprice = val;\n    },\n    // 产品详情子组件接受分类属性ID数组\n    classCatObj: function classCatObj(val) {\n      this.classCatObjId = val.id;\n    },\n    // FormData\n    getFormData: function () {\n      var _getFormData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this6 = this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // 产品详情FormData\n                this.$refs.goodsInfoForm.goodsInfoForm.validateFields(function (err, values) {\n                  if (!err) {\n                    // console.log(values)\n                    _this6.skuData = values;\n                  }\n                }); // 客户详情FormData\n\n                this.$refs.custInfoForm.custInfoForm.validateFields(function (err, values) {\n                  if (!err) {\n                    // console.log(values)\n                    _this6.custInfo = values;\n                  }\n                }); // 分类属性FormData\n\n                if (this.$refs.classAttrForm) {\n                  this.$refs.classAttrForm.classAttrInfoForm.validateFields(function (err, values) {\n                    if (!err) {// console.log(values)\n                    }\n                  });\n                } // 弹簧属性FormData\n\n\n                if (this.$refs.productAttrForm) {\n                  this.$refs.productAttrForm.productAttrForm.validateFields(function (err, values) {\n                    if (!err) {\n                      // console.log(values)\n                      _this6.springInfo = values;\n                    }\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getFormData() {\n        return _getFormData.apply(this, arguments);\n      }\n\n      return getFormData;\n    }(),\n    // Form详情\n    setFormData: function () {\n      var _setFormData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this$$refs$goodsInfo;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // 产品详情FormData\n                this.$refs.goodsInfoForm.goodsInfoForm.setFieldsValue((_this$$refs$goodsInfo = {\n                  catId: this.classCatObjId,\n                  name: this.skuInfoData.name,\n                  drawNum: this.skuInfoData.drawNum,\n                  drawVersion: this.skuInfoData.drawVersion,\n                  spec: this.skuInfoData.spec,\n                  unit: this.skuInfoData.unit\n                }, _defineProperty(_this$$refs$goodsInfo, \"unit\", this.skuInfoData.unit), _defineProperty(_this$$refs$goodsInfo, \"gateway\", this.skuInfoData.gateway), _defineProperty(_this$$refs$goodsInfo, \"standard\", this.skuInfoData.standard), _defineProperty(_this$$refs$goodsInfo, \"weight\", this.skuInfoData.weight), _defineProperty(_this$$refs$goodsInfo, \"remark\", this.skuInfoData.remark), _defineProperty(_this$$refs$goodsInfo, \"skuType\", this.skuInfoData.skuType), _this$$refs$goodsInfo)); // 客户详情FormData\n\n                this.$refs.custInfoForm.custInfoForm.setFieldsValue({\n                  custId: this.custInfoData.custId.split(),\n                  custDrawNum: this.custInfoData.custDrawNum,\n                  custDrawVersion: this.custInfoData.custDrawVersion,\n                  custSkuCode: this.custInfoData.custSkuCode,\n                  custMaterialNum: this.custInfoData.custMaterialNum,\n                  custMaterialName: this.custInfoData.custMaterialName,\n                  custCz: this.custInfoData.custCz,\n                  custBmcl: this.custInfoData.custBmcl,\n                  custSkuSpec: this.custInfoData.custSkuSpec,\n                  custRemark: this.custInfoData.custRemark\n                }); // 弹簧属性FormData\n\n                if (this.$refs.productAttrForm) {\n                  this.$refs.productAttrForm.productAttrForm.setFieldsValue({\n                    gcdj: this.springInfoData.gcdj,\n                    xj: this.springInfoData.xj,\n                    wj: this.springInfoData.wj,\n                    zygd: this.springInfoData.zygd,\n                    zqs: this.springInfoData.zqs,\n                    cz: this.springInfoData.cz,\n                    bmcl: this.springInfoData.bmcl,\n                    ybgd: this.springInfoData.ybgd,\n                    gzgd: this.springInfoData.gzgd,\n                    yxqs: this.springInfoData.yxqs,\n                    lz: this.springInfoData.lz,\n                    xx: this.springInfoData.xx,\n                    lxj: this.springInfoData.lxj,\n                    zkcd: this.springInfoData.zkcd,\n                    nj: this.springInfoData.nj,\n                    hd: this.springInfoData.hd,\n                    bs: this.springInfoData.bs,\n                    cs: this.springInfoData.cs,\n                    yl: this.springInfoData.yl,\n                    gd: this.springInfoData.gd,\n                    zdbxl: this.springInfoData.zdbxl,\n                    xrb: this.springInfoData.xrb\n                  });\n                }\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function setFormData() {\n        return _setFormData.apply(this, arguments);\n      }\n\n      return setFormData;\n    }()\n  },\n  watch: {\n    goodsViewInfo: {\n      handler: function handler(val) {\n        console.log(val);\n\n        if (_Object$keys(val).length) {\n          // sku\n          this.skuInfoData = val.sku; // cust\n\n          this.custInfoData = val.custInfo; // custName\n\n          this.custName = val.cust.custName; // spring\n\n          this.springInfoData = val.springInfo; // springType\n\n          this.springVal = val.springInfo.springType; // PIC\n\n          this.picInfoData = val.pics; // 分类属性\n\n          this.classAttrInfoData = val.attrVals;\n          this.classCatId = val.sku.catId; // 工艺详情\n\n          this.craftsInfoData = val.crafts; // 原材料\n\n          this.materialsGroupInfoData = val.materialsGroup; // 价目\n\n          this.spriceInfoData = val.priceAndInventorys; // 基础报价\n\n          this.spriceInfoBasic = val.sku.price.toString();\n          console.log(this.spriceInfoBasic);\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  components: {\n    'tab-title': TabTitle,\n    'tabMall-info': TabMallInfo,\n    'product-info': ProductInfoForm,\n    'cust-info': CustInfoForm,\n    'class-attr': ClassAttrForm,\n    'spring-attr': SpringAttrForm,\n    'product-upload': ProductUpload,\n    'craft-info': CraftInfo,\n    'bom-info': BomInfo,\n    'sprice-info': SpriceInfo\n  }\n};",{"version":3,"sources":["GoodsInfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"goods-info\">\n    <tab-title @isDelete=\"isDelete\">\n      <template v-slot:tabGoodsInfo>\n        <!-- 产品信息 -->\n        <a-row>\n          <a-col :span=\"24\">\n            <h3 class=\"categoryInfo-title\">产品详情</h3>\n          </a-col>\n          <a-col :span=\"24\">\n            <product-info \n              ref=\"goodsInfoForm\"\n              @springType=\"springType\"\n              @changeSpringType=\"changeSpringType\" \n              @classAttrInfo=\"classAttrInfo\" \n              @classCatObj=\"classCatObj\"\n              :skuInfoData=\"skuInfoData\" \n              :childDisabled=\"disabled\" \n              :springInfoType=\"springInfoData.springType\"\n            />\n          </a-col>\n          <a-col :span=\"24\">\n            <a-col :span=\"24\">\n              <h3 class=\"categoryInfo-title\">客户详情</h3>\n            </a-col>\n            <a-col :span=\"24\">\n              <cust-info \n                ref=\"custInfoForm\"\n                :custInfoData=\"custInfoData\"\n                :childDisabled=\"disabled\"\n                :custName=\"custName\"\n              />\n            </a-col>\n          </a-col>\n          <a-col :span=\"24\" v-if=\"getClassType || classAttrInfoData.length\">\n            <a-col :span=\"24\">\n              <h3 class=\"categoryInfo-title\">分类属性</h3>\n            </a-col>\n            <a-col :span=\"24\">\n              <class-attr \n                ref=\"classAttrForm\" \n                @classData=\"classData\" \n                :classAttrVal=\"classAttrVal\"\n                :childDisabled=\"disabled\"\n                :classAttrInfoData=\"classAttrInfoData\"\n                :classCatId=\"classCatId\"\n              />\n            </a-col>\n          </a-col>\n          <a-col :span=\"24\" v-if=\"getSpringType || springVal !== undefined\">\n            <a-col :span=\"24\">\n              <h3 class=\"categoryInfo-title\">弹簧属性</h3>\n            </a-col>\n            <a-col :span=\"24\">\n              <spring-attr\n                ref=\"productAttrForm\"\n                :springVal=\"springVal\"\n                :childDisabled=\"disabled\"\n                :springInfoData=\"springInfoData\"\n              />\n            </a-col>\n          </a-col>\n          <a-col :span=\"24\">\n            <a-col :span=\"24\">\n              <h3 class=\"categoryInfo-title\">产品图片</h3>\n            </a-col>\n            <a-col :span=\"24\">\n              <product-upload @propsFileList=\"propsFileList\" :picInfoData=\"picInfoData\"/>\n            </a-col>\n          </a-col>\n          <a-col :span=\"24\">\n            <a-col :span=\"24\">\n              <h3 class=\"categoryInfo-title\">工艺详情</h3>\n            </a-col>\n            <a-col :span=\"24\">\n              <craft-info @lineData=\"lineData\" :craftsInfoData=\"craftsInfoData\"/>\n            </a-col>\n          </a-col>\n          <a-col :span=\"24\">\n            <a-col :span=\"24\">\n              <h3 class=\"categoryInfo-title\">BOM详情</h3>\n            </a-col>\n            <a-col :span=\"24\">\n              <bom-info @tabData=\"tabData\" :materialsGroupInfoData=\"materialsGroupInfoData\"/>\n              </bo>\n            </a-col>\n          </a-col>\n          <a-col :span=\"24\">\n            <a-col :span=\"24\">\n              <h3 class=\"categoryInfo-title\">价目表</h3>\n            </a-col>\n            <a-col :span=\"24\">\n              <sprice-info\n                :infoData=\"infoData\"\n                @spriceData=\"spriceData\"\n                @basicSprice=\"basicSprice\"\n                :spriceInfoData=\"spriceInfoData\"\n                :craftsInfoData=\"craftsInfoData\"\n                :materialsGroupInfoData=\"materialsGroupInfoData\"\n                :spriceInfoBasic=\"spriceInfoBasic\"\n              />\n              </bo>\n            </a-col>\n          </a-col>\n        </a-row>\n      </template>\n      <template v-slot:tabMallAttr>\n        <tabMall-info/>\n      </template>\n    </tab-title>\n    <div\n      :style=\"{\n          position: 'absolute',\n          left: 0,\n          bottom: 0,\n          width: '100%',\n          borderTop: '1px solid #E9E9E9',\n          padding: '10px 16px',\n          background: '#FFF',\n          textAlign: 'right',\n        }\"\n    >\n      <a-button :style=\"{marginRight: '8px'}\" @click=\"onClose\">取消</a-button>\n      <a-button @click=\"onSubmit\" type=\"primary\" :loading=\"loading\" v-if=\"isEdit\">提交</a-button>\n      <a-button\n        @click=\"onSave\"\n        type=\"primary\"\n        :disabled=\"!disabled\"\n        :loading=\"loading\"\n        v-else=\"!isEdit\"\n      >保存</a-button>\n    </div>\n  </div>\n</template>\n<script>\nimport Bus from '@/Bus.js'\nimport { mixinBasic, mixinIsEdit } from '@/components/tools/mixin/mixin'\nimport TabTitle from '../other/TabTitle'\nimport TabMallInfo from './tab_mallInfo/TabMallInfo'\n// 产品信息\nimport ProductInfoForm from './tab_goodsInfo/ProductInfoForm'\nimport CustInfoForm from './tab_goodsInfo/CustInfoForm'\nimport ClassAttrForm from './tab_goodsInfo/ClassAttrForm'\nimport SpringAttrForm from './tab_goodsInfo/SpringAttrForm'\nimport ProductUpload from '@/components/upload/Upload'\nimport CraftInfo from './tab_goodsInfo/craftInfo/CraftInfo'\nimport BomInfo from './tab_goodsInfo/bomInfo/BomInfo'\nimport SpriceInfo from './tab_goodsInfo/SpriceInfoForm'\n// index\nimport { goodsSkuAdd } from '../basic_lib/index'\n\n\nexport default {\n  name: 'GoodsInfo',\n  mixins: [mixinBasic, mixinIsEdit],\n  data() {\n    return {\n      isLabelColor: false,\n      getSpringType: false,\n      getClassType: false,\n      springVal: undefined,\n      classAttrVal: [],\n      infoData: {\n        // 工艺详情\n        craftInfoData: [],\n        // BOM详情\n        bomInfoData: []\n      },\n      // 产品详情data\n      skuData: {},\n      // Pic\n      pics: [],\n      // 客户详情\n      custInfo: {},\n      springInfo: {},\n      // 分类属性\n      attrVals: [],\n      // 工艺详情\n      crafts: [],\n      // BOM详情\n      materialsGroup: [],\n      // 价目表\n      priceAndInventorys: [],\n      sprice: '',\n      // 产品详情回显\n      skuInfoData: {},\n      classCatObjId: [],\n      // 客户详情回显\n      custInfoData: {},\n      custName: '',\n      // 弹簧属性回显\n      springInfoData: {},\n      // 产品图片回显\n      picInfoData: [],\n      // 分类属性回显\n      classAttrInfoData: [],\n      classCatId: '',\n      // 工艺详情回显\n      craftsInfoData: [],\n      // 原材料详情回西显\n      materialsGroupInfoData: [],\n      // 价目详情\n      spriceInfoData: [],\n      spriceInfoBasic: ''\n    }\n  },\n  props: {\n    goodsViewInfo: {\n      type: Object,\n      default: {}\n    }\n  },\n  created() {\n    // 编辑 || 取消\n    Bus.$on('isDisabled', val => {\n      // Input选中\n      console.log(val)\n      const edit = new Promise(resolved => {\n        this.disabled = !val\n        this.isLabelColor = !this.isLabelColor\n        resolved()\n      })\n      edit.then(() => {\n        if (this.disabled) {\n          this.setFormData()\n        }\n      })\n    })\n  },\n  destroyed() {\n    Bus.$off('isDisabled')\n  },\n  methods: {\n    // 公司上级分类\n    onChangeCategoryName(value) {\n      // console.log(value)\n    },\n    // 提交\n    onSubmit(e) {\n      e.preventDefault()\n      this.getFormData().then(() => {\n        const params = {\n          sku: {\n            ...this.skuData,\n            catId: this.skuData.catId ? this.skuData.catId.slice(-1).join('') : '',\n            ...this.price\n          },\n          pics: [\n            ...this.pics\n          ],\n          custInfo: {\n            ...this.custInfo\n          },\n          springInfo: {\n            springType: this.springVal,\n            ...this.springInfo\n          },\n          attrVals: [\n            ...this.attrVals\n          ],\n          crafts: [\n            ...this.crafts\n          ],\n          materialsGroup: [\n            ...this.materialsGroup\n          ],\n          priceAndInventorys: [\n            ...this.priceAndInventorys\n          ]\n        }\n        // console.log(params)\n        // 添加商品列表\n        goodsSkuAdd(params)\n      })\n    },\n    // 保存修改\n    onSave(e) {\n      e.preventDefault()\n    },\n    // 删除\n    isDelete(val) {},\n    // 子组件分类属性 $emit\n    classAttrInfo(val) {\n      if (val.length) {\n        this.getClassType = true\n        this.classAttrVal = val\n        return\n      }\n      this.getClassType = false\n    },\n    // 子组件分类属性 接受data $emit\n    classData(val) {\n      // console.log(val)\n      this.attrVals = val\n    },\n    // 弹簧种类 $emit\n    springType(val) {\n      // console.log(val)\n      if (val === undefined) {\n        this.getSpringType = false\n        this.springVal = undefined\n        return\n      }\n      this.springVal = val\n      this.getSpringType = true\n    },\n    // Upload\n    propsFileList(val) {\n      this.pics = val\n    },\n    // 产品类别非0选中\n    changeSpringType(val) {\n      this.getSpringType = false\n      // console.log(val)\n    },\n    // 工艺详情Data\n    lineData(val) {\n      console.log(val)\n      this.infoData.craftInfoData = [...val]\n      this.crafts = []\n      this.infoData.craftInfoData.forEach((item, index) => {\n        this.crafts.push({\n          defaultCraft: item.defaultCraft,\n          productCraftCode: item.code,\n          productCraftName: item.inputVal,\n          productCraftId: item.productCraftId\n        })\n      })\n      console.log(this.crafts)\n    },\n    // BOM详情\n    tabData(val) {\n      this.infoData.bomInfoData = [...val]\n      // console.log(this.infoData)\n      this.materialsGroup = []\n      this.infoData.bomInfoData.forEach((item, index) => {\n        this.materialsGroup.push({\n          bomType: item.isModalActive === 1 ? 'MAKE' : 'CRAFT',\n          defaultMaterials: item.defaultCraft,\n          groupName: item.inputVal,\n          materials: []\n        })\n        item.dataSource.forEach(cItem => {\n          this.materialsGroup[index].materials.push({\n            cost: cItem.dosage,\n            materialId: cItem.key\n          })\n        })\n      })\n      // console.log(this.materialsGroup)\n    },\n    // 价目表\n    spriceData(val) {\n      // console.log(val)\n      this.priceAndInventorys = []\n      val.forEach(item => {\n        this.priceAndInventorys.push(item)\n      })\n    },\n    basicSprice(val) {\n      // console.log(val)\n      this.sprice = val\n    },\n    // 产品详情子组件接受分类属性ID数组\n    classCatObj(val) {\n      this.classCatObjId = val.id\n    },\n    // FormData\n    async getFormData() {\n      // 产品详情FormData\n      this.$refs.goodsInfoForm.goodsInfoForm.validateFields((err, values) => {\n        if (!err) {\n          // console.log(values)\n          this.skuData = values\n        }\n      })\n      // 客户详情FormData\n      this.$refs.custInfoForm.custInfoForm.validateFields((err, values) => {\n        if (!err) {\n          // console.log(values)\n          this.custInfo = values\n        }\n      })\n      // 分类属性FormData\n      if (this.$refs.classAttrForm) {\n        this.$refs.classAttrForm.classAttrInfoForm.validateFields(\n          (err, values) => {\n            if (!err) {\n              // console.log(values)\n            }\n          }\n        )\n      }\n      // 弹簧属性FormData\n      if (this.$refs.productAttrForm) {\n        this.$refs.productAttrForm.productAttrForm.validateFields(\n          (err, values) => {\n            if (!err) {\n              // console.log(values)\n              this.springInfo = values\n            }\n          }\n        )\n      }\n    },\n    // Form详情\n    async setFormData() {\n      // 产品详情FormData\n      this.$refs.goodsInfoForm.goodsInfoForm.setFieldsValue({\n        catId: this.classCatObjId,\n        name: this.skuInfoData.name,\n        drawNum: this.skuInfoData.drawNum,\n        drawVersion: this.skuInfoData.drawVersion,\n        spec: this.skuInfoData.spec,\n        unit: this.skuInfoData.unit,\n        unit: this.skuInfoData.unit,\n        gateway: this.skuInfoData.gateway,\n        standard: this.skuInfoData.standard,\n        weight: this.skuInfoData.weight,\n        remark: this.skuInfoData.remark,\n        skuType: this.skuInfoData.skuType\n      })\n       // 客户详情FormData\n      this.$refs.custInfoForm.custInfoForm.setFieldsValue({\n        custId: this.custInfoData.custId.split(),\n        custDrawNum: this.custInfoData.custDrawNum,\n        custDrawVersion: this.custInfoData.custDrawVersion,\n        custSkuCode: this.custInfoData.custSkuCode,\n        custMaterialNum: this.custInfoData.custMaterialNum,\n        custMaterialName: this.custInfoData.custMaterialName,\n        custCz: this.custInfoData.custCz,\n        custBmcl: this.custInfoData.custBmcl,\n        custSkuSpec: this.custInfoData.custSkuSpec,\n        custRemark: this.custInfoData.custRemark\n      })\n      // 弹簧属性FormData\n      if (this.$refs.productAttrForm) {\n        this.$refs.productAttrForm.productAttrForm.setFieldsValue({\n          gcdj: this.springInfoData.gcdj,\n          xj: this.springInfoData.xj,\n          wj: this.springInfoData.wj,\n          zygd: this.springInfoData.zygd,\n          zqs: this.springInfoData.zqs,\n          cz: this.springInfoData.cz,\n          bmcl: this.springInfoData.bmcl,\n          ybgd: this.springInfoData.ybgd,\n          gzgd: this.springInfoData.gzgd,\n          yxqs: this.springInfoData.yxqs,\n          lz: this.springInfoData.lz,\n          xx: this.springInfoData.xx,\n          lxj: this.springInfoData.lxj,\n          zkcd: this.springInfoData.zkcd,\n          nj: this.springInfoData.nj,\n          hd: this.springInfoData.hd,\n          bs: this.springInfoData.bs,\n          cs: this.springInfoData.cs,\n          yl: this.springInfoData.yl,\n          gd: this.springInfoData.gd,\n          zdbxl: this.springInfoData.zdbxl,\n          xrb: this.springInfoData.xrb\n        })\n      }\n    }\n  },\n  watch: {\n    goodsViewInfo: {\n      handler(val) {\n        console.log(val)\n        if (Object.keys(val).length) {\n          // sku\n          this.skuInfoData = val.sku\n          // cust\n          this.custInfoData = val.custInfo\n          // custName\n          this.custName = val.cust.custName\n          // spring\n          this.springInfoData = val.springInfo\n          // springType\n          this.springVal = val.springInfo.springType\n          // PIC\n          this.picInfoData = val.pics\n          // 分类属性\n          this.classAttrInfoData = val.attrVals\n          this.classCatId = val.sku.catId\n          // 工艺详情\n          this.craftsInfoData = val.crafts\n          // 原材料\n          this.materialsGroupInfoData = val.materialsGroup\n          // 价目\n          this.spriceInfoData = val.priceAndInventorys\n          // 基础报价\n          this.spriceInfoBasic = val.sku.price.toString()\n          console.log(this.spriceInfoBasic)\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  components: {\n    'tab-title': TabTitle,\n    'tabMall-info': TabMallInfo,\n    'product-info': ProductInfoForm,\n    'cust-info': CustInfoForm,\n    'class-attr': ClassAttrForm,\n    'spring-attr': SpringAttrForm,\n    'product-upload': ProductUpload,\n    'craft-info': CraftInfo,\n    'bom-info': BomInfo,\n    'sprice-info': SpriceInfo\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n@import '~styles/variable.less';\n\n.goods-info {\n  .categoryInfo-title {\n    margin: 15px 0;\n    .h3_title();\n  }\n  .labelColor {\n    /deep/ .ant-form-item-label label {\n      .labelColor();\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views/product/pdm/goods/child_info"}]}