{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/thread-loader/dist/cjs.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/product/pdm/goods/basic_lib/index.js","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/product/pdm/goods/basic_lib/index.js","mtime":1564127048146},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.function.name\";\nimport api from 'api/index';\nimport { postJson, get, deleted, put } from 'api/axios';\nimport Bus from '@/Bus.js';\n/**\n * @description: 成品列表商品搜索Tab列表\n * @param {Object} params [params]\n * @param {Number} currentPage [分页查询的第几页]\n * @param {Number} pageSize [分页查询每页多少条数据]\n * @param {Number} custId [搜索公司哪个客户定制的商品custId为0搜索的都是商家标准品custId>0搜索客户订制品]\n * @param {Array} keywords [关键词(产品名称，产品规格)]\n * @param {String} skuCode [产品编码]\n * @param {String} skuType [产品类别（弹簧、原材料、其他等）]\n * @param {String} catIds [商品所属分类]\n * @param {String} springType [弹簧类型]\n * @return: searchGoods\n */\n\nexport function searchGoods(_ref) {\n  var _this = this;\n\n  var _ref$pageSize = _ref.pageSize,\n      pageSize = _ref$pageSize === void 0 ? 15 : _ref$pageSize,\n      _ref$currentPage = _ref.currentPage,\n      currentPage = _ref$currentPage === void 0 ? 1 : _ref$currentPage,\n      _ref$custId = _ref.custId,\n      custId = _ref$custId === void 0 ? 0 : _ref$custId,\n      keywords = _ref.keywords,\n      skuCode = _ref.skuCode,\n      springType = _ref.springType;\n  this.loading = true;\n  return postJson(api.searchGoods, {\n    pageSize: pageSize,\n    currentPage: currentPage,\n    custId: custId,\n    keywords: keywords,\n    skuCode: skuCode,\n    springType: springType\n  }).then(function (res) {\n    if (res.data.code === 0) {\n      _this.loading = false;\n      _this.data = [];\n      _this.pagination.total = +res.data.data.total;\n      res.data.data.records.forEach(function (e) {\n        _this.data.push({\n          key: e.sku.id,\n          id: e.sku.id,\n          code: e.sku.code,\n          name: e.sku.name,\n          time: e.sku.createTime,\n          remark: e.sku.remark,\n          spec: e.sku.spec,\n          status: e.sku.status === 'NORMAL' ? '正常' : e.sku.status === 'NORMAL' ? '停用' : '禁用'\n        });\n      });\n      return;\n    }\n\n    _this.loading = false;\n  }).catch(function (err) {\n    console.log(err);\n    _this.loading = false;\n  });\n}\n/**\n * @description: 查看详情\n * @param {String} params [skuid]\n * @return: viewInfo\n */\n\nexport function getViewInfo(params) {\n  var _this2 = this;\n\n  return get(api.goodsView + \"?skuId=\".concat(params)).then(function (res) {\n    if (res.data.code === 0) {\n      // console.log(res.data.data)\n      _this2.goodsViewInfo = res.data.data;\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 产品编码模糊搜索\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\n\nexport function listCompanyGoodsCode(number) {\n  var _this3 = this;\n\n  return get(api.listCompanyGoodsCode + \"?currentPage=\".concat(number, \"&pageSize=10\")).then(function (res) {\n    var data = _this3.selectCodeData;\n\n    if (res.data.code === 0) {\n      _this3.selectCodeData = data.concat(res.data.data.records).filter(function (item) {\n        return item !== null;\n      }); // console.log(this.selectCodeData)\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 产品名称模糊搜索\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\n\nexport function listCompanyGoodsName(num) {\n  var _this4 = this;\n\n  return get(api.listCompanyGoodsName + \"?currentPage=\".concat(num, \"&pageSize=10\")).then(function (res) {\n    var data = _this4.selectData;\n\n    if (res.data.code === 0) {\n      _this4.selectData = data.concat(res.data.data.records).filter(function (item) {\n        return item !== null;\n      }); // console.log(this.selectData)\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 获取成品分类\n * @param {Objecg} null\n * @return: getGoodsClass\n */\n\nexport function getGoodsClass() {\n  var _this5 = this;\n\n  return get(api.categoryList).then(function (res) {\n    if (res.data.code === 0) {\n      _this5.options = res.data.data;\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 获取商品分类所有属性和可选项\n * @param {Object}  params [属性ID]\n * @return: getClassAttr\n */\n\nexport function getClassAttr(params) {\n  return get(api.catAllAttrAndOptions + '?catId=' + params).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 商家添加原材料\n * @param {Object} params [产品添加Obj]\n * @return: goodsMaterialAdd\n */\n\nexport function goodsSkuAdd(params) {\n  var _this6 = this;\n\n  return postJson(api.goodsSkuAdd, params).then(function (res) {\n    if (res.data.code === 0) {\n      _this6.loading = false;\n\n      _this6.$message.success('添加成功'); // this.$emit('isDrawer', false)\n\n\n      Bus.$emit('active', '3');\n      _this6.setSkuId = res.data.data.id;\n      return false;\n    }\n\n    _this6.$message.error(res.data.msg);\n\n    _this6.$emit('isDrawer', true);\n\n    _this6.loading = false;\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 渠道商商品删除\n * @param {params} 客户ID\n * @return: removeCustomer\n */\n\nexport function bomDelete(params) {\n  var _this7 = this;\n\n  return deleted(api.bomDelete + \"?skuIds=\".concat(params)).then(function (res) {\n    if (res.data.code === 0) {\n      _this7.loading = false;\n\n      _this7.$message.success('删除成功');\n\n      _this7.$emit('isDrawer', false);\n\n      return false;\n    }\n\n    _this7.loading = false;\n\n    _this7.$message.success(res.data.msg);\n\n    _this7.$emit('isDrawer', true);\n  }).catch(function (err) {\n    console.log(err);\n\n    _this7.$message.error('请求错误');\n\n    _this7.loading = false;\n  });\n}\n/**\n * @description: 商家修改产品\n * @param {Object} params [产品添加Obj]\n * @return: goodsMaterialAdd\n */\n\nexport function goodsSkuUpload(params) {\n  var _this8 = this;\n\n  return put(api.goodsUpdate, params).then(function (res) {\n    if (res.data.code === 0) {\n      _this8.loading = false;\n\n      _this8.$message.success('修改成功'); // this.$emit('isDrawer', false)\n\n\n      Bus.$emit('active', '3');\n      return false;\n    }\n\n    _this8.$message.error(res.data.msg);\n\n    _this8.$emit('isDrawer', true);\n\n    _this8.loading = false;\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 客户名称模糊搜索\n * @param {String} value [监听选中的值]\n * @param {Function} callback [回调]\n * @return: custNamefetch\n */\n\nvar timeout;\nvar currentValue;\nexport function goodsCodefetch(value, callback) {\n  if (timeout) {\n    clearTimeout(timeout);\n    timeout = null;\n  }\n\n  currentValue = value;\n  console.log(currentValue);\n\n  function fake() {\n    get(api.listCompanyGoodsCode + \"?code=\".concat(value, \"&currentPage=1&pageSize=50\")).then(function (res) {\n      console.log(res);\n\n      if (currentValue === value) {\n        var data = [];\n        data.push.apply(data, _toConsumableArray(res.data.data.records));\n        console.log(data);\n        callback(data);\n      }\n    });\n  }\n\n  timeout = setTimeout(fake, 300);\n}\n/**\n * @description: 产品名称模糊搜索\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\n\nexport function goodsNamefetch(value, callback) {\n  if (timeout) {\n    clearTimeout(timeout);\n    timeout = null;\n  }\n\n  currentValue = value; // console.log(currentValue)\n\n  function fake() {\n    get(api.listCompanyGoodsName + \"?name=\".concat(value, \"&currentPage=1&pageSize=50\")).then(function (res) {\n      // console.log(res)\n      if (currentValue === value) {\n        var data = [];\n        data.push.apply(data, _toConsumableArray(res.data.data.records)); // console.log(data)\n\n        callback(data);\n      }\n    });\n  }\n\n  timeout = setTimeout(fake, 300);\n}\n/**\n * @description: 商家修改产品\n * @param {Object} params [产品添加Obj]\n * @return: goodsMaterialAdd\n */\n\nexport function setBomAndCraft(params) {\n  var _this9 = this;\n\n  return put(api.setBomAndCraft, params).then(function (res) {\n    if (res.data.code === 0) {\n      _this9.loading = false;\n\n      _this9.$message.success('设置成功');\n\n      _this9.$emit('isDrawer', false);\n\n      return false;\n    }\n\n    _this9.$message.error(res.data.msg);\n\n    _this9.$emit('isDrawer', true);\n\n    _this9.loading = false;\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 产品材质信息\n * @param {string} SPRING_CZ\n * @return: custIndustry\n */\n\nexport function custIndustry() {\n  return get(api.custIndustry + 'SPRING_CZ');\n}\n/**\n * @description: 获取报价\n * @param {string} params [skuid]\n * @return: getBomAndCraftPrices\n */\n\nexport function getBomAndCraftPrices(params) {\n  return get(api.getBomAndCraftPrices + params);\n}\n/**\n * @description: 设置报价\n * @param {string} skuId [产品ID]\n * @param {string} price [基础报价]\n * @param {string} params [Body]\n * @return: postBomAndCraftPrices\n */\n\nexport function postBomAndCraftPrices(path, price, params) {\n  return postJson(api.getBomAndCraftPrices + path + \"?basePrice=\".concat(price), params);\n}",{"version":3,"sources":["/Users/yuyalong/myProjects/lianzhiyun/projects/web-projects/platform/src/views/product/pdm/goods/basic_lib/index.js"],"names":["api","postJson","get","deleted","put","Bus","searchGoods","pageSize","currentPage","custId","keywords","skuCode","springType","loading","then","res","data","code","pagination","total","records","forEach","e","push","key","sku","id","name","time","createTime","remark","spec","status","catch","err","console","log","getViewInfo","params","goodsView","goodsViewInfo","listCompanyGoodsCode","number","selectCodeData","concat","filter","item","listCompanyGoodsName","num","selectData","getGoodsClass","categoryList","options","getClassAttr","catAllAttrAndOptions","goodsSkuAdd","$message","success","$emit","setSkuId","error","msg","bomDelete","goodsSkuUpload","goodsUpdate","timeout","currentValue","goodsCodefetch","value","callback","clearTimeout","fake","setTimeout","goodsNamefetch","setBomAndCraft","custIndustry","getBomAndCraftPrices","postBomAndCraftPrices","path","price"],"mappings":"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","sourcesContent":["import api from 'api/index'\nimport { postJson, get, deleted, put } from 'api/axios'\nimport Bus from '@/Bus.js'\n\n/**\n * @description: 成品列表商品搜索Tab列表\n * @param {Object} params [params]\n * @param {Number} currentPage [分页查询的第几页]\n * @param {Number} pageSize [分页查询每页多少条数据]\n * @param {Number} custId [搜索公司哪个客户定制的商品custId为0搜索的都是商家标准品custId>0搜索客户订制品]\n * @param {Array} keywords [关键词(产品名称，产品规格)]\n * @param {String} skuCode [产品编码]\n * @param {String} skuType [产品类别（弹簧、原材料、其他等）]\n * @param {String} catIds [商品所属分类]\n * @param {String} springType [弹簧类型]\n * @return: searchGoods\n */\nexport function searchGoods({ pageSize = 15, currentPage = 1, custId = 0, keywords, skuCode, springType }) {\n  this.loading = true\n  return postJson(api.searchGoods, { pageSize, currentPage, custId, keywords, skuCode, springType }).then(res => {\n    if (res.data.code === 0) {\n      this.loading = false\n      this.data = []\n      this.pagination.total = +res.data.data.total\n      res.data.data.records.forEach(e => {\n        this.data.push({\n          key: e.sku.id,\n          id: e.sku.id,\n          code: e.sku.code,\n          name: e.sku.name,\n          time: e.sku.createTime,\n          remark: e.sku.remark,\n          spec: e.sku.spec,\n          status: e.sku.status === 'NORMAL' ? '正常' : (e.sku.status === 'NORMAL' ? '停用' : '禁用')\n        })\n      })\n      return\n    }\n    this.loading = false\n  }).catch(err => {\n    console.log(err)\n    this.loading = false\n  })\n}\n\n/**\n * @description: 查看详情\n * @param {String} params [skuid]\n * @return: viewInfo\n */\nexport function getViewInfo(params) {\n  return get(api.goodsView + `?skuId=${params}`).then(res => {\n    if (res.data.code === 0) {\n      // console.log(res.data.data)\n      this.goodsViewInfo = res.data.data\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 产品编码模糊搜索\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\nexport function listCompanyGoodsCode(number) {\n  return get(api.listCompanyGoodsCode + `?currentPage=${number}&pageSize=10`).then(res => {\n    const data = this.selectCodeData\n    if (res.data.code === 0) {\n      this.selectCodeData = data.concat(res.data.data.records).filter(item => {\n        return item !== null\n      })\n      // console.log(this.selectCodeData)\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 产品名称模糊搜索\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\nexport function listCompanyGoodsName(num) {\n  return get(api.listCompanyGoodsName + `?currentPage=${num}&pageSize=10`).then(res => {\n    const data = this.selectData\n    if (res.data.code === 0) {\n      this.selectData = data.concat(res.data.data.records).filter(item => {\n        return item !== null\n      })\n      // console.log(this.selectData)\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 获取成品分类\n * @param {Objecg} null\n * @return: getGoodsClass\n */\nexport function getGoodsClass() {\n  return get(api.categoryList).then(res => {\n    if (res.data.code === 0) {\n      this.options = res.data.data\n    }\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 获取商品分类所有属性和可选项\n * @param {Object}  params [属性ID]\n * @return: getClassAttr\n */\nexport function getClassAttr(params) {\n  return get(api.catAllAttrAndOptions + '?catId=' + params).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 商家添加原材料\n * @param {Object} params [产品添加Obj]\n * @return: goodsMaterialAdd\n */\nexport function goodsSkuAdd(params) {\n  return postJson(api.goodsSkuAdd, params).then(res => {\n    if (res.data.code === 0) {\n      this.loading = false\n      this.$message.success('添加成功')\n      // this.$emit('isDrawer', false)\n      Bus.$emit('active', '3')\n      this.setSkuId = res.data.data.id\n      return false\n    }\n    this.$message.error(res.data.msg)\n    this.$emit('isDrawer', true)\n    this.loading = false\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 渠道商商品删除\n * @param {params} 客户ID\n * @return: removeCustomer\n */\nexport function bomDelete(params) {\n  return deleted(api.bomDelete + `?skuIds=${params}`).then((res) => {\n    if (res.data.code === 0) {\n      this.loading = false\n      this.$message.success('删除成功')\n      this.$emit('isDrawer', false)\n      return false\n    }\n    this.loading = false\n    this.$message.success(res.data.msg)\n    this.$emit('isDrawer', true)\n  }).catch((err) => {\n    console.log(err)\n    this.$message.error('请求错误')\n    this.loading = false\n  })\n}\n\n/**\n * @description: 商家修改产品\n * @param {Object} params [产品添加Obj]\n * @return: goodsMaterialAdd\n */\nexport function goodsSkuUpload(params) {\n  return put(api.goodsUpdate, params).then(res => {\n    if (res.data.code === 0) {\n      this.loading = false\n      this.$message.success('修改成功')\n      // this.$emit('isDrawer', false)\n      Bus.$emit('active', '3')\n      return false\n    }\n    this.$message.error(res.data.msg)\n    this.$emit('isDrawer', true)\n    this.loading = false\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 客户名称模糊搜索\n * @param {String} value [监听选中的值]\n * @param {Function} callback [回调]\n * @return: custNamefetch\n */\nlet timeout\nlet currentValue\nexport function goodsCodefetch(value, callback) {\n  if (timeout) {\n    clearTimeout(timeout)\n    timeout = null\n  }\n  currentValue = value\n  console.log(currentValue)\n  function fake() {\n    get(api.listCompanyGoodsCode + `?code=${value}&currentPage=1&pageSize=50`)\n      .then((res) => {\n        console.log(res)\n        if (currentValue === value) {\n          const data = []\n          data.push(...res.data.data.records)\n          console.log(data)\n          callback(data)\n        }\n      })\n  }\n  timeout = setTimeout(fake, 300)\n}\n\n/**\n * @description: 产品名称模糊搜索\n * @param {Number} currentPage [页码]\n * @param {String} name [名称]\n * @param {Number} pageSize [每页条数]\n * @return: listCompanyGoodsName\n */\nexport function goodsNamefetch(value, callback) {\n  if (timeout) {\n    clearTimeout(timeout)\n    timeout = null\n  }\n  currentValue = value\n  // console.log(currentValue)\n  function fake() {\n    get(api.listCompanyGoodsName + `?name=${value}&currentPage=1&pageSize=50`)\n      .then((res) => {\n        // console.log(res)\n        if (currentValue === value) {\n          const data = []\n          data.push(...res.data.data.records)\n          // console.log(data)\n          callback(data)\n        }\n      })\n  }\n  timeout = setTimeout(fake, 300)\n}\n\n/**\n * @description: 商家修改产品\n * @param {Object} params [产品添加Obj]\n * @return: goodsMaterialAdd\n */\nexport function setBomAndCraft(params) {\n  return put(api.setBomAndCraft, params).then(res => {\n    if (res.data.code === 0) {\n      this.loading = false\n      this.$message.success('设置成功')\n      this.$emit('isDrawer', false)\n      return false\n    }\n    this.$message.error(res.data.msg)\n    this.$emit('isDrawer', true)\n    this.loading = false\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 产品材质信息\n * @param {string} SPRING_CZ\n * @return: custIndustry\n */\nexport function custIndustry() {\n  return get(api.custIndustry + 'SPRING_CZ')\n}\n\n/**\n * @description: 获取报价\n * @param {string} params [skuid]\n * @return: getBomAndCraftPrices\n */\nexport function getBomAndCraftPrices(params) {\n  return get(api.getBomAndCraftPrices + params)\n}\n\n/**\n * @description: 设置报价\n * @param {string} skuId [产品ID]\n * @param {string} price [基础报价]\n * @param {string} params [Body]\n * @return: postBomAndCraftPrices\n */\nexport function postBomAndCraftPrices(path, price, params) {\n  return postJson(api.getBomAndCraftPrices + path + `?basePrice=${price}`, params)\n}\n"]}]}