{"remainingRequest":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js!/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/components/menu/menu.js","dependencies":[{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/components/menu/menu.js","mtime":1557976411636},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Array$from from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/core-js/array/from\";\nimport _JSON$stringify from \"/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport { get } from 'api/axios.js';\nimport api from 'api/index.js';\nimport store from '@/store';\n/**\n * @description: Menu侧边导航数组数据\n * @param {null}\n * @return: setMenu\n */\n\nexport function setMenu() {\n  var _this = this;\n\n  return get(api.getNav).then(function (res) {\n    var mapObj = {\n      name: 'title',\n      id: 'key',\n      childrens: 'children' // 全局替换字段名\n\n    };\n    var conversion = JSON.parse(_JSON$stringify(res.data.data).replace(/name|id|childrens/gi, function (matched) {\n      return mapObj[matched];\n    }));\n    _this.menuData = _Array$from(conversion);\n    console.log(_this.menuData); // 点击菜单，收起其他展开的所有菜单，保持菜单聚焦简洁。\n\n    _this.rootSubmenuKeys = [];\n\n    _this.menuData.forEach(function (e) {\n      _this.rootSubmenuKeys.push(e.key);\n    });\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n/**\n * @description: 导航权限\n * @param {String} param [导航选中key值]\n * @return: defaultPermission\n */\n\nexport function defaultPermission(params) {\n  return get(api.navPermission, params).then(function (res) {\n    console.log(res.data.data.buttons);\n    store.dispatch('navPermission', res.data.data.buttons);\n  }).catch(function (err) {\n    console.log(err);\n  });\n}",{"version":3,"sources":["/Users/yuyalong/myProjects/lianzhiyun/projects/web-project/platform/src/components/menu/menu.js"],"names":["get","api","store","setMenu","getNav","then","res","mapObj","name","id","childrens","conversion","JSON","parse","data","replace","matched","menuData","console","log","rootSubmenuKeys","forEach","e","push","key","catch","err","defaultPermission","params","navPermission","buttons","dispatch"],"mappings":";;;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA;;;;;;AAKA,OAAO,SAASC,OAAT,GAAmB;AAAA;;AACxB,SAAOH,GAAG,CAACC,GAAG,CAACG,MAAL,CAAH,CAAgBC,IAAhB,CAAqB,UAAAC,GAAG,EAAI;AACjC,QAAMC,MAAM,GAAG;AACbC,MAAAA,IAAI,EAAE,OADO;AAEbC,MAAAA,EAAE,EAAE,KAFS;AAGbC,MAAAA,SAAS,EAAE,UAHE,CAKf;;AALe,KAAf;AAMA,QAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAW,gBAAeP,GAAG,CAACQ,IAAJ,CAASA,IAAxB,EAA8BC,OAA9B,CAAsC,qBAAtC,EAA6D,UAAUC,OAAV,EAAmB;AAC5G,aAAOT,MAAM,CAACS,OAAD,CAAb;AACD,KAF6B,CAAX,CAAnB;AAGA,IAAA,KAAI,CAACC,QAAL,GAAgB,YAAWN,UAAX,CAAhB;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACF,QAAjB,EAXiC,CAYjC;;AACA,IAAA,KAAI,CAACG,eAAL,GAAuB,EAAvB;;AACA,IAAA,KAAI,CAACH,QAAL,CAAcI,OAAd,CAAsB,UAAAC,CAAC,EAAI;AACzB,MAAA,KAAI,CAACF,eAAL,CAAqBG,IAArB,CAA0BD,CAAC,CAACE,GAA5B;AACD,KAFD;AAGD,GAjBM,EAiBJC,KAjBI,CAiBE,UAAAC,GAAG,EAAI;AACdR,IAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACD,GAnBM,CAAP;AAoBD;AAED;;;;;;AAKA,OAAO,SAASC,iBAAT,CAA2BC,MAA3B,EAAmC;AACxC,SAAO5B,GAAG,CAACC,GAAG,CAAC4B,aAAL,EAAoBD,MAApB,CAAH,CAA+BvB,IAA/B,CAAoC,UAAAC,GAAG,EAAI;AAChDY,IAAAA,OAAO,CAACC,GAAR,CAAYb,GAAG,CAACQ,IAAJ,CAASA,IAAT,CAAcgB,OAA1B;AACA5B,IAAAA,KAAK,CAAC6B,QAAN,CAAe,eAAf,EAAgCzB,GAAG,CAACQ,IAAJ,CAASA,IAAT,CAAcgB,OAA9C;AACD,GAHM,EAGJL,KAHI,CAGE,UAAAC,GAAG,EAAI;AACdR,IAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACD,GALM,CAAP;AAMD","sourcesContent":["import { get } from 'api/axios.js'\nimport api from 'api/index.js'\nimport store from '@/store'\n\n/**\n * @description: Menu侧边导航数组数据\n * @param {null}\n * @return: setMenu\n */\nexport function setMenu() {\n  return get(api.getNav).then(res => {\n    const mapObj = {\n      name: 'title',\n      id: 'key',\n      childrens: 'children'\n    }\n    // 全局替换字段名\n    const conversion = JSON.parse(JSON.stringify(res.data.data).replace(/name|id|childrens/gi, function (matched) {\n      return mapObj[matched]\n    }))\n    this.menuData = Array.from(conversion)\n    console.log(this.menuData)\n    // 点击菜单，收起其他展开的所有菜单，保持菜单聚焦简洁。\n    this.rootSubmenuKeys = []\n    this.menuData.forEach(e => {\n      this.rootSubmenuKeys.push(e.key)\n    })\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n/**\n * @description: 导航权限\n * @param {String} param [导航选中key值]\n * @return: defaultPermission\n */\nexport function defaultPermission(params) {\n  return get(api.navPermission, params).then(res => {\n    console.log(res.data.data.buttons)\n    store.dispatch('navPermission', res.data.data.buttons)\n  }).catch(err => {\n    console.log(err)\n  })\n}\n"]}]}